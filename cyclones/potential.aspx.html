

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>
	GDACS - Global Disaster Alert and Coordination System
</title><link href="../Content/bootstrap.min.css" rel="stylesheet"><link href="../Styles/gdacs_2.0.css" rel="stylesheet"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" media="(min-width: 768px) and (max-width: 991px)" href="../Styles/gdacs_device_2.0.css"><link rel="stylesheet" media="(max-width: 768px)" href="../Styles/gdacs_minidevice_2.0.css">
    <script type="text/javascript" src="../Scripts/jquery-3.6.4.min.js"></script>
    <script type="text/javascript" src="../Scripts/bootstrap.bundle.min.js"></script>
    <script src="https://europa.eu/webtools/load.js" type="text/javascript"></script>
    <script type="application/json">
    {
        "utility":"analytics",
        "siteID":"770a3ada-ebea-420b-923a-c6490acb21ab",
        "sitePath":["www.gdacs.org"],
        "instance":"ec",
        "mode":"manual"
    }
    </script>
	<script type="application/json">
	{
		"utility" : "cck",
		"url": {
			"en": "https://commission.europa.eu/cookies-policy_en",
			"de": "https://commission.europa.eu/cookies-policy_de"
		}
	}
	</script>
    
    <link rel="stylesheet" href="../scripts/openlayers/3.20.1/ol.css" type="text/css">
    <link rel="stylesheet" href="../scripts/openlayers/layerswitcher/ol3-layerswitcher.css">
    <link rel="stylesheet" href="../Styles/gdacs_mapstyle.css">
    <link href="../Content/Slick/slick.css" rel="stylesheet">
    <link href="../Content/Slick/slick-theme.css" rel="stylesheet">
    <link rel="stylesheet" href="../Content/all.css">
    <script type="text/javascript" src="../scripts/openlayers/3.20.1/ol.js"></script>
    <script type="text/javascript" src="../scripts/openlayers/layerswitcher/ol3-layerswitcher.js"></script>
    <script type="text/javascript" src="../Scripts/Slick/slick.min.js"></script>
    <link rel="stylesheet" href="../Styles/datatable.min.css">    
    <link rel="stylesheet" href="../Content/all.css">
    <script type="text/javascript" src="../Scripts/jquery.dataTables.min.js"></script>






  <style type="text/css">
        .navbar-header{color: #9bc1ce; background-color:#69A7C3; }
        .navbar-footer{color: #9bc1ce; background-color:transparent;border:none; border-bottom:none;border-color:transparent; }
        .navbar-report{color: #6d9baf; border-bottom:1px solid; border-color:#6d9baf;min-height: 40px;margin-bottom:15px}
        .navbar-light .navbar-nav .nav-link:focus, .navbar-light .navbar-nav .nav-link:hover{color: #ffffff; text-decoration: underline;}
        .navbar-light .navbar-nav .nav-link{color:#c5d5d8}
        .navbar-light .navbar-nav .show > .nav-link, .navbar-light .navbar-nav .active > .nav-link, .navbar-light .navbar-nav .nav-link.show, .navbar-light .navbar-nav .nav-link.active {background-color:transparent;text-decoration:underline;color:white;}
        .navbar-light .navbar-nav .show > .nav-link, .navbar-light .navbar-nav .activereport > .nav-link, .navbar-light .navbar-nav .nav-link.show, .navbar-light .navbar-nav .nav-link.activereport {background-color:transparent;text-decoration:underline;color:#125172;margin: 0px 20px 0 15px}
        .navbar-light .navbar-nav .show > .nav-link, .navbar-light .navbar-nav .report-link> .nav-link, .navbar-light .navbar-nav .nav-link.show, .navbar-light .navbar-nav .nav-link.report-link {color: #6d9baf;margin: 0px 20px 0 15px}
        .report-link {color: #6d9baf;}
        #footer_home {background-color:#125172;}

    </style>

   <script type="text/javascript">
       if ($wt.analytics.isTrackable()) {
           $wt.trackPageView();
       }
   </script>
    <link href="../Styles/gdacs_2.0_bootstrap4to5.css" rel="stylesheet">
        
<!-- Piwik 
   <script type="text/javascript">
       if ($wt.cookie.consent.is.choiceMade() && $wt.cookie.consent.is.allAccepted()) {
           var _paq = _paq || [];
               /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
                  _paq.push(['trackPageView']);
                  _paq.push(['enableLinkTracking']);
                  (function() {
                  var u="//stats.jrc.ec.europa.eu/";
                  _paq.push(['setTrackerUrl', u+'piwik.php']);
                  _paq.push(['setSiteId', '319']);
                  var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                  g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
                  })();
      }
   </script>
 End Piwik Code -->
</head>
<body>
    <div id="wrapper_anniversary">
            
            <div id="header" class="container-fluid">
            <div id="top_menu">
                                <style>
                    @media screen (min-width: 992px) {#main_alert_content .navbar-expand-lg {height:40px;}}
                </style>
                <div class="container">
                    <!--<div class="float-right gdacs_top_menu_content"><a href="https://www.gdacs.org/admin" target="_blank">admin</a></div>-->
                    <div class="float-end gdacs_top_menu_content"><a href="../gdacsregister.html" target="_blank">register/login</a></div>
                    <div class="float-end gdacs_top_menu_content"><a href="../About/contactus.aspx.html">contact us</a></div>
                    <div class="float-end gdacs_top_menu_content"><a href="../About/termofuse.aspx.html">term of use</a></div>

                </div>
            </div>
            <div id="heading" class="container">
                <div id="rowhead" class="row">
                    <div id="gd_logo" class="col-lg-3 gdacs_logo">
						<img id="gdacs_logo_image" src="../images/gdacs_logo_ecs_medium3.png">
					</div>
                    <div id="gd_statement" class="d-none d-lg-block col-lg-6 gdacs_statement"> GDACS is a cooperation framework between the United Nations, the European Commission and disaster managers worldwide to improve alerts, information exchange and coordination in the first phase after major sudden-onset disasters.</div>
                    <div id="gd_uneu" class="d-none d-lg-block col-lg-3 gdacs_uneu">
						<img src="../images/un_eu.png">
					</div>
                </div>
            </div>
            
        </div>
        <div id="nopadding" class="container">
            
            <div id="topmenu">
                <nav class="navbar navbar-expand-lg navbar-light navbar-header navbar-fixed-top">

                  <button class="navbar-toggler" style="font-size:18px; color:white; font-weight:bold" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon" style="color:white;"></span>
                      MENU
                  </button>
                  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                        <a class="nav-item nav-link active" href="../default.aspx.html">HOME</a>
                        <a class="nav-item nav-link" href="../Alerts/default.aspx.html">ALERTS</a>
                        <a class="nav-item nav-link" href="http://vosocc.unocha.org">VIRTUAL OSOCC</a>
                        <a class="nav-item nav-link" href="https://smcs.unosat.org/home" target="_blank">MAPS & SATELLITE IMAGERY</a>                      
                        <a class="nav-item nav-link" href="../Knowledge/overview.aspx.html">KNOWLEDGE</a>
                        <a class="nav-item nav-link" href="../About/overview.aspx.html">ABOUT</a>
                    </div>
                  </div>
                                                  <a class="nav-item nav-link" href="../anniversary.aspx.html" style="padding: 0 0 0 0">
                                <img src="../images/gdacs_20th/gdacs_20_banner.png" alt="Gdacs 20th Anniversary">
                            </a>
                </nav>
            </div>
    	    
            <div id="main_alert_content" class="col-lg-12">
                
                <form name="aspnetForm" method="post" action="./potential.aspx" id="aspnetForm">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="ulcxw+iHhE13q9TAIKwNTt1JzfiMbY3rqUDMmdsCzI8NtL3KFOTz9ViCME5NYC+Qrx4pk+1YBwJ0GxSc5BGxmhJBu+fVFmzdHvdgCxr1aVk=">

<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="7659782A">
                    
    <div id="main_content" class="container">
        <div class="row">
            <h2>Pilot: Disturbance / Potential Tropical Cyclone</h2>
            <div class="col-lg-12">
                <div id="map" class="main_home_map" style="max-width:100%;">

                </div>
                <div id="popup" class="ol-popup">
                    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                    <div id="popup-content"></div>
                </div>
                <div id="map_caption">
                    Map of disaster potential tropical cyclones. European Union, 2025. Map produced by EC-JRC.The designations employed and the presentation of material on the map do not imply the expression of any opinion whatsoever on the part of the European Union concerning the legal status of any country, territory or area or of its authorities, or concerning the delimitation of its frontiers or boundaries.
                    <br>
                    The data in json format can be downloaded here <div id="iconDownloadJson" style="display: inline;"><a href="../xml/potential/data_cyclone_in_former.json"><i class="fas fa-download"></i></a></div>. 
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="containerAlertList" class="row" style="margin-left: 0px; margin-right: 0px;padding-left: 0px;padding-right: 0px;">
                        <div id="mainListTc" class="col-12 main_alert">
							<div id="tableDetail"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var stepIndex = 4;
        var urlPotentialData = 'https://www.gdacs.org/xml/potential/data_cyclone_in_former.json';
        var urlPotentialDataMap = 'https://www.gdacs.org/xml/potential/cyclone_in_former.geojson';
        var contentPotentialData = '';
        var hTable = document.getElementById('tableDetail');
		var selection_Buffer;
        //refresh page automatically each 1 minute
        //function autoRefreshPage()
        //{
        //    window.location = window.location.href;
        //}
        //setInterval('autoRefreshPage()', 60000);


        function countRows(idSection) {
            var vis = $(idSection + ' .alert_item').last().index();
            return vis;
        }

        function showRows(idSection) {
            var vis = $(idSection + ' .alert_item:hidden').last().index();
            $(idSection + ' .alert_item:hidden').slice(0, stepIndex).slideDown();
        }

        function hideRows(idSection) {
            var vis = $(idSection + ' .alert_item:hidden').first().index();
            if (vis < 0)
                vis = $(idSection + ' .alert_item').last().index();
            if ((vis - stepIndex) > 6)
                $(idSection + ' .alert_item').slice(vis - stepIndex, vis + 1).slideUp();
            else
                $(idSection + ' .alert_item').slice(stepIndex + 1, vis + 1).slideUp();
        }

        function assignStyleLines(idSection) {
            var rowCount = $(idSection + ' .alert_item').length;
            $(idSection + ' .alert_item').each(function (index) {
                if (index > 0)
                    $(this).css("display", "none");
            });
            $(idSection + ' .alert_item').slice(0, stepIndex + 1).slideDown();

        }
        $(function () {

            var ntc = countRows("#mainListTc");
            $('#main_alert_content').css('min-height', '500px');
            var w = window.innerWidth;
            
        

            $(".news_slider").slick({
                dots: true,
                infinite: true,
                centerMode: false,
                slidesToShow: 4,
                slidesToScroll: 1,
                autoplay: true,
                autoplaySpeed: 3000,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 3,
                            infinite: true,
                            dots: true
                        }
                    },
                    {
                        breakpoint: 786,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 2
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }
                    // You can unslick at a given breakpoint now by adding:
                    // settings: "unslick"
                    // instead of a settings object
                ]
            });
            $(".maps_slider").slick({
                dots: true,
                infinite: true,
                centerMode: false,
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplay: true,
                autoplaySpeed: 3000,
                adaptiveHeight: true,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 3,
                            infinite: true,
                            dots: true,
                            innerHeight: 120
                        }
                    },
                    {
                        breakpoint: 786,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 2,
                            adaptiveHeight: 50,
                            innerHeight: 150
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            innerHeight: 180
                        }
                    }
                    // You can unslick at a given breakpoint now by adding:
                    // settings: "unslick"
                    // instead of a settings object
                ]

            });
            $(".slick-prev").hide();
            $(".slick-next").hide();
            $(".more_news").click(function () {
                var idNews = $(this).data("ref");
                $('#' + idNews).css("display", "none");
                $('#' + idNews + '_hidden').css("display", "block");
            });
            $(".less_news").click(function () {
                var idNews = $(this).data("ref");
                $('#' + idNews + '_hidden').css("display", "none");
                $('#' + idNews).css("display", "block");
            });

            loadContent();
		});



        //Color for Style
        var polygonColor = {
            'Poly_Red': [255, 0, 0, 0.3],
            'Poly_Orange': [255, 162, 0, 0.3],
            'Poly_Green': [68, 255, 0, 0.3],
            'Poly_White': [68, 255, 0, 0.2],
            'Poly_SMPInt_0': [102, 255, 102, 0.2],
            'Poly_SMPInt_0.5': [102, 255, 102, 0.2],
            'Poly_SMPInt_1': [102, 255, 102, 0.2],
            'Poly_SMPInt_1.5': [102, 255, 102, 0.2],
            'Poly_SMPInt_2': [102, 255, 102, 0.2],
            'Poly_SMPInt_2.5': [102, 255, 102, 0.2],
            'Poly_SMPInt_3': [204, 255, 255, 0.2],
            'Poly_SMPInt_3.5': [204, 255, 255, 0.2],
            'Poly_SMPInt_4': [153, 255, 204, 0.2],
            'Poly_SMPInt_4.5': [153, 255, 204, 0.2],
            'Poly_SMPInt_5': [204, 255, 102, 0.2],
            'Poly_SMPInt_5.5': [204, 255, 102, 0.2],
            'Poly_SMPInt_6': [255, 214, 102, 0.2],
            'Poly_SMPInt_6.5': [255, 214, 102, 0.2],
            'Poly_SMPInt_7': [255, 133, 51, 0.2],
            'Poly_SMPInt_7.5': [255, 133, 51, 0.2],
            'Poly_SMPInt_8': [255, 0, 0, 0.2],
            'Poly_SMPInt_8.5': [255, 0, 0, 0.2],
            'Poly_SMPInt_9': [153, 0, 0, 0.2],
            'Poly_SMPInt_9.5': [153, 0, 0, 0.2],
            'Poly_SMPInt_10': [91, 0, 0, 0.2],
            'Poly_SMPInt_10.5': [91, 0, 0, 0.2],
            'Poly_Circle': [253, 253, 253, 0.1],
            'Poly_Intensity': [253, 253, 253, 0.1],
            'Poly_Affected': [47, 183, 234, 0.5],
            'Poly_Global': [47, 183, 234, 0.5],
            'Poly_area': [191, 121, 52, 0.5],
            'Poly_Cones': [253, 253, 253, 0.1],
            'Poly_Cones_0': [78, 107, 124, 0.5],
            'Poly_Cones_6': [115, 157, 181, 0.4],
            'Poly_Cones_12': [141, 200, 233, 0.3],
            'Poly_Cones_18': [179, 226, 153, 0.2],
            'Poly_Epi_100': [158, 250, 253, 0.1],
            'Poly_Epi_150': [103, 182, 210, 0.1],
            'Poly_Epi_200': [51, 103, 181, 0.1],
            'Poly_Sum_100': [239, 217, 106, 0.1],
            'Poly_Sum_200': [239, 177, 106, 0.1],
            'Poly_Sum_300': [239, 111, 106, 0.1],
            'Poly_Sum_400': [239, 106, 186, 0.1],
            'Poly_Sum_500': [190, 106, 239, 0.1],
            'Line_SMPInt_0': [102, 255, 102, 0.8],
            'Line_SMPInt_1': [102, 255, 102, 0.8],
            'Line_SMPInt_2': [102, 255, 102, 0.8],
            'Line_SMPInt_3': [204, 255, 255, 0.8],
            'Line_SMPInt_3.5': [204, 255, 255, 0.8],
            'Line_SMPInt_4': [153, 255, 204, 0.8],
            'Line_SMPInt_4.5': [153, 255, 204, 0.8],
            'Line_SMPInt_5': [204, 255, 102, 0.8],
            'Line_SMPInt_5.5': [204, 255, 102, 0.8],
            'Line_SMPInt_6': [255, 214, 102, 0.8],
            'Line_SMPInt_6.5': [255, 214, 102, 0.8],
            'Line_SMPInt_7': [255, 133, 51, 0.8],
            'Line_SMPInt_7.5': [255, 133, 51, 0.8],
            'Line_SMPInt_8': [255, 0, 0, 0.8],
            'Line_SMPInt_8.5': [255, 0, 0, 0.8],
            'Line_SMPInt_9': [153, 0, 0, 0.8],
            'Line_SMPInt_9.5': [153, 0, 0, 0.8],
            'Line_SMPInt_10': [91, 0, 0, 0.8],
            'Line_SMPInt_10.5': [91, 0, 0, 0.8],
            'Line_Red': [209, 0, 0, 0.5],
            'Line_Orange': [209, 132, 0, 0.5],
            'Line_Green': [57, 213, 0, 0.5],
            'Line_White': [57, 213, 0, 0.5],
            'Line_Cones': [253, 253, 253, 0.3],
            'Line_Cones_0': [78, 107, 124, 0.8],
            'Line_Cones_6': [115, 157, 181, 0.8],
            'Line_Cones_12': [141, 200, 233, 0.8],
            'Line_Cones_18': [179, 226, 153, 0.8],
            'Line_Affected': [47, 183, 234, 1],
            'Line_Global': [47, 183, 234, 1],
            'Line_Track': [221, 245, 12, 1],
            'Point_Past': [155, 104, 1, 0.5],
            'Point_For': [199, 176, 27, 0.5],
            'Text_Fill': [255, 255, 255, 1],
            'Text_Out': [118, 118, 118, 1]
        };
        var zoomLevel = 0;
        var styleCache = {};
        var layerList = [];

        /**
        * Elements that make up the popup.
        */
        var container = document.getElementById('popup');
        var content = document.getElementById('popup-content');
        var closer = document.getElementById('popup-closer');

        /**
        * Create an overlay to anchor the popup to the map.
        */
        var overlay = new ol.Overlay(/** @type {olx.OverlayOptions} */({
            element: container,
            autoPan: true,
            autoPanAnimation: {
                duration: 250
            }
        })
        );



        /**
        * Variable to set animation MODIS
        */
        var animationId = null;
        var frameRate = 0.5; // frames per second
        /**
        * Variable to set the mask url for the historical static images
        */
        var maskCloudUrl = 'https://arcgis.jrc.ec.europa.eu/server/rest/services/ecml/daily_cloud/MapServer';
        var maskRainUrl = 'https://arcgis.jrc.ec.europa.eu/server/rest/services/ecml/daily_rain/MapServer';

        /**
        * Add a click handler to hide the popup.
        * @return {boolean} Don't follow the href.
        */
        closer.onclick = function () {
            overlay.setPosition(undefined);
            closer.blur();
            return false;
        };

        var defaultStyle = new ol.style.Style({
            fill: new ol.style.Fill({
                color: [250, 250, 250, 0.5]
            }),
            stroke: new ol.style.Stroke({
                color: [220, 220, 220, 1],
                width: 1
            })
        });

        /**
        * Function to create a text file on a polygon 
        */
        var createTextStyle = function (feature) {
            var objectType = feature.get('class');
            var textValue = '';
            var offsetXValue, offsetYValue;
            offsetXValue = offsetYValue = 10;
            var _zoomlevel = map.getView().getZoom();

            if (feature.get('polygonlabel')=='Centroid' &&
                (feature.get('eventtype') == 'TC' || feature.get('eventtype') == 'VO')) {
                textValue = feature.get('eventname');
                offsetXValue = offsetYValue = 5;

            }
            else if (objectType.startsWith('Point_Polygon_Point')) {
                textValue = feature.get('polygonlabel');
                if (textValue.startsWith('previous')) {
                    textValue = '';
                }
                if (_zoomlevel < 6)
                    textValue = '';

            }

                /*
            else if (objectType.startsWith('Poly_Cones')) {
                textValue = feature.get('eventname');
                if (zoomLevel < 4)
                    textValue = '';

                offsetXValue = offsetYValue = 40;
            }*/

            return new ol.style.Text({
                textAlign: 'Center',
                textBaseline: 'Middle',
                font: 'Bold 12px Verdana',
                text: textValue,
                scale: 1,
                fill: new ol.style.Fill({ color: polygonColor['Text_Fill'] }),
                stroke: new ol.style.Stroke({ color: polygonColor['Text_Out'], width: 2 }),
                offsetX: offsetXValue,
                offsetY: offsetYValue
            });
        };

        /**
        * Function to create a Style at the polygon
        */
        function styleFunction(feature, resolution) {
            // get the incomeLevel from the feature properties
            var classProperty = feature.get('class');
            var alertLevel = feature.get('alertlevel');
            var eventtype = feature.get('eventtype');
            var label = feature.get('polygonlabel');
            var iconLink = feature.get('iconeventlink');
            if (iconLink == null || iconLink == '')
                iconLink = feature.get('icon');

            var textValue = '';
            var keyStyle = '';
            if (eventtype == 'TC' || eventtype == 'VO')
                textValue = feature.get('eventname');

            // if there is no level or its one we don't recognize,
            // return the default style (in an array!)
            if (!classProperty) {
                return [defaultStyle];
            }
            if (classProperty == 'Poly_Red' || classProperty == 'Poly_Orange' || classProperty == 'Poly_Green' || classProperty == 'Poly_White' || classProperty == 'Poly_Affected' || classProperty == 'Poly_area'|| classProperty == 'Poly_Circle' || classProperty.startsWith('Poly_SMP') || classProperty == 'Poly_Intensity') {
                keyStyle = classProperty;
                if (!styleCache[keyStyle]) {
                    styleCache[keyStyle] = new ol.style.Style({
                        fill: new ol.style.Fill({
                            color: polygonColor[classProperty]
                        }),
                        stroke: new ol.style.Stroke({
                            color: polygonColor[classProperty.replace('Poly_', 'Line_')],
                            width: 1
                        })
                    });
                }
            }
            else if (classProperty == 'Point_Point') {
                keyStyle = classProperty;
                if (!styleCache[keyStyle]) {
                    styleCache[keyStyle] = new ol.style.Style({
                        image: new ol.style.Icon({
                            anchor: [0, 0],
                            anchorXUnits: 'fraction',
                            anchorYUnits: 'pixels',
                            src: "https://www.gdacs.org/img/dot.png"
                        })
                    });
                }
            }
            else if (classProperty.startsWith('Poly_Epi') || classProperty.startsWith('Poly_Sum')) {
                keyStyle = classProperty;
                if (!styleCache[keyStyle]) {
                    styleCache[keyStyle] = new ol.style.Style({
                        fill: new ol.style.Fill({
                            color: polygonColor[classProperty]
                        })
                    });
                }
            }
            else if (classProperty == 'Poly_Intensity') {
                keyStyle = classProperty + '_' + alertLevel;
                if (!styleCache[keyStyle]) {
                    styleCache[keyStyle] = new ol.style.Style({
                        fill: new ol.style.Fill({
                            color: polygonColor['Poly_' + alertLevel]
                        }),
                        stroke: new ol.style.Stroke({
                            color: polygonColor['Line_' + alertLevel],
                            width: 1
                        })
                    });
                }
            }
            else if (classProperty == 'Poly_Circle') {
                keyStyle = classProperty + '_' + alertLevel;
                if (!styleCache[keyStyle]) {
                    styleCache[keyStyle] = new ol.style.Style({
                        stroke: new ol.style.Stroke({
                            color: polygonColor['Line_' + alertLevel],
                            width: 1
                        })
                    });
                }
            }
            else if (classProperty.startsWith('Point_Polygon_Point')) {
                if (label.startsWith('previous')) {
                    keyStyle = 'Point_Past';
                }
                else {
                    keyStyle = 'Point_For';
                }
                //if (!styleCache[keyStyle]) {
                styleCache[keyStyle] = new ol.style.Style({
                    fill: new ol.style.Fill({
                        color: polygonColor[keyStyle]
                    }),
                    text: createTextStyle(feature)
                });
                //}	

            }
            else if (classProperty.startsWith('Poly_Cones')) {
                styleCache[keyStyle] = new ol.style.Style({
                    fill: new ol.style.Fill({
                        color: polygonColor[classProperty]
                    }),
                    stroke: new ol.style.Stroke({
                        color: polygonColor[classProperty.replace('Poly_', 'Line_')],
						width: 4
                    }),
                    text: createTextStyle(feature)
                });

            }
            else if (classProperty.startsWith('Line')) {
                keyStyle = 'Line';
                if (!styleCache[keyStyle]) {
                    styleCache[keyStyle] = new ol.style.Style({
                        stroke: new ol.style.Stroke({
                            color: polygonColor['Line_Track'],
                            width: 1
                        })
                    });
                }

            }
            else if (classProperty == 'Point_Centroid') {
                keyStyle = 'Point_Centroid_' + alertLevel + '_' + eventtype;
                styleCache[keyStyle] = new ol.style.Style({
                    image: new ol.style.Icon({
                        anchor: [0.5, 35],
                        anchorXUnits: 'fraction',
                        anchorYUnits: 'pixels',
                        src: iconLink
                    }),
                    text: new ol.style.Text({
                        textAlign: 'Center',
                        textBaseline: 'Middle',
                        font: 'Bold 12px Verdana',
                        text: textValue,
                        scale: 1,
                        fill: new ol.style.Fill({ color: polygonColor['Text_Fill'] }),
                        stroke: new ol.style.Stroke({ color: polygonColor['Text_Out'], width: 2 }),
                        offsetX: -30,
                        offsetY: -50
                    })
                });

            }
            else
                return [defaultStyle];

            return [styleCache[keyStyle]];
        }

        /**
        * Layer to add at hte map dinamically based on layerToShow variable
        */
        var clouds_WMS = new ol.layer.Tile({
            title: 'Clouds',
            type: 'WMS',
            visible: false,
            source: new ol.source.TileArcGISRest({
                url: maskCloudUrl
            })
        });
        var rain_WMS = new ol.layer.Tile({
            title: 'Rain',
            type: 'WMS',
            visible: true,
            source: new ol.source.TileArcGISRest({
                url: maskRainUrl
            })
        });

		var selection_Buffer = new ol.layer.Vector({
			id: 'selection',
			title: 'AOI',
			datakey: 'data',
			source: setSelectionSource(''),
			style: styleFunction
		});		
//        var tc_Buffer = new ol.layer.Vector({
//            title: 'Tropical Cyclones',
//            source: new ol.source.Vector({
//                url: urlPotentialDataMap,
//                format: new ol.format.GeoJSON()
//            }),
//            style: styleFunction
//        });


        function setSourceModis() {
            var finalUrl = maskModisUrl;
            while (finalUrl.indexOf("[yyyy]") >= 0 || finalUrl.indexOf("[mm]") >= 0 || finalUrl.indexOf("[dd]") >= 0) {
                finalUrl = finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2));
            }
            return new ol.source.Vector({
                url: finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2)),
                format: new ol.format.KML()
            });
        }

        function setSourceClouds() {
            var finalUrl = maskCloudUrl;
            while (finalUrl.indexOf("[yyyy]") >= 0 || finalUrl.indexOf("[mm]") >= 0 || finalUrl.indexOf("[dd]") >= 0) {
                finalUrl = finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2));
            }
            return new ol.source.ImageStatic({
                url: finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2)),
                projection: 'EPSG:4326',
                imageExtent: [-180, -90, 180, 90]
            })
        }

        function setSourceRain() {
            var finalUrl = maskRainUrl;
            while (finalUrl.indexOf("[yyyy]") >= 0 || finalUrl.indexOf("[mm]") >= 0 || finalUrl.indexOf("[dd]") >= 0) {
                finalUrl = finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2));
            }
            return new ol.source.ImageStatic({
                url: finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2)),
                projection: 'EPSG:4326',
                imageExtent: [-180, -90, 180, 90]
            })
        }

        function setSourceGfds() {
            var finalUrl = maskGfdsUrl;
            while (finalUrl.indexOf("[yyyy]") >= 0 || finalUrl.indexOf("[mm]") >= 0 || finalUrl.indexOf("[dd]") >= 0) {
                finalUrl = finalUrl.replace("[yyyy]", stepDate.getFullYear().toString()).
                    replace("[mm]", (stepDate.getMonth() + 101).toString().substr(1, 2)).
                    replace("[dd]", (stepDate.getDate() + 100).toString().substr(1, 2));
            }
            return new ol.source.ImageStatic({
                url: finalUrl,
                projection: 'EPSG:4326',
                imageExtent: [-180, -90, 180, 90]
            })
        }

        function getVectorModis() {
            return new ol.layer.Vector({
                id: 'Modis',
                title: 'Modis',
                source: setSourceModis()
            });
        }



        function chooseLayer() {
            //layerList.push(clouds_WMS);
            layerList.push(rain_WMS);
            layerList.push(selection_Buffer);
            return layerList;
        }




        var rainLegend = "<div id='infoAttribute' style='width:250px'><div id='textAttribute' style='font-family:Verdana, Geneva, sans-serif;font-size:10px;'><a href='http://openstreetmap.org/'>OpenStreetMap</a><br/>The boundaries and the names shown on this map do not imply official endorsement or acceptance by the European Union.</div>";
        var rainLegend1 = "<div id='infoAttribute' style='width:250px'><img src='https://www.gdacs.org/images/rainfall_legend.png' width=96px; height=173px; /></div><br/><div id='textAttribute' style='font-family:Verdana, Geneva, sans-serif;font-size:10px;'><a href='http://openstreetmap.org/'>OpenStreetMap</a><br/>The boundaries and the names shown on this map do not imply official endorsement or acceptance by the European Union.</div>";
        var scaleLineControl = new ol.control.ScaleLine();
        scaleLineControl.setUnits('metric');
        function buildMap() {
            return new ol.Map({
                controls: ol.control.defaults().extend([
                    scaleLineControl
                ]),
                target: 'map',
                overlays: [overlay],
                layers: [
                    new ol.layer.Group({
                        id: 'Base',
                        title: 'Base maps',
                        layers: [

                            new ol.layer.Tile({
                                title: 'JRC - OSM',
                                id: 'osmec',
                                last: false,
                                type: 'base',
                                visible: false,
                                source: new ol.source.XYZ({
                                    projection: 'EPSG:3857',
                                    //projection: 'EPSG:900913',
                                    //url: "https://europa.eu/webtools/maps/tiles/osm-ec/{z}/{x}/{y}.png",
                                    url:"https://gisco-services.ec.europa.eu/maps/tiles/OSMCartoComposite/EPSG3857/{z}/{x}/{y}.png",
                                    attributions: [new ol.Attribution({ html: "<a href='http://openstreetmap.org/'>OpenStreetMap</a><br/>The boundaries and the names shown on this map do not imply official endorsement or acceptance by the European Union." })],
                                    maxZoom: 18,
                                })
                            }),
                            new ol.layer.Tile({
                                title: 'JRC - Hypso',
                                id: 'hypsoec',
                                type: 'base',
                                last: false,
                                visible: true,
                                source: new ol.source.XYZ({

                                    //url: "https://europa.eu/webtools/maps/tiles/hypso/{z}/{x}/{y}",
                                    projection: 'EPSG:3857',
                                    url: "https://gisco-services.ec.europa.eu/maps/tiles/Hypsometric/EPSG3857/{z}/{x}/{y}.png",
                                    maxZoom: 6
                                })
                            }),
                            new ol.layer.Tile({
                                title: 'JRC - Natural',
                                id: 'naturalec',
                                type: 'base',
                                last: false,
                                visible: false,
                                source: new ol.source.XYZ({

                                    //url: "https://europa.eu/webtools/maps/tiles/natural/{z}/{x}/{y}",
                                    projection: 'EPSG:3857',
                                    url:"https://gisco-services.ec.europa.eu/maps/tiles/NaturalEarth/EPSG3857/{z}/{x}/{y}.png",
                                    maxZoom: 6
                                })
                            }),
                            new ol.layer.Tile({
                                title: 'JRC - Bmarble',
                                id: 'bmarbleec',
                                type: 'base',
                                last: false,
                                visible: false,
                                source: new ol.source.XYZ({

                                    //url: "https://europa.eu/webtools/maps/tiles/bmarble/{z}/{x}/{y}",
                                    projection: 'EPSG:3857',
                                    url:"https://gisco-services.ec.europa.eu/maps/tiles/BlueMarble/EPSG3857/{z}/{x}/{y}.png",
                                    maxZoom: 9
                                })
                            })

                        ]
                    }),
                    new ol.layer.Group({
                        id: 'Layers',
                        title: 'Layers',
                        layers: chooseLayer()
                    })
                ],
                view: new ol.View({
                    center: [0, 0],
                    zoom: (window.innerWidth < 768) ? 1 : 2,
                    projection: 'EPSG:4326',
                    minZoom: 1,
                    maxZoom: 11
                })
            });
        }

        function onMoveEnd(evt) {
            var map = evt.map;
            zoomLevel = map.getView().getZoom();
            var all_layer_groups = map.getLayers();
            var layer_group;
            var layer_item;
            var all_layer_gdacs;
            for (i = 0, n = all_layer_groups.getLength(); i < n; i++) {
                layer_group = all_layer_groups.item(i);
                if (layer_group.get('id') == 'Base') {
                    all_layer_gdacs = layer_group.getLayers();
                    var idxOsm = -1;
                    for (j = 0, k = all_layer_gdacs.getLength(); j < k; j++) {
                        layer_item = all_layer_gdacs.item(j);

                        if (zoomLevel >= 7) {
                            if (layer_item.get('id') == 'osmec') {
                                idxOsm = j;
                            }
                            layer_item.set('visible', false);

                        }
                        else {
                            if (layer_item.get('choosed') == true) {
                                idxOsm = j;
                            }
                            layer_item.set('visible', false);
                        }
                    }
                    if (idxOsm > -1) {
                        layer_item = all_layer_gdacs.item(idxOsm);
                        layer_item.set('visible', true);
                    }
                }//if
            }//for
            map.updateSize();
            map.render();


        }

        function onSingleClick(evt) {
            var coordinate = evt.coordinate;
            var pixel = evt.pixel;
            var _found = false;
            evt.map.forEachFeatureAtPixel(pixel, function (feature, layer) {
                // check the layer property, if it is not set then it means we
                // are over an OverlayFeature and we can ignore this feature
                if (!layer || _found ) {
                    return;
                }
                // test the feature's geometry type and compute a reasonable point
                // at which to display the text.
                var geometry = feature.getGeometry();
                var point;
                switch (geometry.getType()) {
                    case 'MultiPolygon':
                        var poly = geometry.getPolygons().reduce(function (left, right) {
                            return left.getArea() > right.getArea() ? left : right;
                        });
                        point = poly.getInteriorPoint().getCoordinates();
                        break;
                    case 'Polygon':
                        point = geometry.getInteriorPoint().getCoordinates();
                        break;
                    default:
                        point = geometry.getClosestPoint(coordinate);
                }
                // create a new feature to display the text
                /*textFeature = new ol.Feature({
                geometry: new ol.geom.Point(point),
                text: feature.get('name'),
                isoCode: feature.get('iso_a2').toLowerCase()
                });*/
                // and add it to the featureOverlay.  Also add the feature itself
                // so the country gets outlined
                if (feature.get('class') == 'Point_Centroid') {
                    var reportLink = feature.get('link');
                    var magnitudeReference = '';
                    if (reportLink == null) {
                        if (feature.get('url'))
                            reportLink = feature.get('url').report;
                    }
                    if (feature.get('eventtype') == 'EQ') {
                        if (feature.get('severity') != null)
                            magnitudeReference = ' M ' + feature.get('severity') + ' ';
                        else
                            magnitudeReference = ' M ' + feature.get('severitydata').severity + ' ';
                    }

                    if (reportLink != null && reportLink != '') {
                        //content.innerHTML = '<code class="map_item_popup"><div class="map_item_popup_content">' + feature.get('htmldescription') + '<br/>see full report <a href="' + feature.get('link') + '" target="_blank">here</a></div></code>';
                        content.innerHTML = '<div>' +
                            '<p class="p_map_baloon_text_bold">' + feature.get('alertlevel') + magnitudeReference + ' ' + feature.get('description') + ' </p>' +
                            '<p class="p_map_baloon_text">' + feature.get('todate') + '</p>' +
                            '<p class="p_map_baloon_text">Full report <a href="' + reportLink + '">here</a></p>' +
                            '</div>';
                    }
                    else {
                        content.innerHTML = '<div>' +
                            '<p class="p_map_baloon_text_bold">' + feature.get('alertlevel') + magnitudeReference + ' ' + feature.get('name') + ' </p>' +
                            '<p class="p_map_baloon_text" style="font-size:12px">' + feature.get('htmldescription') + ' </p>' +
                            '<p class="p_map_baloon_text">' + feature.get('todate') + '</p>' +
                            '</div>';
                    }
                    overlay.setPosition(coordinate);
                    _found = true;
                }
            });
        }



        function buildLayerSwitcher() {
            return new ol.control.LayerSwitcher({
                tipLabel: 'Layers' // Optional label for button
            });
        }

        function buildLayerLegend() {
            return new ol.control.LayerLegend({
                tipLabel: 'Legend' // Optional label for button
            },
                'https://www.gdacs.org/images/rainfall_legend.png');
        }

        var layerSwitcher = buildLayerSwitcher()
        var layerLegend = buildLayerLegend()


        var map = buildMap();

        function addMapController() {
            map.addControl(layerSwitcher);
            map.addControl(layerLegend);
            map.on('singleclick', onSingleClick);
            map.on('moveend', onMoveEnd);
            return true;
        }

        addMapController();


        var setTime = function () {
            //stepDate.setDate(stepDate.getDate() + 1);
            if (stepDate > endDate)
                stepDate = new Date(startDate);

            //map = buildMap();
            //addMapController();

            var all_layer_groups = map.getLayers();
            var layer_group;
            var layer_item;
            var all_layer_gdacs;
            for (i = 0, n = all_layer_groups.getLength(); i < n; i++) {
                layer_group = all_layer_groups.item(i);
                if (layer_group.get('id') == 'Layers') {
                    all_layer_gdacs = layer_group.getLayers();
                    for (j = 0, k = all_layer_gdacs.getLength(); j < k; j++) {
                        layer_item = all_layer_gdacs.item(j);
                        if (layer_item.get('id') == 'Modis') {
                            layer_item.setSource(setSourceModis());
                        }
                        else if (layer_item.get('id') == 'Clouds') {
                            layer_item.setSource(setSourceClouds());
                        }//if
                        else if (layer_item.get('id') == 'Rain') {
                            layer_item.setSource(setSourceRain());
                        }//if
                        else if (layer_item.get('id') == 'Gfds') {
                            layer_item.setSource(setSourceGfds());
                        }//if
                    }
                }//if
            }//for
            map.updateSize();
            map.render();
            //updateInfo();
        };
        var changeOpacity = function (newValue) {
            var all_layer_groups = map.getLayers();
            var layer_group;
            var layer_item;
            var all_layer_gdacs;
            for (i = 0, n = all_layer_groups.getLength(); i < n; i++) {
                layer_group = all_layer_groups.item(i);
                if (layer_group.get('id') == 'Layers') {
                    all_layer_gdacs = layer_group.getLayers();
                    for (j = 0, k = all_layer_gdacs.getLength(); j < k; j++) {
                        layer_item = all_layer_gdacs.item(j);
                        if (layer_item.get('id') == 'Clouds' || layer_item.get('id') == 'Rain' || layer_item.get('id') == 'Gfds') {
                            layer_item.setOpacity(newValue);
                        }//if
                    }
                }//if
            }//for
            map.updateSize();
            map.render();
            //updateInfo();
        };


        var play = function () {
            stop();
            animationId = window.setInterval(setTime, 1000 / frameRate);
        };

        var stop = function () {
            if (animationId !== null) {
                window.clearInterval(animationId);
                animationId = null;
            }
        };

        $(window).resize(function () {
            var view = map.getView();
            if (window.innerWidth < 768) {
                view.setZoom(1);
            } else {
                view.setZoom(2);
            }

        });
        function loadContent() {
            $.ajax({
                url: urlPotentialData,
                type: "GET"
            }).done(function (api_data) {
                contentPotentialData = api_data;
				showOnMap(api_data.filter(x=>x.past===false));
                TableSection();
				$('.imgicon').click(function() {
						contentPotentialData[$(this).data('index')].past=!contentPotentialData[$(this).data('index')].past;
						showOnMap(contentPotentialData.filter(x=>x.past===false));
						var newclass="";
						if (contentPotentialData[$(this).data('index')].past===true){
							$('#idx_'+$(this).data('index')).removeClass("fas fa-map");
							$('#idx_'+$(this).data('index')).addClass("far fa-map");
						
							newclass="far fa-map";
						}else{
							$('#idx_'+$(this).data('index')).removeClass("far fa-map");
							$('#idx_'+$(this).data('index')).addClass("fas fa-map");
						}
						//<i class="fa-regular fa-map"></i>
						//<i class="fa-solid fa-map"></i>
					});			
				
            });
        }
		
		function showOnMap(data) {
            if (data || data.lenght>0) {
				let _arrayMap;
				$.each(data, function (propName, propVal) {
					if (_arrayMap) {
						_arrayMap.features = _arrayMap.features.concat(propVal.structureformap.features)
					}
					else{
						_arrayMap = $.extend(true, {}, propVal.structureformap)
					}
					
				});			
            //let _arrayMap = $.extend(true, {}, data[0].structureformap);
            selection_Buffer.setSource(setSelectionSource(_arrayMap));

            }
        }		
		
		function setSelectionSource(paramSource) {
			if (paramSource === undefined || paramSource === "" ) {
				return null;
			}
			else{
				return new ol.source.Vector({
					features: new ol.format.GeoJSON().readFeatures(paramSource),
					format: new ol.format.GeoJSON()
				});
			}
		}

        function TableSection() {
            console.log(contentPotentialData);
            var items = [];
            items.push('<table id="tbTCPotential" class="generic_search"><thead><tr class="main_tit"><th>&nbsp;</th><th>&nbsp;</th><th>Source</th><th>Name</th><th>Identifier</th><th style="width:18%">Probability</th><th style="width:16%">FromDate</th><th style="width:16%">ToDate</th><th>Formed</th></tr></thead><tbody>');
            $.each(contentPotentialData, function (propName, propVal) {
                var formed = ' - ';
                if (propVal.formed_eventid) {
                    formed = '<b>' + propVal.formed_eventname + '</b><br/><span style="font-size:12px;"><a href="report.aspx?eventid=' + propVal.formed_eventid + '&eventtype=TC" target="_blank">(' + propVal.formed_eventid + ')</span>';
                }
				var suffix='';
				if (propVal.past===true)
				{
					suffix='_PAST';
				}
				var classIco = "fas fa-map";
				if (propVal.showonmap===true)
				{
					classIco = "far fa-map";
				}
				var source = propVal.source;
				if (source==="RSMC")
				{
					source = "RSMC Meteo France<br/>La Réunion";
				}
				var risktext="";
				if (propVal.risk.risk2days){
					risktext=risktext+"2 days: "+propVal.risk.risk2days;
					if (propVal.risk.prob2days){
						risktext=risktext+" ("+propVal.risk.prob2days+")";
					}
					risktext=risktext+"<br/>";
				}
				if (propVal.risk.risk7days){
					risktext=risktext+"7 days: "+propVal.risk.risk7days;
					if (propVal.risk.prob7days){
						risktext=risktext+" ("+propVal.risk.prob7days+")";
					}
					risktext=risktext+"<br/>";
				}
				if (risktext=="") risktext="n/a";
                items.push('<tr class="clickable-row"><td><img src="../images/gdacs_icons/alerts/GREEN/TC'+suffix+'.png"></td><td><div class="imgicon" data-index="' + propName + '"><i id="idx_'+propName+'" class="'+classIco+'"></i></div></td><td>' + source + '</td><td>' + propVal.eventname + '</td><td style="text-align:left;">' + propVal.universalid + '</td><td>'+risktext+'</td><td>' + propVal.fromdate + '</td><td style="text-align:left;">' + propVal.todate + '</td><td>' + formed + '</td></tr>');
            });
            items.push('</tbody></table>');
            hTable.innerHTML = items.join("");
//			$('#tbTCPotential').DataTable({
//                "lengthMenu": [5, 10, 15, 10, 25],
//                "pageLength": 5,
//            });			

        }

    </script>


                </form>
            </div><!-- end main_alert_content-->

            
            <div id="footer_home">
                <nav class="navbar navbar-expand-lg navbar-light navbar-footer col-12">
                  <button class="navbar-toggler" style="font-size:18px; color:white; font-weight:bold" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon" style="color:white;"></span>
                      MENU
                  </button>
                  <div class="collapse navbar-collapse" id="navbarNavAltMarkupFooter">
                    <div class="navbar-nav">
                        
                    </div>
                  </div>
                </nav>
                <div id="footer_disclaimer" class="col-12">
                    <!--<div class="float-left gdacs_bottom_menu_content" ><a href="https://ec.europa.eu/info/brexit-content-disclaimer" target="_blank">Brexit content disclaimer</a></div>-->
                    <div class="float-end gdacs_bottom_menu_content"><a href="../About/cookies.aspx.html" target="_blank">cookies</a></div>
                    <p><b><span class="gdacs_bottom_menu_content"><a href="https://ec.europa.eu/info/legal-notice_en" target="_blank">Disclaimer</a></span></b><br>
                    While we try everything to ensure accuracy, this information is purely indicative and should not be used for any decision making without alternate sources of information. 
                    <br>The JRC is not responsible for any damage or loss resulting from use of the information presented on this website.</p> 
                    <br>The designations employed and the presentation of material on the map do not imply the expression of any opinion whatsoever on the part of the European Union concerning the legal status of any country, territory or area or of its authorities, or concerning the delimitation of its frontiers or boundaries.
                </div>
                <div id="footer_logo" class="d-none d-lg-block">
                    <div class="footerlogo_item d-none d-lg-block"><img src="../images/gdacs_icons/partners/ec.png" width="90" height="70" alt=""></div>
                    <div class="footerlogo_item d-none d-lg-block"><img src="../images/gdacs_icons/partners/ocha.png" width="90" height="70" alt=""></div>
                    <div class="footerlogo_item d-none d-lg-block"><img src="../images/gdacs_icons/partners/unitar.png" width="90" height="70" alt=""></div>
                    <div class="footerlogo_item d-none d-lg-block"><img src="../images/gdacs_icons/partners/unosat.png" width="90" height="70" alt=""></div>
                </div>
	        </div>
                                

        </div>
    </div>
<script type="text/javascript">


     $(function() {
         if (window.innerWidth < 991) {
             $("#nopadding").addClass('container-fluid').removeClass('container');
             $("#send").attr("style", "text-align:left");
             $("#name").attr("style", "text-align: left");
             $("#mail").attr("style", "text-align: left");
             $("#txtmail").attr("style", "text-align: left");

              var x = document.getElementsByClassName("alert_item_name");
              var i;
              for (i = 0; i < x.length; i++) {
                x[i].style.paddingLeft = "0px";
              }

                $("div.alert_item_name").each(function (o, elt) {
                  var newElt = $("<span class='alert_item_name'/>");
                  Array.prototype.slice.call(elt.attributes).forEach(function(a) {
                    newElt.attr(a.name, a.value);
                  });
                  $(elt).wrapInner(newElt).children(0).unwrap();
             });

                $("div.alert_item_attribute").each(function (o, elt) {
                  var newElt = $("<span class='alert_item_attribute'/>");
                  Array.prototype.slice.call(elt.attributes).forEach(function(a) {
                    newElt.attr(a.name, a.value);
                  });
                  $(elt).wrapInner(newElt).children(0).unwrap();
             });


             }
        });

    $(window).resize(function () {

        if (window.innerWidth < 991) {
            $("#nopadding").addClass('container-fluid').removeClass('container');
             $("#send").attr("style", "text-align:left");
             $("#name").attr("style", "text-align: left");
             $("#mail").attr("style", "text-align: left");
             $("#txtmail").attr("style", "text-align: left");
            //function myFunction() {
              var x = document.getElementsByClassName("alert_item_name");
              var i;
              for (i = 0; i < x.length; i++) {
                x[i].style.paddingLeft = "0px";
              }
            //}

            $("div.alert_item_name").each(function (o, elt) {
                var newElt = $("<span class='alert_item_name'/>");
                Array.prototype.slice.call(elt.attributes).forEach(function (a) {
                    newElt.attr(a.name, a.value);
                });
                $(elt).wrapInner(newElt).children(0).unwrap();
            });

            $("div.alert_item_attribute").each(function (o, elt) {
                var newElt = $("<span class='alert_item_attribute'/>");
                Array.prototype.slice.call(elt.attributes).forEach(function (a) {
                    newElt.attr(a.name, a.value);
                });
                $(elt).wrapInner(newElt).children(0).unwrap();
            });

            if (document.getElementById("#eventMenu") != null) { (document.getElementById("#eventMenu").style.paddingLeft = '0px') };
            if (document.getElementById("#eventMenuDrop") != null) { (document.getElementById("#eventMenuDrop").style.paddingLeft = '0px') };

        }
        else {
            $("#nopadding").addClass('container').removeClass('container-fluid');
            $("#send").attr("style", "text-align: right");
            $("#name").attr("style", "text-align: right");
            $("#mail").attr("style", "text-align: right");
            $("#txtmail").attr("style", "text-align: right");

            $("span.alert_item_name").each(function (o, elt) {
                var newElt = $("<div class='alert_item_name' />");
                Array.prototype.slice.call(elt.attributes).forEach(function (a) {
                    newElt.attr(a.name, a.value);
                });
                $(elt).wrapInner(newElt).children(0).unwrap();
            });

            $("span.alert_item_attribute").each(function (o, elt) {
                var newElt = $("<div class='alert_item_attribute' />");
                Array.prototype.slice.call(elt.attributes).forEach(function (a) {
                    newElt.attr(a.name, a.value);
                });
                $(elt).wrapInner(newElt).children(0).unwrap();
            });

            if (document.getElementById("#eventMenu") != null) { (document.getElementById("#eventMenu").style.paddingLeft = '15px') };
            if (document.getElementById("#eventMenuDrop") != null) { (document.getElementById("#eventMenuDrop").style.paddingLeft = '0px') };
        }
    });
</script>
        
<!--
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-298127-1");
pageTracker._setDomainName(".gdacs.org");
pageTracker._setLocalRemoteServerMode();
pageTracker._trackPageview();
} catch(err) {}</script>
-->
</body>
</html>

(this["webpackJsonpjrc.critech.gdacs_authentication"]=this["webpackJsonpjrc.critech.gdacs_authentication"]||[]).push([[0],{161:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),r=n(39),c=n.n(r),i=n(14),o=n(6),l=n.n(o),d=n(10),A=n(3),j=Object(s.createContext)({isLoggedIn:!1,token:null,login:function(){},logout:function(){},username:null,password:null,data:null,update:null}),u=n(25),b=n(284),h=n(293),p=n(294),O=(n(62),n(1)),m=function(e){var t=Object(s.useContext)(j),n=Object(s.useState)(!1),a=Object(A.a)(n,2),r=(a[0],a[1]);Object(u.f)();return Object(s.useEffect)((function(){r(e.isAuthenticated)}),[e]),Object(O.jsx)("header",{id:"gdacs_header",className:"container_page",children:Object(O.jsx)(h.a,{collapseOnSelect:!0,expand:"lg",bg:"#9bc1ce",variant:"dark",color:"#9bc1ce",children:Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(h.a.Toggle,{"aria-controls":"responsive-navbar-nav",children:[Object(O.jsx)("span",{className:"navbar-toggler-icon",style:{color:"white",fontSize:"16px"}}),"\xa0 MENU"]}),Object(O.jsx)(h.a.Collapse,{id:"responsive-navbar-nav",children:Object(O.jsxs)(p.a,{children:[Object(O.jsxs)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/default.aspx",target:"_blank",children:["HOME",Object(O.jsx)("span",{className:"sr-only",children:"(current)"})]}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/Alerts/default.aspx",target:"_blank",children:"ALERTS"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"http://vosocc.unocha.org",target:"_blank",children:"VIRTUAL OSOCC"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/Satellite/overview.aspx",target:"_blank",children:"MAPS & SATELLITE IMAGERY"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/Knowledge/overview.aspx",target:"_blank",children:"KNOWLEDGE"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/About/overview.aspx",target:"_blank",children:"ABOUT"}),void 0===t.isLoggedIn&&Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/gdacsregister/",onClick:function(){localStorage.removeItem(),t.logout()},children:"LOGOUT"})]})})]})})})},x=n(285),f=function(){var e=a.a.useState(window.innerWidth),t=Object(A.a)(e,2),n=t[0],s=t[1],r=a.a.useState(window.innerHeight),c=Object(A.a)(r,2),i=c[0],o=c[1];return a.a.useEffect((function(){var e=function(){s(window.innerWidth),o(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{width:n,height:i}},v=(n(161),function(e){var t=a.a.useContext(j),n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return Object(O.jsx)("div",{children:Object(O.jsxs)("h5",{className:"d-flex justify-content-center",style:{color:"#6d9baf",fontWeight:"bold",fontSize:"18px",marginBottom:"0px"},children:["Welcome : ",n(t.data.firstName)+" "+n(t.data.lastName)]})})}),g=function(e){var t=Object(s.useContext)(j),n=Object(s.useState)(!1),a=Object(A.a)(n,2),r=(a[0],a[1]),c=f().width,o=function(){t.logout()};return Object(s.useEffect)((function(){r(e.isAuthenticated)}),[e]),Object(O.jsx)(O.Fragment,{children:t.isLoggedIn&&Object(O.jsx)("div",{children:Object(O.jsxs)("header",{id:"gdacs_header_menu",className:"container_page",children:[c>620&&Object(O.jsx)(h.a,{id:"navbar-gdasc-header",className:"nav_bar_user nav-report",collapseOnSelect:!0,expand:"lg",bg:"white",variant:"light",children:Object(O.jsxs)(b.a,{className:"navbar-report",children:[Object(O.jsx)(v,{params:t.data}),Object(O.jsx)(p.a,{className:"ml-auto nav-link-user",children:Object(O.jsxs)(p.a,{className:"nav_bar_user d-flex justify-content-right",children:[Object(O.jsx)(p.a,{className:"ml-auto"}),Object(O.jsxs)(x.a,{id:"dropdown-toggle-user",title:"ACTIONS",children:[Object(O.jsx)(x.a.Item,{className:"nav_bar_user",as:i.b,to:{pathname:"/Home"},children:"About Alerts"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user",as:i.b,to:{pathname:"/EditProfile"},children:"Edit Profile"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user",as:i.b,to:{pathname:"/ChangePwd"},children:"Change Password"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user ",as:i.b,to:{pathname:"/ValidateContainer"},params:t.data,children:"Validate"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user",as:i.b,to:{pathname:"/UserDelete"},children:"Unsubscribe"}),Object(O.jsx)(x.a.Divider,{}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user",as:i.b,to:{pathname:"/"},onClick:o,children:"Logout"})]}),Object(O.jsx)(p.a.Link,{className:"nav_bar_user nav-link-user",href:"/gdacsregister/",onClick:o,children:"LOGOUT"})]})})]})}),c<620&&Object(O.jsx)(h.a,{className:"nav_bar_user navbar-default nav-report",collapseOnSelect:!0,expand:"lg",bg:"white",variant:"light",children:Object(O.jsxs)(b.a,{children:[Object(O.jsxs)(h.a.Toggle,{className:"responsive-navbar-nav-user nav-link-user",children:[Object(O.jsx)("span",{className:"navbar-toggler-icon",style:{color:"#6d9baf",fontSize:"16px"}}),"\xa0 Actions"]}),Object(O.jsx)(h.a.Collapse,{id:"responsive-navbar-nav",children:Object(O.jsxs)(p.a,{children:[Object(O.jsx)(x.a.Item,{className:"nav_bar_user",as:i.b,to:{pathname:"/Home"},children:"About Alerts"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user nav-link-user",as:i.b,to:{pathname:"/EditProfile"},children:"Edit Profile"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user nav-link-user",as:i.b,to:{pathname:"/ChangePwd"},children:"Change Password"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user nav-link-user",as:i.b,to:{pathname:"/ValidateContainer"},params:t.data,children:"Validate"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user nav-link-user",as:i.b,to:{pathname:"/UserDelete"},children:"Unsubscribe"}),Object(O.jsx)(x.a.Item,{className:"nav_bar_user nav-link-user",as:i.b,to:{pathname:"/"},onClick:o,children:"Logout"})]})})]})})]})})})},y=function(e){f().width;return Object(O.jsxs)("div",{id:"header",className:"container-fluid",children:[Object(O.jsx)("div",{id:"top_menu",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"float-right gdacs_top_menu_content",children:Object(O.jsx)("a",{href:"http://www.gdacs.org/About/contactus.aspx",children:"contact us"})}),Object(O.jsx)("div",{className:"float-right gdacs_top_menu_content",children:Object(O.jsx)("a",{href:"http://www.gdacs.org/About/termofuse.aspx",children:"term of use"})})]})}),Object(O.jsx)("div",{id:"heading",className:"container",children:Object(O.jsxs)("div",{id:"rowhead",className:"row",children:[Object(O.jsx)("div",{id:"gd_logo",className:"d-flex justify-content-center col-lg-4 gdacs_logo",children:Object(O.jsx)("img",{id:"gdacs_logo_image",src:"images/gdacs_logo_ecs_medium3.png"})}),Object(O.jsx)("div",{id:"gd_statement",className:"d-none d-lg-block col-md-5 gdacs_statement",children:" GDACS is a cooperation framework between the United Nations, the European Commission and disaster managers worldwide to improve alerts, information exchange and coordination in the first phase after major sudden-onset disasters."}),Object(O.jsx)("div",{id:"gd_uneu",className:"d-none d-lg-block col-md-3 gdacs_uneu",children:Object(O.jsx)("img",{src:"images/un_eu.png"})})]})})]})},N=function(e){return Object(O.jsxs)("div",{id:"footer_home",style:{fontWeight:"bold"},children:[Object(O.jsx)(h.a,{collapseOnSelect:!0,expand:"lg",bg:"#9bc1ce",variant:"dark",color:"#9bc1ce",children:Object(O.jsxs)(b.a,{className:"navbar-footer",children:[Object(O.jsxs)(h.a.Toggle,{"aria-controls":"responsive-navbar-nav",children:[Object(O.jsx)("span",{className:"navbar-toggler-icon",style:{color:"white",fontSize:"16px"}}),"\xa0 MENU"]}),Object(O.jsx)(h.a.Collapse,{id:"responsive-navbar-nav",children:Object(O.jsxs)(p.a,{children:[Object(O.jsxs)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/default.aspx",target:"_blank",children:["HOME",Object(O.jsx)("span",{className:"sr-only",children:"(current)"})]}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/Alerts/default.aspx",target:"_blank",children:"ALERTS"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"http://vosocc.unocha.org",target:"_blank",children:"VIRTUAL OSOCC"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/Satellite/overview.aspx",target:"_blank",children:"MAPS & SATELLITE IMAGERY"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/Knowledge/overview.aspx",target:"_blank",children:"KNOWLEDGE"}),Object(O.jsx)(p.a.Link,{className:"nav-item nav-link-gdacs",href:"/About/overview.aspx",target:"_blank",children:"ABOUT"})]})})]})}),Object(O.jsxs)("div",{id:"footer_disclaimer",className:"col-12",children:[Object(O.jsx)("div",{className:"float-right gdacs_top_menu_content",children:Object(O.jsx)("a",{href:"About/cookies.aspx",target:"_blank",children:"cookies"})}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:Object(O.jsx)("span",{className:"gdacs_bottom_menu_content",children:Object(O.jsx)("a",{href:"http://ec.europa.eu/info/legal-notice_en",target:"_blank",children:"Disclaimer"})})}),Object(O.jsx)("br",{}),"While we try everything to ensure accuracy, this information is purely indicative and should not be used for any decision making without alternate sources of information.",Object(O.jsx)("br",{}),"The JRC is not responsible for any damage or loss resulting from the use of the information presented on this website.",Object(O.jsx)("br",{}),"The designations employed and the presentation of material on the map do not imply the expression of any opinion whatsoever on the part of the European Union concerning the legal status of any country, territory or area or of its authorities, or concerning the delimitation of its frontiers or boundaries."]})]}),Object(O.jsxs)("div",{id:"footer_logo",className:"d-none d-lg-block col-lg-12",children:[Object(O.jsx)("div",{id:"ec",className:"footerlogo_item d-none d-lg-block",children:Object(O.jsx)("img",{src:"images/gdacs_icons/partners/ec.png",width:"90",height:"70",alt:""})}),Object(O.jsx)("div",{id:"ocha",className:"footerlogo_item d-none d-lg-block",children:Object(O.jsx)("img",{src:"images/gdacs_icons/partners/ocha.png",width:"90",height:"70",alt:""})}),Object(O.jsx)("div",{id:"unitar",className:"footerlogo_item d-none d-lg-block",children:Object(O.jsx)("img",{src:"images/gdacs_icons/partners/unitar.png",width:"90",height:"70",alt:""})}),Object(O.jsx)("div",{id:"unosat",className:"footerlogo_item d-none d-lg-block",children:Object(O.jsx)("img",{src:"images/gdacs_icons/partners/unosat.png",width:"90",height:"70",alt:""})})]})]})};function S(e){f().width;return Object(O.jsxs)("div",{id:"wrapper",children:[Object(O.jsx)(y,{}),Object(O.jsxs)(b.a,{className:"container_page",children:[Object(O.jsx)(m,{}),Object(O.jsx)(g,{}),e.children,Object(O.jsx)(N,{})]})]})}var w=n(32),C=n(16),k=n(140),T=n(291),E=function(){var e=Object(s.useContext)(j),t=a.a.useState(""),n=Object(A.a)(t,2),r=n[0],c=n[1],o=a.a.useState(!1),b=Object(A.a)(o,2),h=b[0],p=b[1],m=a.a.useState(!1),x=Object(A.a)(m,2),v=(x[0],x[1]),g=Object(s.useState)(!1),y=Object(A.a)(g,2),N=y[0],S=(y[1],f().width),E={username:"",password:""},_=Object(u.f)(),U=a.a.useState(!1),R=Object(A.a)(U,2),I=R[0],F=R[1],M=function(){F(!1),p(void 0)},L=C.a().shape({username:C.c().required("No Username provided."),password:C.c().required("No password provided.")}),D=a.a.useState(E),P=Object(A.a)(D,2);P[0],P[1];function B(){return(B=Object(d.a)(l.a.mark((function t(n){var s,a,r,i,o,d,A,j,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={username:n.username,password:n.password},a={method:"POST",type:"no-cors",body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"}},t.next=4,fetch("/gdacsapi/api/register/Users/authenticate/",a);case 4:if((r=t.sent).ok){t.next=13;break}return t.next=8,r.json();case 8:return i=t.sent,c(i.message),t.abrupt("return");case 13:return t.next=15,r.json();case 15:if(!1!==(o=t.sent).enabled||"Deleted"!==o.status){t.next=19;break}return c(Object(O.jsxs)(O.Fragment,{children:["Your account has been deleted... if you want recover it, please contact ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"})]})),t.abrupt("return");case 19:if(!1!==o.enabled||"waiting"!==o.status){t.next=22;break}return c("You need to activate your account, please check your e-mail and follow the instructions."),t.abrupt("return");case 22:if(!1!==o.enabled||"waiting"!==o.status){t.next=25;break}return c("You need to activate your account, please check your e-mail and follow the instructions."),t.abrupt("return");case 25:return e.login(o),d={method:"POST",type:"no-cors",body:JSON.stringify(s),headers:{Authorization:"Bearer "+o.token,Accept:"application/json","Content-Type":"application/json"}},t.next=29,fetch("/gdacsapi/api/register/Users/getuserbycredential/",d);case 29:if((A=t.sent).ok){t.next=38;break}return t.next=33,A.json();case 33:return j=t.sent,c(j.message),t.abrupt("return");case 38:return t.next=40,A.json();case 40:u=t.sent,c("You are logged."),v(!1),!0===o.enabled&&"confirmed"===o.status&&_.push("/Home",u),!0===o.enabled&&"forgotpassword"===o.status&&_.push("/ChangePwd",u);case 45:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=Object(d.a)(l.a.mark((function e(t,n){var s,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST"},e.next=3,fetch("/gdacsapi/"+"api/register/Users/forgotpassword?username=".concat(n),s);case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,a.ok){e.next=14;break}return c(r.message),F(!1),p(void 0),e.abrupt("return");case 14:v(!1),p(!0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(w.a,{initialValues:E,validationSchema:L,onSubmit:function(e,t){(0,t.setSubmitting)(!1),function(e){B.apply(this,arguments)}(e)},children:function(e){var t=e.values,n=e.touched,s=e.errors,a=(e.isSubmitting,e.handleChange),o=(e.handleBlur,e.handleSubmit);return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:o,children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"login-wrapper",children:[Object(O.jsx)("div",{className:520>S?"col-12 p_summary":"col-8 p_summary",children:"For users registered after 2008, the username is an email address. Users registered before might have usernames that are different."}),Object(O.jsxs)("div",{className:520>S?"col-12":"col-5",children:[Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"username",type:"mail",placeholder:"Enter your Username",value:t.username,onChange:a}),Object(O.jsx)("br",{}),s.email&&n.username&&Object(O.jsx)("div",{className:"input-feedback",children:s.username}),Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"password",type:"password",placeholder:"Enter your password",value:t.password,onChange:a}),Object(O.jsx)("br",{}),s.password&&n.password&&Object(O.jsx)("div",{className:"input-feedback",children:s.password}),r&&Object(O.jsx)("div",{className:"input-feedback",children:r}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"button ",className:"btn btn-primary btn-primary-login btn-sm",style:{minWidth:"115px"},onClick:o,children:"Login"})," \xa0",Object(O.jsx)(i.c,{to:{pathname:"Register",origin:"Login",navIndex:0},className:"btn btn-primary btn-primary-login float-right btn-sm",style:{minWidth:"115px"},children:"Register"})," \xa0",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(k.a,{variant:"info btn-sm",onClick:function(e){""!==t.username?(c(""),F(!0)):c("Please insert a valid username.")},children:"Reset Password"}),Object(O.jsxs)(T.a,{show:I,onHide:M,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Reset Password"})}),h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"Your Password has been reset, you'll receive a temporary Password at your email address."}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",onClick:M,children:"Ok"})})]}),!h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:'Click on "Confirm" button to reset your password '}),Object(O.jsxs)(T.a.Footer,{children:[Object(O.jsx)(k.a,{variant:"primary",onClick:function(e){return function(e,t){return z.apply(this,arguments)}(e,t.username)},children:"Confirm"}),Object(O.jsx)(k.a,{variant:"secondary",onClick:M,children:"Cancel"})]})]})]}),N&&Object(O.jsx)("h2",{children:" Submit Successful"}),Object(O.jsx)("br",{})]}),Object(O.jsxs)("div",{className:520>S?"col-12":"col-8",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",style:{fontSize:"14px"},children:[Object(O.jsx)("b",{children:"Conditions for use:"})," ",Object(O.jsx)("br",{}),"The data you provide in this form is kept for the purpose of alerting you ",Object(O.jsx)("br",{})," and for internal usage statistics. The information will not be disclosed to third parties, unless it is necessary for the fulfillment of the purpose identified above. Your data is kept for 1 year after you unregister from the system.",Object(O.jsx)("br",{})," For further information on the European Commission Personal Data Protection, see\xa0",Object(O.jsx)("a",{href:"http://ec.europa.eu/dpo-register/detail/DPR-EC-00240",target:"_blank",children:"DPR-EC-00240.1"}),". For further inquiries, contact ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"}),"."]})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})})}})},_="token",U=function(){var e=localStorage.getItem(_);return JSON.parse(null!==e&&void 0!==e?e:"")},R=function(e){var t=Object(s.useContext)(j),n=a.a.useState(""),r=Object(A.a)(n,2),c=r[0],o=r[1],u=new URLSearchParams(e.location.search).get("username"),b=f().width,h=a.a.useState(!1),p=Object(A.a)(h,2),m=p[0],x=p[1],v=a.a.useState(),g=Object(A.a)(v,2),y=(g[0],g[1]),N=C.a().shape({password:C.c().required("No password provided.")});function S(){return(S=Object(d.a)(l.a.mark((function e(n,s){var a,r,c,i,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:s,password:n.password},r={method:"POST",type:"no-cors",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/authenticate/",r);case 4:if((c=e.sent).ok){e.next=13;break}return e.next=8,c.json();case 8:return i=e.sent,o(i.message),e.abrupt("return");case 13:return e.next=15,c.json();case 15:if(d=e.sent,t.login(d),!1!==d.enabled||"Deleted"!==d.status){e.next=20;break}return o(Object(O.jsxs)(O.Fragment,{children:["Your account has been deleted... if you want recover it, please contact ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"})]})),e.abrupt("return");case 20:if(!0!==d.enabled||"confirmed"!==d.status){e.next=23;break}return o(Object(O.jsx)(O.Fragment,{children:"Your account has already been activated... Now you can try to login on dacs Register "})),e.abrupt("return");case 23:!1===d.enabled&&"waiting"===d.status&&k(d);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(l.a.mark((function e(n){var s,a,r,c,i,d,A,j,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=[],a=0;a<n.addresses.length;a++)s.push({idUserAddress:n.addresses[a].idUserAddress,idUser:n.idUser,idServiceType:n.addresses[a].idServiceType,addressOption:n.addresses[a].addressOption,deviceKey:""===n.addresses[a].deviceKey,addressValue:n.addresses[a].addressValue,checkcode:n.addresses[a].checkcode,checkvalidate:n.addresses[a].checkvalidate,checkdate:n.addresses[a].checkdate,requiretest:n.addresses[a].requiretest}),1!==n.addresses[a].idServiceType&&3!==n.addresses[a].idServiceType||!1===n.addresses[a].checkvalidate&&y(!0);for(r=[],c=0;c<n.services.length;c++)r.push({idService:n.services[c].idService,idUser:n.idUser,idServiceType:n.services[c].idServiceType,eventType:n.services[c].eventType,alertLevel:n.services[c].alertLevel,region:n.services[c].region,language:n.services[c].language,stopNight:n.services[c].stopNight,enabled:n.services[c].enabled});return i={idUser:null===n||void 0===n?void 0:n.idUser,lastName:null===n||void 0===n?void 0:n.lastName,firstName:null===n||void 0===n?void 0:n.firstName,country:null===n||void 0===n?void 0:n.country,email:null===n||void 0===n?void 0:n.email,enabled:!0,emailOption:null===n||void 0===n?void 0:n.emailOption,username:null===n||void 0===n?void 0:n.username,password:null===n||void 0===n?void 0:n.password,notes:null===n||void 0===n?void 0:n.notes,organisation:null===n||void 0===n?void 0:n.organisation,orgtype:null===n||void 0===n?void 0:n.orgtype,status:"confirmed",confirmstatus:"confirmed",datemodified:n.datemodified,utcOffset:null===n||void 0===n?void 0:n.utcOffset,addresses:s,services:r,token:(null===n||void 0===n?void 0:n.token)?n.token:""},d=(null===n||void 0===n?void 0:n.idUser)?{method:"POST",body:JSON.stringify(i),headers:{Authorization:"Bearer "+U(),Accept:"application/json","Content-Type":"application/json"}}:{method:"POST",body:JSON.stringify(i),headers:{Accept:"application/json","Content-Type":"application/json"}},"/gdacsapi/api/register/Users/update",e.next=9,fetch("/gdacsapi/api/register/Users/update",d);case 9:if((A=e.sent).ok){e.next=18;break}return e.next=13,A.json();case 13:return j=e.sent,o(j.message),e.abrupt("return");case 18:return e.next=20,A.json();case 20:u=e.sent,t.update(u),x(!0);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){x(!1)};return Object(O.jsx)(w.a,{initialValues:{username:"",password:""},validationSchema:N,onSubmit:function(e,t){(0,t.setSubmitting)(!1),function(e,t){S.apply(this,arguments)}(e,u)},children:function(e){var t=e.values,n=e.touched,s=e.errors,a=(e.isSubmitting,e.handleChange),r=e.handleBlur,o=e.handleSubmit;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:o,children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"login-wrapper",children:[Object(O.jsx)("div",{className:520>b?"col-12 p_summary":"col-8 p_summary",children:"For users registered after 2008, the username is an email address. Users registered before might have usernames that are different."}),Object(O.jsxs)("div",{className:520>b?"col-12":"col-4",children:[Object(O.jsx)("br",{}),Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"username",type:"mail",placeholder:"Enter your Username",value:u,onChange:a,disabled:!0}),Object(O.jsx)("br",{}),s.email&&n.username&&Object(O.jsx)("div",{className:"input-feedback",children:s.username}),Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"password",type:"password",placeholder:"Enter your password",value:t.password,onChange:a,on:!0,onBlur:r}),Object(O.jsx)("br",{}),s.password&&n.password&&Object(O.jsx)("div",{className:"input-feedback",children:s.password}),c&&Object(O.jsx)("div",{className:"input-feedback",children:c}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"button ",className:"btn btn-primary btn-primary-login float-right btn-sm",style:{minWidth:"115px"},onClick:o,children:"Activate Account"}),Object(O.jsxs)(T.a,{show:m,onHide:_,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Validate Your Number"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"To receive the GDACS alerts, first you need to validate your channels. Do you want to do it now?"}),Object(O.jsxs)(T.a.Footer,{children:[Object(O.jsx)(i.c,{to:{pathname:"/ValidateContainer",origin:"ActiveAccount"},className:"btn btn-primary ",children:"Yes"}),Object(O.jsx)(i.c,{to:{pathname:"/Home",origin:"ActiveAccount"},className:"btn btn-primary ",children:"No"})]})]})]}),Object(O.jsx)("br",{})]}),Object(O.jsxs)("div",{className:520>b?"col-12":"col-8",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",style:{fontSize:"14px"},children:[Object(O.jsx)("b",{children:"Conditions for use:"})," ",Object(O.jsx)("br",{}),"The data you provide in this form is kept for the purpose of alerting you ",Object(O.jsx)("br",{})," and for internal usage statistics. The information will not be disclosed to third parties, unless it is necessary for the fulfillment of the purpose identified above.",Object(O.jsx)("br",{}),"Your data is kept for 1 year after you unregister from the system.",Object(O.jsx)("br",{})," For further information on the European Commission Personal Data Protection\xa0",Object(O.jsx)("a",{href:"https://ec.europa.eu/dpo-register/detail/DPR-EC-00240",target:"_blank",children:"DPR-EC-00240.1"}),".",Object(O.jsx)("br",{}),"For further inquiries, contact ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"}),"."]})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})})}})},I=n(4),F=n(12),M=(n(28),n(15)),L=n(286),D=n(287),P=n(288),B=function(e){var t=a.a.useState([]),n=Object(A.a)(t,2),s=n[0],r=n[1],c=f().width;function i(){return(i=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return r([]),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&r(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.useEffect((function(){!function(){i.apply(this,arguments)}()}),[]),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.address.id}),Object(O.jsx)("td",{className:"cell_hidden",children:e.address.idUserAddress}),s.filter((function(t){return t.idServiceType===e.address.idServiceType})).map((function(e){return Object(O.jsx)("td",{style:{textAlign:"center"},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)})),Object(O.jsx)("td",{children:10!==e.address.idServiceType?e.address.addressValue:10===e.address.idServiceType&&""===e.address.addressValue?Object(O.jsx)("div",{style:{color:"red"},children:"Not Actived, set on App"}):Object(O.jsx)("div",{style:{color:"#27ac27"},children:"Active"})}),Object(O.jsx)("td",{children:e.address.addressOption}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:620>c?{backgroundColor:"#0099CC",marginBottom:"5px"}:{backgroundColor:"#0099CC"},onClick:function(){return e.onRequestEditAddress(e.address.id)},disabled:10===e.address.idServiceType,children:Object(O.jsx)(M.d,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:620>c?{backgroundColor:"#0099CC",marginBottom:"5px"}:{backgroundColor:"#0099CC"},onClick:function(){return e.onRequestDeleteAddress(e.address.id)},children:Object(O.jsx)(M.f,{style:{height:"20px"},disabled:10===e.address.idServiceType})})]})]},"id")},z=function(e){var t=a.a.useState(e.address.addressValue),n=Object(A.a)(t,2),s=n[0],r=n[1],c=a.a.useState([]),i=Object(A.a)(c,2),o=i[0],j=i[1],u=a.a.useState(!0),b=Object(A.a)(u,2),h=b[0],p=(b[1],f().width),m=a.a.useState(""),x=Object(A.a)(m,2),v=x[0],g=(x[1],a.a.useState("")),y=Object(A.a)(g,2),N=y[0];y[1];function S(){return(S=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return j([]),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&j(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){!function(){S.apply(this,arguments)}()}),[]),a.a.useEffect((function(){e.isButtonDisabled(h),e.responseMessage(v),e.isModified(N)}),[]);return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.address.id}),o.filter((function(t){return t.idServiceType===e.address.idServiceType})).map((function(e){return Object(O.jsx)("td",{style:{textAlign:"center"},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)})),Object(O.jsx)("td",{children:10!==e.address.idServiceType&&Object(O.jsx)("input",{className:"input-table ",name:"addressValue",style:{padding:"0px;"},value:s,onChange:function(t){!function(t){var n=t.currentTarget.value;r(n),e.responseMessage(""),e.isModified(!0)}(t)}})}),Object(O.jsx)("td",{children:e.address.addressOption}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button ",className:"btn btn_table btn-primary",style:620>p?{backgroundColor:"red",marginBottom:"5px"}:{backgroundColor:"red"},onClick:function(){return e.onRequestSaveAddress(Object(I.a)(Object(I.a)({},e.address),{},{addressValue:s,checkcode:null,checkvalidate:!1,checkdate:null}))},children:Object(O.jsx)(M.e,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button ",className:"btn btn_table btn-primary",style:620>p?{backgroundColor:"#0099CC",marginBottom:"5px"}:{backgroundColor:"#0099CC"},onClick:function(){return e.onRequestDismissEdit(e.address.id)},children:Object(O.jsx)(M.a,{style:{height:"20px"}})})]})]},"id")},Y=n(51),K=function(e){var t=a.a.useState([]),n=Object(A.a)(t,2),s=n[0],r=n[1],c=a.a.useState([]),i=Object(A.a)(c,2),o=i[0],j=i[1],u=a.a.useState({idServiceType:void 0,addressValue:"",addressOption:"html",checkcode:null,checkvalidate:!1,checkdate:null,requiretest:!1}),b=Object(A.a)(u,2),h=b[0],p=b[1],m=a.a.useState(),x=Object(A.a)(m,2),v=x[0],g=x[1],y=a.a.useState(),N=Object(A.a)(y,2),S=N[0],w=N[1],C=a.a.useState(!1),k=Object(A.a)(C,2),T=k[0],E=k[1],_=a.a.useState(!1),U=Object(A.a)(_,2),R=U[0],B=U[1],z=a.a.useState(!0),K=Object(A.a)(z,2),q=K[0],V=(K[1],f().width),H=a.a.useState(""),G=Object(A.a)(H,2),W=G[0],J=(G[1],a.a.useState("")),Q=Object(A.a)(J,2),Z=Q[0];Q[1];function X(){return(X=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return r("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&(r(n),j(n[0].listOptions));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){e.isButtonDisabled(q),e.responseMessage(W),e.isModified(Z)}),[]),a.a.useEffect((function(){!function(){X.apply(this,arguments)}()}),[]),a.a.useEffect((function(){if(s.length>0){var e=parseInt(s[0].idServiceType);p((function(t){return Object(I.a)(Object(I.a)({},t),{},{idServiceType:e})}))}}),[s]),a.a.useEffect((function(){if(o.length>0){var e=o[0];p((function(t){return Object(I.a)(Object(I.a)({},t),{},{addressOption:e})}))}else{p((function(e){return Object(I.a)(Object(I.a)({},e),{},{addressOption:"Html"})}))}}),[o]);var $=function(t){p((function(e){return Object(I.a)(Object(I.a)({},e),{},{idServiceType:parseInt(t)})})),10===parseInt(t)?(E(!0),B(!0)):3===parseInt(t)?(E(!1),B(!0)):(E(!1),B(!1)),e.responseMessage(""),e.isModified(!0)},ee=function(t){p((function(e){return Object(I.a)(Object(I.a)({},e),{},{addressOption:t})})),e.responseMessage(""),e.isModified(!0)},te={1:Object(O.jsx)(L.a,{color:"#0099CC",size:18}),3:Object(O.jsx)(D.a,{color:"#0099CC",size:18}),10:Object(O.jsx)(P.a,{color:"#0099CC",size:18})};return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.address.id}),Object(O.jsx)("td",{className:"cell_hidden",children:e.address.idUserAddress}),Object(O.jsx)("td",{style:{textAlign:"center"},children:Object(O.jsxs)(Y.a,{onSelect:function(e){g(te[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",children:v||Object(O.jsx)(L.a,{color:"#0099CC",size:18})}),Object(O.jsx)(Y.a.Menu,{value:h.idServiceType,style:{maxHeight:300,overflowY:"scroll"},children:s.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idServiceType,eventKey:e.idServiceType,onSelect:$,onClick:function(t){return function(e,t){var n=Object(F.a)(s),a=n.filter((function(e){return e.idServiceType===t}));n.listOptions=a[0].listOptions,j(n.listOptions)}(0,e.idServiceType)},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)}))})]})}),Object(O.jsx)("td",{children:!T&&Object(O.jsx)("input",{className:"input-table",name:"addressValue",value:h.addressValue,onChange:function(t){var n=t.currentTarget.value;p((function(e){return Object(I.a)(Object(I.a)({},e),{},{addressValue:n})})),e.responseMessage(""),e.isModified(!0)}})}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){w(e)},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",children:S||o[0]}),Object(O.jsx)(Y.a.Menu,{name:"addressOption",value:h.idServiceType,children:o.map((function(e,t){return Object(O.jsx)(Y.a.Item,{value:e,eventKey:e,onSelect:ee,disabled:R,children:e},t)}))})]})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:620>V?{backgroundColor:"red",marginBottom:"5px"}:{backgroundColor:"red"},onClick:function(){return e.onRequestSaveAddress(h)},children:Object(O.jsx)(M.e,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:620>V?{backgroundColor:"#0099CC",marginBottom:"5px"}:{backgroundColor:"#0099CC"},onClick:function(){return e.onRequestCancelRow()},children:Object(O.jsx)(M.a,{style:{height:"20px"}})})]})]},"id")},q=function(e){a.a.useContext(j);var t,n=e.params,s=a.a.useState({idServiceType:1,addressValue:n.email,addressOption:"html",checkcode:null,checkvalidate:!1,checkdate:null,addressesrequiretest:!1}),r=Object(A.a)(s,1)[0],c=a.a.useState(n.addresses.length>0?null!==(t=null===n||void 0===n?void 0:n.addresses.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]:0===e.params.idUser?[r].map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})):[]),i=Object(A.a)(c,2),o=i[0],l=i[1],d=a.a.useState(),u=Object(A.a)(d,2),b=u[0],h=u[1],p=a.a.useState(!1),m=Object(A.a)(p,2),x=m[0],v=m[1],g=a.a.useState(!1),y=Object(A.a)(g,2),N=y[0],S=y[1],w=a.a.useState(""),C=Object(A.a)(w,2),k=C[0],T=C[1],E=f().width;a.a.useEffect((function(){e.isButtonDisabled(N)}),[]);var _=function(t){e.isButtonDisabled(t)},U=function(e){S(e)},R=function(e){T(e)},L=function(e){l((function(t){return t.filter((function(t){return t.id!==e}))}))},D=function(e){h(e)},P=function(){h(void 0),_(!1),T(null)},Y=function(e){if(!0===N){var t=q(e);""===t?(l((function(t){var n=Object(F.a)(t),s=n.findIndex((function(t){return t.id===e.id}));if(-1===s){var a=Math.max.apply(Math,n.map((function(e){return e.id})));n.push(Object(I.a)(Object(I.a)({},e),{},{id:isFinite(a)?a+1:0}))}else n[s]=e;return n})),h(void 0),_(!1),v(!1),T(t),S(!1)):T(t)}else h(void 0),_(!1),v(!1)},q=function(e){var t="";(Object(F.a)(o).findIndex((function(t){return t.addressValue===e.addressValue}))>-1&&(t="Address Value already exist,please check."),3===e.idServiceType)&&(o.filter((function(e){return 3===e.idServiceType})).length>4&&(t="For SMS please specify max 5 numbers"));10===e.idServiceType&&(o.filter((function(e){return 3===e.idServiceType})).length>1&&(t=""));1===e.idServiceType&&"undefined"!==e.addressValue&&((n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i)).test(e.addressValue)||(t="Please enter valid email address."));if(3===e.idServiceType&&"undefined"!==e.addressValue){var n=new RegExp(/^[+]?\d+$/),s=new RegExp(/^[+]/);n.test(e.addressValue)?e.addressValue.length<8&&(t="The number inserted contains numbers not enough long to be validated. Please enter valid phone number."):t="Please enter only number.",s.test(e.addressValue)||(t="The number has to start with symbol plus (+), followed by code country.")}return 10===e.idServiceType&&"undefined"===e.addressValue&&(t="For APP service click only the button Add"),t};return a.a.useEffect((function(){e.onChange(o),e.isButtonDisabled(N)}),[o,N]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("table",{className:E<520?"table generic_detail_mobile":"table generic_detail",id:"address",children:[Object(O.jsx)("thead",{style:{backgroundColor:"#0099CC",color:"white"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"cell_hidden",children:"Id"}),Object(O.jsx)("th",{className:"cell_hidden",children:"IdUserAddress"}),Object(O.jsx)("th",{children:"Channel"}),Object(O.jsx)("th",{children:"Address"}),Object(O.jsx)("th",{children:"Option"}),Object(O.jsx)("th",{children:"Actions"})]})}),Object(O.jsxs)("tbody",{children:[o.sort((function(e,t){return e.idServiceType>t.idServiceType?1:-1})).map((function(e){return e.id===b?Object(O.jsx)(z,{address:e,onRequestSaveAddress:Y,onRequestDismissEdit:P,isButtonDisabled:_,responseMessage:R,isModified:U}):Object(O.jsx)(B,{address:e,onRequestDeleteAddress:L,onRequestEditAddress:D})})),0===o.length&&Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{textAlign:"center"},children:"No Channel found."}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{})]}),x&&Object(O.jsx)(K,{address:o,onRequestSaveAddress:Y,onRequestCancelRow:function(){v(!1),_(!1),T(null)},isButtonDisabled:_,responseMessage:R,isModified:U}),!x&&Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{className:"btn btn-primary btn_table",style:{backgroundColor:"#0099CC"},onClick:function(){return v(!0)},type:"button",children:Object(O.jsx)(M.b,{style:{height:"20px"}})})})]})]})]}),k&&Object(O.jsx)("div",{className:"input-feedback col-12",children:k})]})},V=n(13),H=function(e){var t=a.a.useState(e.navIndex),n=Object(A.a)(t,2),s=(n[0],n[1],function(e){var t=e.color,n=e.height,s=e.borderTop;return Object(O.jsx)("hr",{style:{color:t,backgroundColor:t,height:n,width:120,marginLeft:0,marginRight:0,marginTop:10,marginBottom:8,borderTop:s}})});return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(O.jsx)("button",{id:"username",type:"button",value:"next",className:e.navIndex>0?"btn-sm btn-circle-timeline_active":"btn-sm btn-circle-timeline",style:{textAlign:"top"}}),Object(O.jsx)(s,{color:e.navIndex>1?"#3e98c7":"gainsboro",height:2,borderTop:"1 solid rgba(0,0,0,.1)"}),Object(O.jsx)("button",{id:"username",type:"button",value:"next",className:e.navIndex>1?"btn-sm btn-circle-timeline_active":"btn-sm btn-circle-timeline"}),Object(O.jsx)(s,{color:e.navIndex>2?"#3e98c7":"gainsboro",height:2,borderTop:"1 solid rgba(0,0,0,.1)"}),Object(O.jsx)("button",{id:"username",type:"button",value:"next",className:e.navIndex>2?"btn-sm btn-circle-timeline_active":"btn-sm btn-circle-timeline"}),Object(O.jsx)(s,{color:e.navIndex>3?"#3e98c7":"gainsboro",height:2,borderTop:"1 solid rgba(0,0,0,.1)"}),Object(O.jsx)("button",{id:"username",type:"button",value:"next",className:e.navIndex>3?"btn-sm btn-circle-timeline_active":"btn-sm btn-circle-timeline"}),0===e.user&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s,{color:e.navIndex>4?"#3e98c7":"gainsboro",height:2,borderTop:"1 solid rgba(0,0,0,.1)"}),Object(O.jsx)("button",{id:"username",type:"button",value:"next",className:e.navIndex>4?"btn-sm btn-circle-timeline_active":"btn-sm btn-circle-timeline"})]})]}),Object(O.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(O.jsx)("h5",{className:e.navIndex>0?"timeline-text-active":"timeline-text",children:"1"}),Object(O.jsx)(s,{color:"white",height:0,borderTop:0}),Object(O.jsx)("h5",{className:e.navIndex>1?"timeline-text-active":"timeline-text",children:"2"}),Object(O.jsx)(s,{color:"white",height:0,borderTop:0}),Object(O.jsx)("h5",{className:e.navIndex>2?"timeline-text-active":"timeline-text",children:"3"}),Object(O.jsx)(s,{color:"white",height:0,borderTop:0}),Object(O.jsx)("h5",{className:e.navIndex>3?"timeline-text-active":"timeline-text",children:"4"}),0===e.user&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s,{color:"white",height:0,borderTop:0}),Object(O.jsx)("h5",{className:e.navIndex>4?"timeline-text-active":"timeline-text",children:"5"})]})]})]})},G=function(e){var t=a.a.useState(e.params.addresses),n=Object(A.a)(t,2),s=n[0],r=(n[1],f().width),c=a.a.useState(e.navIndex),i=Object(A.a)(c,2),o=i[0],l=(i[1],a.a.useState(!1)),d=Object(A.a)(l,2),j=d[0];d[1];return a.a.useEffect((function(){e.onChange(s),e.isButtonDisabled(j)}),[s,j]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Enter Addresses"}),Object(O.jsx)("br",{}),r>620&&Object(O.jsx)(H,{navIndex:o,user:e.params.idUser}),r<620&&Object(O.jsxs)(O.Fragment,{children:[0===e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20,label:3})]}),0!==e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25,label:2})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",children:["To receive alerts as email, SMS or APP notify messages, please enter the appropriate number or address.",Object(O.jsx)("br",{}),"(For SMS please specify max 5 numbers, for APP service click only the button Add)"]}),Object(O.jsx)("br",{}),Object(O.jsx)(q,{params:e.params,onChange:function(t){e.onChange("addresses",t)},isButtonDisabled:function(t){e.isButtonDisabled(t)}}),Object(O.jsx)("br",{})]})},W=n(22),J=(n(66),"data:image/gif;base64,R0lGODlhDgAOAHcAACH5BAEAAAAALAAAAAAOAA4AhwAAAP83Nf9FRv9YVP9mYP88O/+Cf/+bm/8kIf8rKP/PyP8oI/9CNP9MOv8wKv8eHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiDAAEIHEiwIMEAAgYQIGAQQICHAQYYOECRIAIEAhASOKAAgAIDAy8mlHhA4EeBDFIyOEBgogIFBwwMAMCgwQEGIycaMEBAAIABKQMA8AlgYU+hDpIiEChUgNMADgBcRBBVAAOID6MCcHBxKFcHWUM+eODwItcASweOpTq1q0EHY8cSDAgAOw=="),Q="data:image/gif;base64,R0lGODlhDgAOAHcAACH5BAEAAAAALAAAAAAOAA4AhwAAAP99Mf+IRf+SWP+mcP+DPv+BLv+HNv++m/91IP94Kf/gyP94IP97Jv+QNv9xHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAh8AAEIHEiwIMEAAgYMIGAQgIAGBw4MQEARAcEHDARonLgAwAKLAhlkVEgA5EeBDRw4OICAQMkFHwkMALASwYGECynKFABggMoAAQSSHCDgAACRIh0a1agxKNKgRY8KCHCAQUgGGEMCBTpQJMYAIsGCvfgVq9mGAR6ofUAwIAA7",Z="data:image/gif;base64,R0lGODlhDgAOAHcAACH5BAEAAAAALAAAAAAOAA4AhwAAAF+9Pm3ARovQYLnOcVO9PWHCQX7BS8zZmDu5LUS6NOvszUG6KUy8MXvFUjO3JgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiFAAEIHEiwIMEGBwYQIGAQgAIBBhIimIiA4AMFBgQIIIBgAYAFFQUywOhAYUiQAgMc0IjA5IKXCwEUEIAg40CKBAYAcJCxwU4HABYSEHAAQAMFRwFoBLDSgYAAAB4wOKpgoEaNPgEwYPAgQQOoBRqEHcj1wUAFaNFa7KqAa4K3Dds+mEswIAA7",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAEHklEQVRIS8WXXWgcVRTH//Ox3x/J7mxoSbNNqBRt6YMIa+MHagR98UWtDyr0IYjP7UPVhyDxwY+HVEOF+iBEENGaIFppENuHVoxgI419qGAVNE1NY2N3k43Nfs/seO6dO9lZM1knm4C/cJh7Tu7c/73nnJlJpAdGz5j4H5DF1TO6YXAzza3td1PCBgl2JDXEyep1c0vimxK+sVLC2cEHcY6srNOpRbwdPAvX63UkujThAZ3JFEyKtYtnYZZWHyThAQrdSdluG8/C+ZKOief7hQeMP9ePpVJFeJtnUzVeXG0IaWEfqvo2NxdLa12Y3bkVQ8d9vY0ab5V1wkyIWblmcGt5JrGpdlh/YlrsT0PFjy8/ya1YqVmnd+ngTupyt7gXmoVJILtaxsSzjSZKaCm+eFfXDhFpoFKX26X4d2n+izVhdgPbe6hTQyadtIKEId5QzgWlVyb4lXV5vmRlxFkaL+JNJy7Xapg8fL/wLAYzvVildMdDfhEBuuMhfr1Di1LTGbieu71WmkK56umNJvOTkhmUTiMQR0/CWtRm8J4+fqqnD3Rz/+2pX9ARbmyiWtORSHUJD+hIpeid3qi7XQKnMU2ZDViK5vNFXHjxYTEdGDp7RYyAGm3qib07+divKsguLvIxoxaM48rRx4QHfEtrLPxd4mN77WJVXzPms/Lhkfe/oQ00M3Zp1tz/ztfCM82etybFyDT3jnxl9g2fEp5pTs/lxKjB4x9Mmf3HT5u7hj4RkWYOffy9uf5xIkbPzUApF4QHHL47LUZANOij7hEOce/uRiPa3KDs6ZTuBKXdDYn9HBz5wqz4o5R3VhcJuWwWuxIReh0a1CxPWTMdpF89hVQsiGcyd2FoYJ+I0mP32mkMPboPxx66k/vKkTEYJ17g46t/3cbAu2fgoy8L+8zsiAYhK4qCkF5E2CiTldCrxaBIEn19ZIxM/cpvdCJTPEx1/nDmmohY9CUjGPthVnjAxZcOiRFw8Pjn2EPr7k5EkSbz+1TIEomwxWyzYTvbSTvbiAhL+RplLGWXEQ8HhA9kejr59dpyiR6/CJiOE9caM1RZwtil5lMx2O0SbTC3eMsKEAdGv0N3RwCllSW8ceFnEbXY//o4NJcDuArbWfj9j3kRsTg5/RviQZWPe6gPMu+dR+bkecTqBT4/GvDho8vX+e8Ztwo6n+fGhidmqFR/JzG/Jcpgm/NXCvBXLVF7s6V8XswABk58Sd9t93K1FA6qKi7O5YRHkx11ctbMOU5Tk/UNj6N3+FPEgn5q0uba2rQU9qkyZm6uCA/47KcFhKgjbZigU9SGpZd170aijJbCUUrtm5PTwqMOnV+Awv7K2wZarsJOEw2omMuXMbtcpJpbL4DtwNP/Tjn644ApJuk5dUttO3jKG3sOtUhw20QB4B8H8PRkkecmbAAAAABJRU5ErkJggg==",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAAK/INwWK6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAATjSURBVEhLxVd/TNRlGP987+SO4/ghKB7gHeKZGkcysQTEtRArXL+25mzrxxByJoX0S+bmoAZS4fIPq01dW2vVavqH4cqx1DaBnIk1Z8FiBiKaOhIhSLgD7o779jzfX9xxHFxG9WHvvu/7vO/zfp7nfZ73eQ8BNS2igNmBKIrQCRO7+Wgs+I39oWOxKPf/MZiEydQWipShY9LZ8pjBZGqbDpLH/wd0yheiexyi1ye3cZ8iDQ2OpzjiVUYyRB/JWK58p4NEzKTFqy3ISY1BZooZ2bYYiC4PxFHvhDFjimEeakzo9KK5NBPiMK2jMculmNEnQk+dcSJnZ3iODeG9aKxC9pg23OSYh6ZiB1Ylm2GPj8SWvBTse8KOtWmxWG6Jwq71NmRZo1G4PB71RemwsYEp0YBRh2MlDiTERGCkMhvvP5IG9xs52PWAFflL5+LQs3cDbh/2PmZHWV6yRq4dNefCjpO/Ye9DqUg0z8G+DYvwOJHcS5vXrrPinQIbdudboSeN7IXRuDYwhl6nByeKM9BDXn//fAY+b+tDVeM1nO9xou7bq2jc7EAKGbQ1LwkVRLq/5XdgjkypEdtiDThwtgfzoyIwMDIOJ1l2qvs2Pjh+RTqNoqNdeNAeh59vutBLYShfk0QGRuBE1yDsc40obejGEIXjwKOL0U1GVRYuQkf/CC72jeKL1n6ZxOWFoKSzIFABkRLBS41jQ8qSVXT8UTEGuMYontTXLh2tMRr0GCNvpfWkZySvxjjGZKyBDHfTnIGMct92IybBiCEipItNwddp10wi5k5AFnKXx/xlC6U5VlC+PFblLPaza0poXk4s0ogZEjll4wLygA9g1MNT2rSC6RgCYWIPSb+PcoBPJzQxkS6bH4mOWy6Iu3NJoqXAHcHj9cJQfQ5LLWZ0UqwFDo2CwJ0plhsdCbhRkQVhWyOO/HJLmfj7+ORCDwzlzRisWo2Hl8QpeTKBIJcG6MKnxJogfpiPTZ9eRFF9pzITPp481I6SI5chHixAXKQBg6OUsJMiNM1Z6iG+ez9abzoRv+cHRTYzImvPos9FFevttTQKnQ8zBvGnF1filZwkCOVNGBqlJAmB3mGKYVkj3lqfitNbVijS0Agre6rXpaKz5j7EvvYdTnYqxcAPRykXLDvP4PqeXKpQCxXp9AiLmFHWcBXpGfNQ+Nmv2N5wSZECm+s78NSXXUhbloByWhMuwiD2Qag8AyMV6fbtKyHW5qGtdwRCxWkIrzdT+fTC82Yuul/Nwh+UmLrqFkXPH5NrwQzEXf3DEEqb8PFGO75+Jl2RAs0lKzBYm4Phujx885xDkQJNJffgvQ1WCC+dwvU/nYqUEZxkQcRqEf/ofA/uqvoRl+vWoGRVsiTzR5zJALMxQhlN4OVcK9prsmHbeQ6H23ol2VS5HUScaNJj61edeOHYFbqH67A43qTMhI/0xGiqAwV4+vAl7DjeBQs9s5MRXKvphVliMeHCtkx6Zyl+VEbvBAYqjwvMemTsb8UNeib9XyZGADFDfiiow3dWneH13Ff1puqra/3BRCbyls518q/OYGJqApMH7CxD7gVuoEESq3qqDr1ImiwQUowlHg3yQlGgH2hS477c2Go2fMomafGf+pX78kwwdEzKiio5L2dCf2W1zSakf3VUchUy3b8L6aj9Sf8bAH8Brt37RmFHevEAAAAASUVORK5CYII=",ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAFKElEQVRIS6VXaWwUVRz/zc7Ozh5ld0u7vdI0QXoEi9bYxqaAX9B4UPxgOGJTLfGCmOARiBITxaJfNIhHQjRC/CBEMLRotNAYTIjBgAptuCvUVkihlR6wR7vdndk5/L/X3RVsgRn8ZV9m3rH7e+/3v94KCz/uMPE/YRgGHA5HumcN9lb/Bw5BgGma0HWdP+3gjolNXcOZoTFoqoJQUQl0TUvPWIMtYpMkVYlgODKBnriEax+sQkQKcqntwrKNuZQpBWcVDyJvN/Ix4Y121OfRiyiSjVmzfg5LKwVqZkrFkYtKlvTuTw6idjZxumTitUfKYGl1QlXRPemC+VkzyWpCWL8H3mQYblnm80wMJrcdyW9LrGspxKUAlNYneH/ZzsOQ1CgGxhP4czSGPmrsOZlUIZgGqWPNu29pYybxWGwCD8yrwFcraqfGmj6HufslnL86TkflH5T6PWja9St+vhhGMnwV8wpy4JOdEJ0S/85MuCWxQR58PiHhatquVtHS1oVjgzH4lAhkyQlhBvvfVGqDDBdTNTxdU5IesY4dK+rwx2uLcYY2TYE+Y3LJEmupFFLUrodIOz1H9rtTJMkvjgwoFBFKeuRfcGJGmF9YAn9eQZZcoF0OReNob1nI+3YgPPslhJd3QqcIMLc289hXNT09OwVO7HQ60XuhH49XFiKWULnMfJJy8WA0wd/toPnRaswPSXBuaOP9KPlIJJ64Idw4segQMDKhYd2icpwbFylBUWgwlyZknnbw/pJ7MJrUUJsvovrTg3xsBDk83DLgxKQIqov8CGzaB3Pzckx6c5FUUjxUfOSVdhFPkcT0dLskeBNhCK+3I/LOUvRciWUPknUuU3CgUJjg72dfWYzuYR0+h4E1e7v5mB0U5Li4uZjFnER+X1DHnA8PoDLPwzMfQ5aY5dqg14PAe/t53/hoJcrLyjBECcQu1rR3oXCWB+HJJCURNxZVlOLJyhA8s4ugpcvntASiq0n8NkAyb21Kj9jH6m+7sP94H7Y88wieqqRKksbJ0z1o7uxFkLJa9sQZOCQZC8ok+Fo7qXdjCFjF9qMX8NzD9Zz0bN9FLN92AC/s/h3t/VRYxCkjTyMWmPWdLlTnqJi7sQ3Cmz+kZ2wgGsGLDXPoJYmHth3C8StR/NI/gI7eMbidIl9y+4uAoeHoQBRSIIjmmlJEkwq+WFaHkXEFXpeIDftOYtePp2HuWM2XS299h3tzXehe34ihy4P45rKCJXfl4dJoGJt/OoGoIUKi8LV0A2GlztANxKj0maTIMJFSUILtXRYM1FWVY2/LAr62vPVr5PqLcWzdYt5n5orRcr8sQo2O4v6thxDwytOlnglU+jnhLI+MALXKAj+qQgFeDgeSbrS1NPB1foqIXK+XIoR3oY4No2zjHlS924ZTEwZcgRCq/CI0ijNLxAws3Pj1Jp1Ok4qCSU8uzC0r6UdIurW7MV9OwEUJR9WnioLL44RGuvioSF2KqHxsWgKxAlbeNENHeDyO7mtAz6tTcgbppA0UCQJFBPtdRUngVIw26MvD2pp81FXORWOpm3ZLN5YobYXYLdk4A1Y6fVTBGisKse7BcgQ3dSBkxpGb4yaHoXOnNU5RkigKFeP7VfW8n8Hz2ztxgog9Tlprlzi/qBi9/X9hZDKF6sIABHHmXK6mNMQMAY+VF0BJ6Tjc9zckt8xJGWwR85sk/V0RqYyyS0KmfN4MzDSKRhdA0l8SyUcyBibYsjF3MLpDsyRzO1IGts4tiZApaVxPCgD/ANP8HvVYyTwFAAAAAElFTkSuQmCC",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADvElEQVRIS7WWWWxMURjH/7Nvusw0igRFMNoQsTxoiDatKiEhePHk1fJALEEkoiQIsT3Y4t2DpyZI7NFEQyIhIhQPRBCU6XRcM3Nnu9f3nbl3dKbLnFvxa07uPXdOz/9+67m2xWeu6/hHdF2HzWYzZnLYjeuoYVFzWGHUwpqmIRJXkcvlEKwZ+3+FeXMW/KkkEdG96DmwAc4xQWi6ZqyQRzrGQpSsi9r86N7WjKDHiTln76MiF4fdbhcxthJnaYvZpZ8yHrzZtZz8rKP+9D0h6nA4LIsyUsLZbBbfybWf968U80UXHyKoJ4SoidUEKyvMMU26KvBhT5uYb+t8BsRj+J3J4ZeaKYx0NmdJvGyME6k0GsNTcX7tPDG37b2G3kNroKhZMWcCbgeO3u/Bg/c/keiPIuh3w+20i9gPx4jCbK1i9+PljhaayRfA1s7n6P7YB19GKeRAKcPuxi7LUBKtCtfSTF6UuUDeebG9Gb2UF1wJQ7m/sCNbx6OUforf6HDg/Z4VohK4IkoRwizI3cdXSc1ggLiayaJj+WxjJk/wUCfqjt8U91wJUQpXqVFCmGPw9dtXtM2opezUilwTT/9NIlk2LahDCCnMPHUbkUQKj7c0o4+uA/ctCCczGvY1haG6AkO6xgr7W+qRJZGQnsTiS12o8jqh+6oGCzNcAuFTd/BiRyv6yTUszsu4VKwST+dfnDO6WktgLrXWt9Txoom0eM4UhEXbS8YQo/rs3twEKgbY6Q077r42Vsjjdf19WRYfQ611yeUuVLPlhtVFwiG/B43UDmvo+m53OzWOKehPpowV8hy++4rEneKe9+VGUkGHSmjsuMHCDC8IkmsmHb8l5pfXL8TVjY3i3gpBn9u4y8P7xvoiiEZ+FLpZkTDDrpnoVDH95B2a/co/tMiNN9/gshd3KxY0RZlBwsI1JF7rUDGj4zYmC+uV/I8S9FLZpJVoPmdoDEfZQ4ILv1dJwVdVjdWzxiOaTONgWwM1F01k/DE6HK48/YD4kXVi/dQTtzDBmS6ybiikvkA4IXhkcvnuo3KToT9hDz1f2jCNTq/5+KIk0HruJmoC3hGtZUZ+LQPTbW6nQ4xKr4uaghsBKhvVUyFEmZYrj0RllBNlpIQZU9yEGwx/fz2hdshwJXBFlHOxibQwY7o8RYeH4gigZ+cyfiPMoo7HlTDwU6gcUjE24UTz0gnWPr0We5vDosXaEjGEAnn3yrjYxLIwH598kiUpwbhRyLq2FEv/xRZx9/G5XSJzRyvKWBa26tKhAf4Ae+mn3CuLWucAAAAASUVORK5CYII=",ne=function(e){var t,n,r,c,i=a.a.useState([]),o=Object(A.a)(i,2),j=o[0],u=o[1],b=a.a.useState([]),h=Object(A.a)(b,2),p=h[0],m=h[1],x=a.a.useState({idServiceType:"",eventType:"",alertLevel:"",region:"",language:"",stopNight:!1,enabled:!0}),f=a.a.useState([]),v=Object(A.a)(f,2),g=(v[0],v[1]),y=a.a.useState([]),N=Object(A.a)(y,2),S=(N[0],N[1],a.a.useState(1===!(null===(t=e.service)||void 0===t?void 0:t.idServiceType)&&"NL"===!(null===(n=e.service)||void 0===n?void 0:n.eventType)?["Green"]:1===!(null===(r=e.service)||void 0===r?void 0:r.idServiceType)?["Red","Orange","Green"]:3===!(null===(c=e.service)||void 0===c?void 0:c.idServiceType)?["Red","Orange"]:["Red","Orange","Green"])),w=Object(A.a)(S,2),C=w[0],k=w[1],T=a.a.useState([]),E=Object(A.a)(T,2),_=E[0],U=E[1],R=a.a.useState([]),M=Object(A.a)(R,2),B=M[0],z=M[1],K=a.a.useState([]),q=Object(A.a)(K,2),V=q[0],H=q[1],G=a.a.useState([]),W=Object(A.a)(G,2),ne=W[0],se=(W[1],a.a.useState(e.service?e.service:x)),ae=Object(A.a)(se,2),re=ae[0],ce=ae[1],ie=a.a.useState(),oe=Object(A.a)(ie,2),le=oe[0],de=oe[1],Ae=a.a.useState(),je=Object(A.a)(Ae,2),ue=je[0],be=je[1],he=a.a.useState(),pe=Object(A.a)(he,2),Oe=pe[0],me=pe[1],xe=a.a.useState(),fe=Object(A.a)(xe,2),ve=fe[0],ge=fe[1],ye=a.a.useState(),Ne=Object(A.a)(ye,2),Se=Ne[0],we=Ne[1],Ce=a.a.useState(!!e.service&&"NL"===e.service.eventType),ke=Object(A.a)(Ce,2),Te=ke[0],Ee=ke[1],_e=a.a.useState(!!e.service&&"NL"===e.service.eventType),Ue=Object(A.a)(_e,2),Re=Ue[0],Ie=Ue[1],Fe=a.a.useState(!!e.service&&"NL"===e.service.eventType),Me=Object(A.a)(Fe,2),Le=Me[0],De=Me[1],Pe=a.a.useState(!!e.service&&"NL"===e.service.eventType),Be=Object(A.a)(Pe,2),ze=Be[0],Ye=Be[1],Ke={1:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.a,{color:"#0099CC",size:18})," - EMAIL"]}),3:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{color:"#0099CC",size:18})," - SMS"]}),10:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(P.a,{color:"#0099CC",size:18})," - APP"]}),Red:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:J,className:"icon_table"})," - Red"]}),Orange:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:Q,className:"icon_table"})," - Orange "]}),Green:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:Z,className:"icon_table"})," - Green"]}),EQ:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:X,className:"icon_table"})," - Earthquakes"]}),FL:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:"data:image/gif;base64,R0lGODlhEAAQAKIAAAAAAP///wBReV2Ztv7//8nJycjIyP///yH5BAEAAAcALAAAAAAQABAAAAM2aBrcrsvJZ5qw4bbKdP7dJIIY6ElaGpKjiq6j2Qnp6dD1NOC1t+ODIE14MQiDyGQwEttAmpAEADs=",className:"icon_table"})," - Floods"]}),NL:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:$,className:"icon_table"})," - Newsletter"]}),T2:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:ee,className:"icon_table"})," - Tropical cyclones (6 hourly advisories)"]}),TC:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:te,className:"icon_table"})," - Tropical cyclones"]})};function qe(){return(qe=Object(d.a)(l.a.mark((function e(){var t,n,s,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return u("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:if(n=e.sent,s=Object(F.a)(n),a=[],"T2"===re.eventType)for(r=0;r<s.length;r++)1!==s[r].idServiceType&&10!==s[r].idServiceType||(c=s.find((function(e){return e.idServiceType===s[r].idServiceType})),a.push(c));"T2"===re.eventType?(u(a),m(a),U(n[1].listLanguages)):(u(n),m(n),U(n[1].listLanguages));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/regions/",e.next=3,fetch("/gdacsapi/api/register/Definition/regions/");case 3:if((t=e.sent).ok){e.next=7;break}return z("Failed to retreive regions data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&z(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/eventtypes/",e.next=3,fetch("/gdacsapi/api/register/Definition/eventtypes/");case 3:if((t=e.sent).ok){e.next=7;break}return H("Failed to retreive event types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&H(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(d.a)(l.a.mark((function e(t){var n,s,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/gdacsapi/api/register/Definition/JoinESAllByIdservice?idService="+t,e.next=3,fetch(n);case 3:if((s=e.sent).ok){e.next=7;break}return g("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:a=e.sent,r=p.filter((function(e){return e.idServiceType===t})),a&&(k(a[0].listAlertlevels),me(Ke[a[0].listAlertlevels]),U(r[0].listLanguages),we(r[0].listLanguages[0].value));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return(We=Object(d.a)(l.a.mark((function e(t){var n,s,a,r,c,i,o,d,A;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/gdacsapi/api/register/Definition/JoinESAllByCode?code="+t,e.next=3,fetch(n);case 3:if((s=e.sent).ok){e.next=7;break}return g("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:for(a=e.sent,r=Object(F.a)(a),c=r.filter((function(e){return e.eventtypecode===t})),i=Object(F.a)(p),o=[],d=function(){var e=c[A].idservicetype;if(1===e||3===e){var t=i.find((function(t){return t.idServiceType===e}));o.push(t)}},A=0;A<c.length;A++)d();a&&(g(a),u(o),de(Ke[o[0].idServiceType]),k(c[0].listAlertlevels),me(Ke[c[0].listAlertlevels[0]]),U(o[0].listLanguages),we(o[0].listLanguages[0].value),"NL"===t&&ge(B[0].key));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){if(void 0!==re.idServiceType){var e=parseInt(re.idServiceType);ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{idServiceType:e})}))}else ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{idServiceType:1})}))}),[j]),a.a.useEffect((function(){void 0!==re.eventType?ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{eventType:re.eventType})})):ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{eventType:"EQ"})}))}),[V]),a.a.useEffect((function(){if(void 0!==re.region){var e=parseInt(re.region);ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{region:e})}))}else ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{region:1})}))}),[B]),a.a.useEffect((function(){if(void 0!==re.language){var e=re.language;ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{language:e})}))}else{ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{language:"en"})}))}}),[_]),a.a.useEffect((function(){if(void 0!==re.alertLevel){var e=re.alertLevel;"NL"===re.eventType?ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{alertLevel:"Green"})})):ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{alertLevel:e})}))}else{ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{alertLevel:"Red"})}))}}),[C]),a.a.useEffect((function(){void 0===re.enabled&&ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{enabled:!0})}))}),[ne]),a.a.useEffect((function(){void 0===re.stopNight&&ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{stopNight:!1})}))}),[ne]);var Je=function(e){ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{eventType:e})})),"NL"===e?(Ee(!0),Ie(!0),De(!0),Ye(!0)):(Ee(!1),Ie(!1),De(!1),Ye(!1))},Qe=function(e){ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{idServiceType:parseInt(e)})}))},Ze=function(e){ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{alertLevel:e})}))},Xe=function(e){ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{region:parseInt(e)})}))},$e=function(e){ce((function(t){return Object(I.a)(Object(I.a)({},t),{},{language:e})}))};return Object(s.useEffect)((function(){!function(){qe.apply(this,arguments)}(),function(){Ve.apply(this,arguments)}(),function(){He.apply(this,arguments)}()}),[]),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label_mobile",htmlFor:"eventTypes",children:"Event Type :"}),Object(O.jsxs)(Y.a,{onSelect:function(e){be(Ke[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",children:ue||V.filter((function(e){return e.eventtype===re.eventType})).map((function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:"Images/".concat(e.eventtype,"_Blue.png"),className:"icon_table"})," - ",e.description]})}))}),Object(O.jsx)(Y.a.Menu,{onSelect:Qe,value:re.eventtype,style:{width:"100%"},children:V.map((function(e){return Object(O.jsxs)(Y.a.Item,{value:e.eventtype,eventKey:e.eventtype,onClick:function(t){return function(e){return We.apply(this,arguments)}(e.eventtype)},onSelect:Je,children:[Object(O.jsx)("img",{src:"Images/".concat(e.eventtype,"_Blue.png"),className:"icon_table"})," - ",e.description]},e.eventtype)}))})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label_mobile",htmlFor:"alertLevel",children:"Channel :"}),Object(O.jsxs)(Y.a,{onSelect:function(e){de(Ke[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Te,children:le||j.filter((function(e){return e.idServiceType===re.idServiceType})).map((function(e){return 1===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):3===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(P.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]})}))}),Object(O.jsx)(Y.a.Menu,{onSelect:Qe,value:re.idServiceType,children:j.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idServiceType,eventKey:e.idServiceType,onClick:function(t){return function(e){return Ge.apply(this,arguments)}(e.idServiceType)},onSelect:Qe,children:1===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):3===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(P.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]})},e.idServiceType)}))})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label_mobile",htmlFor:"region",children:"Alert Level :"}),Object(O.jsxs)(Y.a,{onSelect:function(e){me(Ke[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Re,children:Oe||Object(O.jsx)("img",{src:"Images/".concat(re.alertLevel,"-bullet.gif"),className:"icon_table"})}),Object(O.jsx)(Y.a.Menu,{children:C.map((function(e,t){return Object(O.jsxs)(Y.a.Item,{id:e,value:e,eventKey:e,onSelect:Ze,children:[Object(O.jsx)("img",{src:"Images/".concat(e,"-bullet.gif"),className:"icon_table"})," - ",e]},t)}))})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label_mobile",htmlFor:"serviceType",children:"Region :"}),Object(O.jsxs)(Y.a,{onSelect:function(e){ge(Object(O.jsx)(O.Fragment,{children:B.filter((function(t){return t.idRegion===parseInt(e)})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.regionName})}))}))},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Le,children:ve||B.filter((function(e){return e.idRegion===re.region})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.regionName})}))}),Object(O.jsx)(Y.a.Menu,{value:re.region,style:{maxHeight:300,overflowY:"scroll"},children:B.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idRegion,eventKey:e.idRegion,onSelect:Xe,children:e.regionName},e.idRegion)}))})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label_mobile",htmlFor:"language",children:"Language :"}),Object(O.jsxs)(Y.a,{onSelect:function(e){we(Object(O.jsx)(O.Fragment,{children:_.filter((function(t){return t.key===e})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.value})}))}))},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:ze,children:Se||_.filter((function(e){return e.key===re.language})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.value})}))}),Object(O.jsx)(Y.a.Menu,{value:re.language,children:_.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.key,eventKey:e.key,onSelect:$e,children:e.value},e.key)}))})]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("label",{className:"label_mobile",htmlFor:"night",style:{textAlign:"left"},children:"Stop Night :"})}),Object(O.jsx)("div",{className:"col-6 row",children:Object(O.jsx)("input",{name:"stopNight",className:"input-checkbox",defaultChecked:re.stopNight,type:"checkbox",onChange:function(e){var t=e.currentTarget.checked;ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{stopNight:t})}))}})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("label",{className:"label_mobile",htmlFor:"enabled",style:{textAlign:"left"},children:"Enabled :"})}),Object(O.jsx)("div",{className:"col-6 row",children:Object(O.jsx)("input",{name:"enabled",className:"input-checkbox",defaultChecked:re.enabled,type:"checkbox",onChange:function(e){var t=e.currentTarget.checked;ce((function(e){return Object(I.a)(Object(I.a)({},e),{},{enabled:t})}))}})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-6",style:{textAlign:"center"},children:[Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return e.onRequestSaveService(re)},children:"Save"})," \xa0"]}),Object(O.jsx)("div",{className:"col-6",style:{textAlign:"center"},children:Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return e.onRequestCancel(re)},children:"Cancel"})})]})]})})},se=n(94),ae=n.n(se),re=function(){return Object(O.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),Object(O.jsx)("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"})]})},ce=function(e){var t,n,a,r="slide-pane_from_".concat(e.from),c=Object(s.useState)(!1),i=Object(A.a)(c,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){return l(e.isOpen)}),[e.isOpen]),Object(O.jsxs)(ae.a,{isOpen:o,className:"slide-pane ".concat(r," ").concat(null!==(t=e.className)&&void 0!==t?t:""),closeTimeoutMS:1e3,style:{content:{width:null!==(n=e.width)&&void 0!==n?n:"90%"}},overlayClassName:"slide-pane__overlay ".concat(null!==(a=e.overlayClassName)&&void 0!==a?a:""),children:[Object(O.jsxs)("div",{className:"slide-pane__header",children:[Object(O.jsx)("div",{className:"slide-pane__close",onClick:e.onRequestClose,children:e.closeIcon||Object(O.jsx)(re,{})}),Object(O.jsxs)("div",{className:"slide-pane__title-wrapper",children:[Object(O.jsxs)("h2",{className:"slide-pane__title",children:[e.title," "]}),Object(O.jsx)("div",{className:"slide-pane__subtitle",children:e.subtitle})]})]}),Object(O.jsx)("div",{className:"slide-pane__content",children:e.children})]})};ce.displayName="SlidingPane";var ie=n(295),oe=function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("h4",{children:"How to configure your alerts"}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("b",{children:"Service type:"})," you should set up alerting services for each of your media devices: email, SMS, App.",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Disaster type:"})," select the disaster type. GDACS sends alerts for Earthquakes and Tropical Cyclones only, please note that earthquakes will automatically include tsunamis.",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Region:"})," if you select one or more regions, you will only receive alerts for events in that regions. If you register for Worldwide alerts, you don't have to specify other regions.",Object(O.jsx)("br",{})]}),Object(O.jsx)("img",{id:"gdacs_logo_image",src:"images/GDACS_Alerts_Regions.png",className:"d-flex justify-content-center col-lg-7"}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("b",{children:"Alert level:"})," GDACS evaluates the impact of natural hazards in three levels:",Object(O.jsx)("br",{}),Object(O.jsxs)("ul",{style:{paddingLeft:"25px"},children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("img",{src:J})," - Red: most likely a catastrophic event, requiring international assistance"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("img",{src:Q}),"  - Orange: can be a disaster requiring international assistance"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("img",{src:Z}),"  - Green: unlikely to be a disaster requiring international assistance, although it can be a local disaster"]})]}),"Note that lower levels include higher levels. If you register for Green alerts, you will also receive Orange and Red alerts.",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Language:"})," select the language for your alerts. Note that some services are offered in more languages.",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Quiet Night option"}),": it is possible to queue alerts sent at night (in your time zone set in the previous step) until 06:00 the following day.",Object(O.jsx)("br",{})]})]})})},le=n(35),de=function(e){var t,n=e.params,r=e.params.addresses,c=a.a.useState(null!==(t=null===n||void 0===n?void 0:n.services.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]),i=Object(A.a)(c,2),o=i[0],j=i[1],u=Object(s.useState)(),b=Object(A.a)(u,2),h=b[0],p=b[1],m=Object(s.useState)(),x=Object(A.a)(m,2),f=x[0],v=x[1],g=a.a.useState([]),y=Object(A.a)(g,2),N=y[0],S=y[1],w=a.a.useState([]),C=Object(A.a)(w,2),E=C[0],_=C[1],U=a.a.useState([]),R=Object(A.a)(U,2),M=R[0],B=R[1],z=a.a.useState([]),Y=Object(A.a)(z,2),K=Y[0],q=Y[1],V=a.a.useState(),H=Object(A.a)(V,2),G=(H[0],H[1]),W=a.a.useState(""),J=Object(A.a)(W,2),Q=J[0],Z=J[1],X=a.a.useState(),$=Object(A.a)(X,2),ee=$[0],te=$[1],se=a.a.useState(!1),ae=Object(A.a)(se,2),re=ae[0],de=(ae[1],a.a.useState(!1)),Ae=Object(A.a)(de,2),je=Ae[0],ue=Ae[1];a.a.useEffect((function(){e.isButtonDisabled(re)}),[]);function be(){return(be=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return _("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&(_(n),B(n[1].listLanguages));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/regions/",e.next=3,fetch("/gdacsapi/api/register/Definition/regions/");case 3:if((t=e.sent).ok){e.next=7;break}return S("Failed to retreive regions data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&S(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/eventtypes/",e.next=3,fetch("/gdacsapi/api/register/Definition/eventtypes/");case 3:if((t=e.sent).ok){e.next=7;break}return q("Failed to retreive event types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&q(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){!function(){be.apply(this,arguments)}(),function(){he.apply(this,arguments)}(),function(){pe.apply(this,arguments)}()}),[]);var Oe=function(e){var t=Object(F.a)(o),n="";1===e.idServiceType&&(0===r.filter((function(e){return 1===e.idServiceType})).length&&(n="The channel inserted is not available in your list. Please check your list of channels."));3===e.idServiceType&&(0===r.filter((function(e){return 3===e.idServiceType})).length&&(n="The channel inserted is not available in your list. Please check your list of channels."));10===e.idServiceType&&(0===r.filter((function(e){return 10===e.idServiceType})).length&&(n="The channel inserted is not available in your list. Please check your list of channels."));for(var s=0;s<t.length;s++)t[s].idServiceType===e.idServiceType&&t[s].eventType===e.eventType&&t[s].alertLevel===e.alertLevel&&t[s].region===e.region&&t[s].language===e.language&&t[s].stopNight===e.stopNight&&t[s].enabled===e.enabled&&(n="The alert for this hazard has been already inserted. Please check.");return n};a.a.useEffect((function(){e.onChange(o)}),[o]);var me=function(){ue(!1)};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){p(null),v(!0)},children:"Add"}),Object(O.jsx)(k.a,{variant:"link",className:"float-right btn-sm",onClick:function(){te(!0)},children:"How to configure your alerts"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:o.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsxs)(ie.a,{className:"primary",children:[Object(O.jsx)(ie.a.Header,{style:{color:"white",backgroundColor:"#c6c2c2"},children:Object(O.jsx)("table",{style:{width:"100%"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"20%"},children:"NL"===e.eventType?Object(O.jsx)("img",{src:"Images/NL_Blue.png",style:{width:"30px",height:"30px"}}):Object(O.jsx)("img",{src:"Images/gdacs_icons/alerts/".concat(e.alertLevel,"/").concat(e.eventType,".png"),style:{width:"30px",height:"30px"}})}),K.filter((function(t){return t.eventtype===e.eventType})).map((function(e){return Object(O.jsx)("td",{style:{width:"80%"},children:Object(O.jsx)("b",{children:e.description})},e.eventType)}))]})})}),Object(O.jsx)(ie.a.Body,{className:"card-body flex-column h-100",children:Object(O.jsx)(ie.a.Text,{children:Object(O.jsxs)("table",{style:{width:"100%"},children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Channel : "}),E.filter((function(t){return t.idServiceType===e.idServiceType})).map((function(e){return Object(O.jsx)("td",{style:{width:"50%"},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)}))]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Region : "}),N.filter((function(t){return t.idRegion===e.region})).map((function(e){return Object(O.jsx)("td",{children:Object(O.jsx)("b",{children:e.regionName})},e.idregion)}))]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Language : "}),M.filter((function(t){return t.key===e.language})).map((function(e){return Object(O.jsx)("td",{children:Object(O.jsx)("b",{children:e.value})},e.language)}))]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Quiet Night :"}),Object(O.jsx)("td",{style:{width:"50%"},children:!0===e.stopNight?Object(O.jsx)(le.a,{color:"#044257",size:18}):Object(O.jsx)(O.Fragment,{})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Enable :"}),Object(O.jsx)("td",{style:{width:"50%"},children:!0===e.enabled?Object(O.jsx)(le.a,{color:"#0099CC",size:18}):Object(O.jsx)(O.Fragment,{})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"button",value:e.id,className:"btn btn-info",onClick:function(t){return function(e,t){var n=o.findIndex((function(e){return e.id===t}));-1!==n&&(p(Object(I.a)({},o[n])),v(!0))}(0,e.id)},children:"Edit"})}),Object(O.jsx)("td",{style:{textAlign:"right"},children:Object(O.jsx)("button",{type:"button",value:e.id,className:"btn btn-info",onClick:function(){return t=e.id,void j((function(e){return e.filter((function(e){return e.id!==t}))}));var t},children:"Delete"})})]})]})})})]}),Object(O.jsx)("br",{})]})}))}),Object(O.jsxs)(T.a,{className:"d-flex justify-content-left",show:je,onHide:me,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"User Account"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:Q}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",onClick:function(){return me()},children:"OK"})})]})]}),Object(O.jsx)(ce,{from:"right",style:{width:"90%"},isOpen:f,onRequestClose:function(){v(!1),p(null),te(!1)},children:Object(O.jsx)(ne,{service:h,onRequestSaveService:function(t){var n,s=Oe(t);""===Oe(t)?(j((function(e){var n=Object(F.a)(e),s=n.findIndex((function(e){return e.id===t.id}));if(-1===s){var a=Math.max.apply(Math,n.map((function(e){return e.id})));n.push(Object(I.a)(Object(I.a)({},t),{},{id:isFinite(a)?a+1:0}))}else n[s]=t;return n})),G(void 0),n=!1,e.isButtonDisabled(n),v(!1),Z(s)):(G(void 0),v(!1),Z(s),ue(!0))},onRequestCancel:function(){v(!1)}})}),Object(O.jsx)(ce,{from:"right",style:{width:"90%"},isOpen:ee,onRequestClose:function(){te(!1)},children:Object(O.jsx)(oe,{})})]})},Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAEaUlEQVRIS91WbUxbZRR+ensLLV9rpR/I14aSbawbS0yRsinT6LYYo8zvGP+oSzb9P8J0cybqkplM/Yfxt4nyx2jmMpVuix+wgMY45gaaOcFB6cpgjAItvf24nvPeewtWQcrMlvgkl9v3PPe8z/ue857zYtr63ucqbgEk/X3T8f8QVlV1/tFti+E/E2axeDKFmXgCqXSaDUuK37AwT55MpRCamkWLrw4dL+6A1V4KRUloHyyCGxLmXSpxBXanCx/v3onX7l+HOncRvt7dCKvDienoXCb02VixsAhtIgmHx4MDzWvRWOXQGYYF3+1pRkuDF9ejcWHJFl+RME8RTyQgr3Ki8/kG3Fvj1IgsvLm9DrsaNmCSxFMpyvsC5CzMK5+NzUEucaJnr58seRqxCA7v2IDHfOvhKfNgjtJi7DwnYXbi0D3q86LnpWayWDTiX3B450a0bq2F3V0mds7z5CQco5y+/IAPb1AIc8U9lI6TL9RjSkmJcc69OkJhLrnNha6923TL8rDveB9+noghcjUMSTbnnuNiaz7C4TF9tHz0hSO4Fg5BMmuSfxGOUtHz808wuCTlyCyZdOvyIZtN5EdyJhPYWwhzsidmonjWvwlPN23GdEyvvQwXwzONXjx190ZUV96ONLfElYAUjSVLPHGMdvJE4ya0Ntdif1MaNWvWiDZIqpiZU/AkcW3b1uKV+6rRWEntcKXCCyDFSbTA4cZb+kndF1Dw+9AgzGYz0hRWh9tDjeAOwZ26NI32kz/AKi+vjJaCZHd50LVnnT4kpJNGjBFRFBzZ7qWB1iQ4OloJ5FQIGZC7Ngc9kr9iFZlcGkM4+nA9Sqjpj09H4aJF+avne/CDtS48t6Ue45TzlYCvzMy12XbiHC1AQ+DimPrJ+WHx+1h/SLwNfPVrSP3iF812YuCKeM8jqn56gbjElD7ORlz1t59Wz4Yi6o/BSXXXh2fUTDn1Dk+i5f3jcBVYxfiRujLxZnQNjuOd7t9woPO8GD+03iPeGubga+/F298McM3otoWIo+mDHhTlydhcJuOucrvYtWSiugJSeDXQjyp7ofZtFg6dHkAodAWPeyt1yzwOBYYQuzYGu40P3N/9DwYGMTsxpte+TTMSpNKCPBz5dhBXqavIdJKL8mWd0sCRCI6GkG+RqfaNKtTQc3kSHT3nUETdjH2zwb4fdZ9FYZ4FclY0pJ+olXV096HYZqUPZLR+yeE0upeCts4LcBTQxCTaG5xE19C4zgH7KfSlNuJo0otDw/h+5LrOAGdoUa+f6oe72CZ68+WRIA52UjoIvHyT/+hnqqS3Mj7vCbqByivKkUwmYZZljAZHkUe7ZSjE1VRXIEo54h1yJASn+0boyrxztZaOS3+MoNBqEW2SI0UnDLN0H6+uqkCxhWxb3j2msqMRRP6A+zGDbWZq6sKRDcSJ+5R/E2Ru+Iv4Co6wMD3Mi/9EyCQO1zylfWih0PDDITQc+S//ZpvBL+UrON3XgOHP0cqU083GLRIG/gTApR0guC4A6gAAAABJRU5ErkJggg==",je=function(e){var t=a.a.useState(e.service.id),n=Object(A.a)(t,2),s=(n[0],n[1],a.a.useState([])),r=Object(A.a)(s,2),c=r[0],i=r[1],o=a.a.useState([]),u=Object(A.a)(o,2),b=u[0],h=u[1],p=a.a.useState(1===e.service.idServiceType&&"NL"===e.service.eventType?["Green"]:1===e.service.idServiceType?["Red","Orange","Green"]:3===e.service.idServiceType?["Red","Orange"]:["Red","Orange","Green"]),m=Object(A.a)(p,2),x=m[0],f=m[1],v=a.a.useState([]),g=Object(A.a)(v,2),y=g[0],N=g[1],S=a.a.useState([]),w=Object(A.a)(S,2),C=(w[0],w[1]),k=a.a.useState(),T=Object(A.a)(k,2),E=(T[0],T[1],a.a.useState([])),_=Object(A.a)(E,2),U=_[0],R=_[1],B=a.a.useState([]),z=Object(A.a)(B,2),K=z[0],q=z[1],V=(a.a.useContext(j),a.a.useState(e.service)),H=Object(A.a)(V,2),G=H[0],W=H[1],ne=a.a.useState(),se=Object(A.a)(ne,2),ae=se[0],re=se[1],ce=a.a.useState(),ie=Object(A.a)(ce,2),oe=ie[0],le=ie[1],de=a.a.useState(),je=Object(A.a)(de,2),ue=je[0],be=je[1],he=a.a.useState(),pe=Object(A.a)(he,2),Oe=pe[0],me=pe[1],xe=a.a.useState(),fe=Object(A.a)(xe,2),ve=fe[0],ge=fe[1],ye=a.a.useState("NL"===e.service.eventType),Ne=Object(A.a)(ye,2),Se=Ne[0],we=Ne[1],Ce=a.a.useState("NL"===e.service.eventType),ke=Object(A.a)(Ce,2),Te=ke[0],Ee=ke[1],_e=a.a.useState("NL"===e.service.eventType),Ue=Object(A.a)(_e,2),Re=Ue[0],Ie=Ue[1],Fe=a.a.useState("NL"===e.service.eventType),Me=Object(A.a)(Fe,2),Le=Me[0],De=Me[1],Pe=a.a.useState(!0),Be=Object(A.a)(Pe,2),ze=Be[0],Ye=(Be[1],a.a.useState("")),Ke=Object(A.a)(Ye,2),qe=Ke[0],Ve=(Ke[1],a.a.useState("")),He=Object(A.a)(Ve,2),Ge=He[0];He[1];function We(){return(We=Object(d.a)(l.a.mark((function t(){var n,s,a,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",t.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((n=t.sent).ok){t.next=7;break}return i("Failed to retreive services types data."),t.abrupt("return");case 7:return t.next=9,n.json();case 9:if(s=t.sent,a=Object(F.a)(s),r=[],"T2"===e.service.eventType)for(c=0;c<a.length;c++)1!==a[c].idServiceType&&10!==a[c].idServiceType||(o=a.find((function(e){return e.idServiceType===a[c].idServiceType})),r.push(o));"T2"===e.service.eventType?(i(r),h(r),N(s[1].listLanguages)):(i(s),h(s),N(s[1].listLanguages));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Je(){return(Je=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/regions/",e.next=3,fetch("/gdacsapi/api/register/Definition/regions/");case 3:if((t=e.sent).ok){e.next=7;break}return R("Failed to retreive regions data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&R(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/eventtypes/",e.next=3,fetch("/gdacsapi/api/register/Definition/eventtypes/");case 3:if((t=e.sent).ok){e.next=7;break}return q("Failed to retreive event types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&q(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=Object(d.a)(l.a.mark((function e(t){var n,s,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/gdacsapi/api/register/Definition/JoinESAllByIdservice?idService="+t,e.next=3,fetch(n);case 3:if((s=e.sent).ok){e.next=7;break}return C("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:a=e.sent,r=b.filter((function(e){return e.idServiceType===t})),a&&(f(a[0].listAlertlevels),be(at[a[0].listAlertlevels]),N(r[0].listLanguages),ge(r[0].listLanguages[0].value));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(d.a)(l.a.mark((function e(t){var n,s,a,r,c,o,d,A,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/gdacsapi/api/register/Definition/JoinESAllByCode?code="+t,e.next=3,fetch(n);case 3:if((s=e.sent).ok){e.next=7;break}return C("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:for(a=e.sent,r=Object(F.a)(a),c=r.filter((function(e){return e.eventtypecode===t})),o=Object(F.a)(b),d=[],A=function(){var e=c[j].idservicetype;if(1===e||3===e){var t=o.find((function(t){return t.idServiceType===e}));d.push(t)}},j=0;j<c.length;j++)A();a&&(C(a),i(d),re(at[d[0].idServiceType]),f(c[0].listAlertlevels),be(at[c[0].listAlertlevels[0]]),N(d[0].listLanguages),ge(d[0].listLanguages[0].value),"NL"===t&&me(U[0].key));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){e.isButtonDisabled(ze),e.responseMessage(qe),e.isModified(Ge)}),[]),a.a.useEffect((function(){!function(){We.apply(this,arguments)}(),function(){Je.apply(this,arguments)}(),function(){Qe.apply(this,arguments)}()}),[]);var $e=function(t){W((function(e){return Object(I.a)(Object(I.a)({},e),{},{eventType:t})})),"NL"===t?(we(!0),Ee(!0),Ie(!0),De(!0)):(we(!1),Ee(!1),Ie(!1),De(!1)),e.responseMessage(""),e.isModified(!0)},et=function(t){W((function(e){return Object(I.a)(Object(I.a)({},e),{},{idServiceType:parseInt(t)})})),e.responseMessage(""),e.isModified(!0)},tt=function(t){W((function(e){return Object(I.a)(Object(I.a)({},e),{},{alertLevel:t})})),e.responseMessage(""),e.isModified(!0)},nt=function(t){W((function(e){return Object(I.a)(Object(I.a)({},e),{},{region:parseInt(t)})})),e.responseMessage(""),e.isModified(!0)},st=function(t){W((function(e){return Object(I.a)(Object(I.a)({},e),{},{language:t})})),e.responseMessage(""),e.isModified(!0)};a.a.useEffect((function(){if(c.length>0){var e=parseInt(G.idServiceType);W((function(t){return Object(I.a)(Object(I.a)({},t),{},{idServiceType:e})}))}}),[c]),a.a.useEffect((function(){void 0===G.eventtype&&K.length>0&&W((function(e){return Object(I.a)(Object(I.a)({},e),{},{eventType:G.eventType})}))}),[K]),a.a.useEffect((function(){if(U.length>0){var e=parseInt(G.region);W((function(t){return Object(I.a)(Object(I.a)({},t),{},{region:e})}))}}),[U]),a.a.useEffect((function(){if(y.length>0){var e=G.language;W((function(t){return Object(I.a)(Object(I.a)({},t),{},{language:e})}))}}),[y]),a.a.useEffect((function(){if(x.length>0){var e=x[0];W((function(t){return Object(I.a)(Object(I.a)({},t),{},{alertLevel:e})}))}else{W((function(e){return Object(I.a)(Object(I.a)({},e),{},{alertLevel:"Red"})}))}}),[x]);var at={1:Object(O.jsx)(L.a,{color:"#0099CC",size:18}),3:Object(O.jsx)(D.a,{color:"#0099CC",size:18}),10:Object(O.jsx)(P.a,{color:"#0099CC",size:18}),Red:Object(O.jsx)("img",{src:J}),Orange:Object(O.jsx)("img",{src:Q}),Green:Object(O.jsx)("img",{src:Z}),EQ:Object(O.jsx)("img",{src:X,className:"icon_table"}),FL:Object(O.jsx)("img",{src:Ae,className:"icon_table"}),NL:Object(O.jsx)("img",{src:$,className:"icon_table"}),T2:Object(O.jsx)("img",{src:ee,className:"icon_table"}),TC:Object(O.jsx)("img",{src:te,className:"icon_table"})};return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.service.id}),Object(O.jsx)("td",{className:"cell_hidden",children:e.service.idService}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){le(at[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",children:oe||K.filter((function(t){return t.eventtype===e.service.eventType})).map((function(e){return Object(O.jsx)("img",{src:"Images/".concat(e.eventtype,"_Blue.png"),className:"icon_table"})}))}),Object(O.jsx)(Y.a.Menu,{onSelect:et,value:G.eventtype,children:K.map((function(e){return Object(O.jsxs)(Y.a.Item,{value:e.eventtype,eventKey:e.eventtype,onClick:function(t){return function(e){return Xe.apply(this,arguments)}(e.eventtype)},onSelect:$e,children:[Object(O.jsx)("img",{src:"Images/".concat(e.eventtype,"_Blue.png"),className:"icon_table"})," - ",e.description]},e.eventtype)}))})]})}),Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:Object(O.jsxs)(Y.a,{onSelect:function(e){re(at[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Se,children:ae||c.filter((function(t){return t.idServiceType===e.service.idServiceType})).map((function(e){return 1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})}))}),Object(O.jsx)(Y.a.Menu,{children:c.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idServiceType,eventKey:e.idServiceType,onClick:function(t){return function(e){return Ze.apply(this,arguments)}(e.idServiceType)},onSelect:et,children:1===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):3===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(P.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]})},e.idServiceType)}))})]})}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){be(at[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Te,children:ue||Object(O.jsx)("img",{src:"Images/".concat(G.alertLevel,"-bullet.gif")})}),Object(O.jsx)(Y.a.Menu,{children:x.map((function(e,t){return Object(O.jsxs)(Y.a.Item,{id:e,value:e,eventKey:e,onSelect:tt,children:[Object(O.jsx)("img",{src:"Images/".concat(e,"-bullet.gif")})," - ",e]},t)}))})]})}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){me(Object(O.jsx)(O.Fragment,{children:U.filter((function(t){return t.idRegion===parseInt(e)})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.regionName})}))}))},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Re,children:Oe||U.filter((function(t){return t.idRegion===e.service.region})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.regionName})}))}),Object(O.jsx)(Y.a.Menu,{value:G.region,children:U.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idRegion,eventKey:e.idRegion,onSelect:nt,children:e.regionName},e.idRegion)}))})]})}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){ge(Object(O.jsx)(O.Fragment,{children:y.filter((function(t){return t.key===e})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.value})}))}))},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Le,children:ve||y.filter((function(t){return t.key===e.service.language})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.value})}))}),Object(O.jsx)(Y.a.Menu,{value:G.language,children:y.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.key,eventKey:e.key,onSelect:st,children:e.value},e.key)}))})]})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{name:"stopNight",className:"input-checkbox",defaultChecked:e.service.stopNight,type:"checkbox",onChange:function(t){var n=t.currentTarget.checked;W((function(e){return Object(I.a)(Object(I.a)({},e),{},{stopNight:n})})),e.responseMessage(""),e.isModified(!0)}})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{name:"enabled",className:"input-checkbox",defaultChecked:e.service.enabled,type:"checkbox",onChange:function(t){var n=t.currentTarget.checked;W((function(e){return Object(I.a)(Object(I.a)({},e),{},{enabled:n})})),e.responseMessage(""),e.isModified(!0)}})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"red"},onClick:function(){return e.onRequestSaveService(G)},children:Object(O.jsx)(M.e,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"#ed7d31"},onClick:function(){return e.onRequestDismissEdit(e.service.id)},children:Object(O.jsx)(M.a,{style:{height:"20px"}})})]})]})},ue=function(e){var t=a.a.useState({idServiceType:"",eventType:"",alertLevel:"",region:"",language:"",stopNight:!1,enabled:!0}),n=Object(A.a)(t,2),s=n[0],r=n[1],c=a.a.useState([]),i=Object(A.a)(c,2),o=i[0],j=i[1],u=a.a.useState([]),b=Object(A.a)(u,2),h=b[0],p=b[1],m=a.a.useState([]),x=Object(A.a)(m,2),f=x[0],v=x[1],g=a.a.useState(["Red","Orange","Green"]),y=Object(A.a)(g,2),N=y[0],S=y[1],w=a.a.useState([]),C=Object(A.a)(w,2),k=C[0],T=C[1],E=a.a.useState([]),_=Object(A.a)(E,2),U=(_[0],_[1]),R=a.a.useState([]),B=Object(A.a)(R,2),z=B[0],K=B[1],q=a.a.useState(),V=Object(A.a)(q,2),H=V[0],G=V[1],W=a.a.useState(),ne=Object(A.a)(W,2),se=ne[0],ae=ne[1],re=a.a.useState(),ce=Object(A.a)(re,2),ie=ce[0],oe=ce[1],le=a.a.useState(),de=Object(A.a)(le,2),je=de[0],ue=de[1],be=a.a.useState(),he=Object(A.a)(be,2),pe=he[0],Oe=he[1],me=a.a.useState(!1),xe=Object(A.a)(me,2),fe=xe[0],ve=xe[1],ge=a.a.useState(!1),ye=Object(A.a)(ge,2),Ne=ye[0],Se=ye[1],we=a.a.useState(!1),Ce=Object(A.a)(we,2),ke=Ce[0],Te=Ce[1],Ee=a.a.useState(!1),_e=Object(A.a)(Ee,2),Ue=_e[0],Re=_e[1],Ie=a.a.useState(!0),Fe=Object(A.a)(Ie,2),Me=Fe[0],Le=(Fe[1],a.a.useState("")),De=Object(A.a)(Le,2),Pe=De[0],Be=(De[1],a.a.useState(!0)),ze=Object(A.a)(Be,2),Ye=ze[0];ze[1];function Ke(){return(Ke=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/eventtypes/",e.next=3,fetch("/gdacsapi/api/register/Definition/eventtypes/");case 3:if((t=e.sent).ok){e.next=7;break}return K("Failed to retreive event types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&K(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return j("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&(j(n),v(n),T(n[0].listLanguages));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/regions/",e.next=3,fetch("/gdacsapi/api/register/Definition/regions/");case 3:if((t=e.sent).ok){e.next=7;break}return p("Failed to retreive regions data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&p(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){e.isButtonDisabled(Me),e.responseMessage(Pe),e.isModified(Ye)}),[]),a.a.useEffect((function(){!function(){Ke.apply(this,arguments)}(),function(){qe.apply(this,arguments)}(),function(){Ve.apply(this,arguments)}()}),[]);var He=function(t){r((function(e){return Object(I.a)(Object(I.a)({},e),{},{idServiceType:parseInt(t)})})),e.isModified(Ye)},Ge=function(t){r((function(e){return Object(I.a)(Object(I.a)({},e),{},{eventType:t})})),"NL"===t?(ve(!0),Se(!0),Te(!0),Re(!0)):(ve(!1),Se(!1),Te(!1),Re(!1)),e.responseMessage(""),e.isModified(!0)},We=function(t){r((function(e){return Object(I.a)(Object(I.a)({},e),{},{alertLevel:t})})),e.responseMessage(""),e.isModified(!0)},Je=function(t){r((function(e){return Object(I.a)(Object(I.a)({},e),{},{region:parseInt(t)})})),e.responseMessage(""),e.isModified(!0)},Qe=function(t){r((function(e){return Object(I.a)(Object(I.a)({},e),{},{language:t})})),e.responseMessage(""),e.isModified(!0)};function Ze(){return(Ze=Object(d.a)(l.a.mark((function e(t){var n,s,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/gdacsapi/api/register/Definition/JoinESAllByIdservice?idService="+t,e.next=3,fetch(n);case 3:if((s=e.sent).ok){e.next=7;break}return U("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:a=e.sent,r=f.filter((function(e){return e.idServiceType===t})),a&&(S(a[0].listAlertlevels),oe($e[a[0].listAlertlevels]),T(r[0].listLanguages),Oe(r[0].listLanguages[0].value));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(d.a)(l.a.mark((function e(t){var n,s,a,r,c,i,o,d,A;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/gdacsapi/api/register/Definition/JoinESAllByCode?code="+t,e.next=3,fetch(n);case 3:if((s=e.sent).ok){e.next=7;break}return U("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:for(a=e.sent,r=Object(F.a)(a),c=r.filter((function(e){return e.eventtypecode===t})),i=Object(F.a)(f),o=[],d=function(){var e=c[A].idservicetype;if(1===e||3===e){var t=i.find((function(t){return t.idServiceType===e}));o.push(t)}},A=0;A<c.length;A++)d();a&&(j(o),G($e[o.idServiceType]),T(o[0].listLanguages),Oe(o[0].listLanguages[0].value),S(c[0].listAlertlevels),oe($e[c[0].listAlertlevels]));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){if(o.length>0){var e=parseInt(o[0].idServiceType);r((function(t){return Object(I.a)(Object(I.a)({},t),{},{idServiceType:e})}))}}),[o]),a.a.useEffect((function(){void 0===s.eventtype&&z.length>0&&r((function(e){return Object(I.a)(Object(I.a)({},e),{},{eventType:z[0].eventtype})}))}),[z]),a.a.useEffect((function(){if(h.length>0){var e=parseInt(h[0].idRegion);r((function(t){return Object(I.a)(Object(I.a)({},t),{},{region:e})}))}}),[h]),a.a.useEffect((function(){if(k.length>0){var e=k[0].key;r((function(t){return Object(I.a)(Object(I.a)({},t),{},{language:e})}))}else{r((function(e){return Object(I.a)(Object(I.a)({},e),{},{language:"en"})}))}}),[k]),a.a.useEffect((function(){if(N.length>0){var e=N[0];r((function(t){return Object(I.a)(Object(I.a)({},t),{},{alertLevel:e})}))}else{r((function(e){return Object(I.a)(Object(I.a)({},e),{},{alertLevel:"Red"})}))}}),[N]);var $e={1:Object(O.jsx)(L.a,{color:"#0099CC",size:18}),3:Object(O.jsx)(D.a,{color:"#0099CC",size:18}),10:Object(O.jsx)(P.a,{color:"#0099CC",size:18}),Red:Object(O.jsx)("img",{src:J}),Orange:Object(O.jsx)("img",{src:Q}),Green:Object(O.jsx)("img",{src:Z}),EQ:Object(O.jsx)("img",{src:X,className:"icon_table"}),FL:Object(O.jsx)("img",{src:Ae,className:"icon_table"}),NL:Object(O.jsx)("img",{src:$,className:"icon_table"}),T2:Object(O.jsx)("img",{src:ee,className:"icon_table"}),TC:Object(O.jsx)("img",{src:te,className:"icon_table"})};return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.service.id}),Object(O.jsx)("td",{className:"cell_hidden",children:e.service.idService}),Object(O.jsx)("td",{className:"cell_alerts",children:Object(O.jsxs)(Y.a,{onSelect:function(e){ae($e[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",children:se||Object(O.jsx)("img",{src:"Images/EQ_Blue.png",className:"icon_table"})}),Object(O.jsx)(Y.a.Menu,{value:s.eventtype,children:z.map((function(e){return Object(O.jsxs)(Y.a.Item,{value:e.eventtype,eventKey:e.eventtype,onClick:function(t){return function(e){return Xe.apply(this,arguments)}(e.eventtype)},onSelect:Ge,children:[Object(O.jsx)("img",{src:"Images/".concat(e.eventtype,"_Blue.png"),className:"icon_table"})," - ",e.description]},e.eventtype)}))})]})}),Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:Object(O.jsxs)(Y.a,{onSelect:function(e){G($e[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:fe,children:H||Object(O.jsx)(L.a,{color:"#0099CC",size:18})}),Object(O.jsx)(Y.a.Menu,{value:s.idServiceType,children:o.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idServiceType,eventKey:e.idServiceType,onClick:function(t){return function(e){return Ze.apply(this,arguments)}(e.idServiceType)},onSelect:He,children:1===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):3===e.idServiceType?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(P.a,{color:"#0099CC",size:18})," - ",e.codeServiceType]})},e.idServiceType)}))})]})}),Object(O.jsx)("td",{className:"cell_alerts",children:Object(O.jsxs)(Y.a,{onSelect:function(e){oe($e[e])},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Ne,children:ie||Object(O.jsx)("img",{src:"Images/".concat(N[0],"-bullet.gif")})}),Object(O.jsx)(Y.a.Menu,{value:s.alertLevel,children:N.map((function(e,t){return Object(O.jsxs)(Y.a.Item,{id:e,value:e,eventKey:e,onSelect:We,children:[Object(O.jsx)("img",{src:"Images/".concat(e,"-bullet.gif")})," - ",e]},t)}))})]})}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){ue(Object(O.jsx)(O.Fragment,{children:h.filter((function(t){return t.idRegion===parseInt(e)})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.regionName})}))}))},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",disabled:ke,variant:"light",children:je||h.filter((function(e){return 1===e.idRegion})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.regionName})}))}),Object(O.jsx)(Y.a.Menu,{children:h.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.idRegion,eventKey:e.idRegion,onSelect:Je,children:e.regionName},e.idRegion)}))})]})}),Object(O.jsx)("td",{children:Object(O.jsxs)(Y.a,{onSelect:function(e){Oe(Object(O.jsx)(O.Fragment,{children:k.filter((function(t){return t.key===e})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.value})}))}))},children:[Object(O.jsx)(Y.a.Toggle,{id:"dropdown-custom-components",variant:"light",disabled:Ue,children:pe||k.filter((function(e){return"en"===e.key})).map((function(e){return Object(O.jsx)(O.Fragment,{children:e.value})}))}),Object(O.jsx)(Y.a.Menu,{disabled:Ue,value:s.language,children:k.map((function(e){return Object(O.jsx)(Y.a.Item,{value:e.key,eventKey:e.key,onSelect:Qe,children:e.value},e.key)}))})]})}),Object(O.jsx)("td",{className:"cell_alerts",children:Object(O.jsx)("input",{className:"input-checkbox",name:"stopNight",type:"checkbox",onChange:function(t){var n=t.currentTarget.checked;r((function(e){return Object(I.a)(Object(I.a)({},e),{},{stopNight:n})})),e.responseMessage(""),e.isModified(!0)}})}),Object(O.jsx)("td",{className:"cell_alerts",children:Object(O.jsx)("input",{className:"input-checkbox",name:"enabled",type:"checkbox",defaultChecked:s.enabled,onChange:function(t){var n=t.currentTarget.checked;r((function(e){return Object(I.a)(Object(I.a)({},e),{},{enabled:n})})),e.responseMessage(""),e.isModified(!0)}})}),Object(O.jsxs)("td",{className:"cell_alerts",children:[Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"red"},onClick:function(){return e.onRequestSaveService(s)},children:Object(O.jsx)(M.e,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"#ed7d31"},onClick:function(){return e.onRequestCancelRow()},children:Object(O.jsx)(M.a,{style:{height:"20px"}})})]})]})},be=function(e){var t=a.a.useState(e.service.id),n=Object(A.a)(t,2),s=n[0],r=n[1],c=a.a.useState([]),i=Object(A.a)(c,2),o=i[0],j=i[1],u=a.a.useState([]),b=Object(A.a)(u,2),h=b[0],p=b[1],m=a.a.useState([]),x=Object(A.a)(m,2),f=(x[0],x[1]),v=a.a.useState(["Red","Orange","Green"]),g=Object(A.a)(v,2),y=(g[0],g[1],a.a.useState([])),N=Object(A.a)(y,2),S=N[0],w=N[1],C=a.a.useState([]),k=Object(A.a)(C,2),T=(k[0],k[1]);function E(){return(E=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return j("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&(j(n),f(n),w(n[1].listLanguages));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/regions/",e.next=3,fetch("/gdacsapi/api/register/Definition/regions/");case 3:if((t=e.sent).ok){e.next=7;break}return p("Failed to retreive regions data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&p(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/eventtypes/",e.next=3,fetch("/gdacsapi/api/register/Definition/eventtypes/");case 3:if((t=e.sent).ok){e.next=7;break}return T("Failed to retreive event types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&T(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.useEffect((function(){!function(){E.apply(this,arguments)}(),function(){_.apply(this,arguments)}(),function(){U.apply(this,arguments)}()}),[]),a.a.useEffect((function(){void 0===s.idServiceType&&o.length>0&&r((function(e){return Object(I.a)(Object(I.a)({},e),{},{idServiceType:o[0].idServiceType})}))}),[o]),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.service.id}),Object(O.jsx)("td",{className:"cell_hidden",children:e.service.idService}),Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:Object(O.jsx)("img",{src:"Images/".concat(e.service.eventType,"_Blue.png"),className:"icon_table"})}),o.filter((function(t){return t.idServiceType===e.service.idServiceType})).map((function(e){return Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)})),Object(O.jsxs)("td",{className:"cell_alerts",style:{textAlign:"center"},children:[Object(O.jsx)("img",{src:"Images/".concat(e.service.alertLevel,"-bullet.gif")})," "]},e.service.alertLevel),h.filter((function(t){return t.idRegion===e.service.region})).map((function(e){return Object(O.jsx)("td",{className:"cell_alerts",children:e.regionName},e.idregion)})),S.filter((function(t){return t.key===e.service.language})).map((function(e){return Object(O.jsx)("td",{className:"cell_alerts",children:e.value},e.language)})),Object(O.jsx)("td",{className:"cell_alerts",children:Object(O.jsx)("input",{className:"input-checkbox",type:"checkbox",defaultChecked:e.service.stopNight,disabled:!0})}),Object(O.jsx)("td",{className:"cell_alerts",children:Object(O.jsx)("input",{className:"input-checkbox",type:"checkbox",defaultChecked:e.service.enabled,disabled:!0})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"#ed7d31"},onClick:function(){return e.onRequestEditService(e.service.id)},children:Object(O.jsx)(M.d,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"#ed7d31"},onClick:function(){return e.onRequestDeleteService(e.service.id)},children:Object(O.jsx)(M.f,{style:{height:"20px"}})})]})]})},he=function(e){a.a.useContext(j);var t,n=e.params,s=e.params.addresses,r=a.a.useState(null!==(t=null===n||void 0===n?void 0:n.services.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]),c=Object(A.a)(r,2),i=c[0],o=c[1],l=a.a.useState(),d=Object(A.a)(l,2),u=d[0],b=d[1],h=a.a.useState(!1),p=Object(A.a)(h,2),m=p[0],x=p[1],f=a.a.useState(!1),v=Object(A.a)(f,2),g=(v[0],v[1]),y=a.a.useState(""),N=Object(A.a)(y,2),S=N[0],w=N[1],C=a.a.useState(!1),k=Object(A.a)(C,2),T=k[0],E=k[1],_=function(t){e.isButtonDisabled(t)},U=function(e){E(e)},R=function(e){w(e)},L=function(e){o((function(t){return t.filter((function(t){return t.id!==e}))}))},D=function(e){b(e),g(!0)},P=function(){b(void 0),_(!1),g(!1),w(null)},B=function(e){if(!0===T){var t=z(e);""===z(e)&&(o((function(t){var n=Object(F.a)(t),s=n.findIndex((function(t){return t.id===e.id}));if(-1===s){var a=Math.max.apply(Math,n.map((function(e){return e.id})));n.push(Object(I.a)(Object(I.a)({},e),{},{id:isFinite(a)?a+1:0}))}else n[s]=e;return n})),b(void 0),_(!1),x(!1),w(t),E(!1)),w(t)}else b(void 0),_(!1),x(!1)},z=function(e){var t=Object(F.a)(i),n="";1===e.idServiceType&&(0===s.filter((function(e){return 1===e.idServiceType})).length&&(n="The channel inserted is not available in your list. Please check your list of channels."));3===e.idServiceType&&(0===s.filter((function(e){return 3===e.idServiceType})).length&&(n="The channel inserted is not available in your list. Please check your list of channels."));10===e.idServiceType&&(0===s.filter((function(e){return 10===e.idServiceType})).length&&(n="The channel inserted is not available in your list. Please check your list of channels."));for(var a=0;a<t.length;a++)t[a].idServiceType===e.idServiceType&&t[a].eventType===e.eventType&&t[a].alertLevel===e.alertLevel&&t[a].region===e.region&&t[a].language===e.language&&t[a].stopNight===e.stopNight&&t[a].enabled===e.enabled&&(n="The alert for this hazard has been already inserted. Please check.");return n};return a.a.useEffect((function(){e.onChange(i),e.isButtonDisabled(T)}),[i,T]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("table",{className:"table generic_detail",id:"services",children:[Object(O.jsx)("thead",{style:{backgroundColor:"#ed7d31",color:"white"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"cell_hidden",children:"Id"}),Object(O.jsx)("th",{className:"cell_hidden",children:"Id Services"}),Object(O.jsx)("th",{children:"Event Type"}),Object(O.jsx)("th",{children:"Channel"}),Object(O.jsx)("th",{children:"Level"}),Object(O.jsx)("th",{children:"Region"}),Object(O.jsx)("th",{children:"Language"}),Object(O.jsx)("th",{children:"StopNight"}),Object(O.jsx)("th",{children:"Enabled"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[i.map((function(e){return e.id===u?Object(O.jsx)(je,{service:e,onRequestSaveService:B,onRequestDismissEdit:P,isButtonDisabled:_,responseMessage:R,isModified:U}):Object(O.jsx)(be,{service:e,onRequestDeleteService:L,onRequestEditService:D})})),0===i.length&&Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{textAlign:"center"},children:"No Events Types found."}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{})]}),m&&Object(O.jsx)(ue,{service:i,onRequestSaveService:B,onRequestCancelRow:function(){x(!1),_(!1),w(null)},isButtonDisabled:_,responseMessage:R,isModified:U}),!m&&Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:{backgroundColor:"#ed7d31"},onClick:function(){x(!0)},children:Object(O.jsx)(M.b,{style:{height:"20px"}})})})]})]})]}),S&&Object(O.jsx)("div",{className:"input-feedback col-12",children:S})]})},pe=function(e){var t,n=a.a.useState(e.params.addresses),s=Object(A.a)(n,2),r=s[0],c=(s[1],a.a.useState(e.params.services)),i=Object(A.a)(c,2),o=i[0],l=(i[1],f().width),d=620,j=a.a.useState(),u=Object(A.a)(j,2),b=u[0],h=u[1],p=a.a.useState(e.navIndex),m=Object(A.a)(p,2),x=m[0],v=(m[1],a.a.useState(!1)),g=Object(A.a)(v,2),y=g[0],N=(g[1],function(t){e.isButtonDisabled(t)}),S=function(t){e.onChange("services",t)};return a.a.useEffect((function(){e.onChange(r),e.isButtonDisabled(y)}),[r]),a.a.useEffect((function(){e.onChange(o)}),[o,y]),l<d?Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Select Your Alerts"}),Object(O.jsx)("br",{}),l>d&&Object(O.jsx)(H,{navIndex:x,user:e.params.idUser}),l<d&&Object(O.jsxs)(O.Fragment,{children:[0===e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,Object(W.a)({variant:"YOU_PICK_A_NAME",now:20},"now",20)),Object(O.jsx)(V.a,(t={variant:"YOU_PICK_A_NAME",now:20},Object(W.a)(t,"now",20),Object(W.a)(t,"label",4),t))]}),0!==e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25,label:3})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"Select the alert type (or disaster type), channel, region, alert level and language for your alerts. To receive a daily newsletter with the events of the past 24h, select the 'Newsletter' type. All other alerting services will send messages immediately after they have been detected by GDACS."}),Object(O.jsx)("br",{}),Object(O.jsx)(de,{params:e.params,onChange:S,isButtonDisabled:N})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Select Your Alerts"}),Object(O.jsx)("br",{}),l>d&&Object(O.jsx)(H,{navIndex:x,user:e.params.idUser}),l<d&&Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:100,label:0===e.params.idUser?5:4}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"Select the alert type (or disaster type), channel, region, alert level and language for your alerts. To receive a daily newsletter with the events of the past 24h, select the 'Newsletter' type. All other alerting services will send messages immediately after they have been detected by GDACS."}),Object(O.jsx)(k.a,{variant:"link",className:"float-right",onClick:function(){h(!0)},size:"sm",children:"How to configure your alerts"}),Object(O.jsx)(he,{params:e.params,onChange:S,isButtonDisabled:N}),Object(O.jsx)(ce,{from:"right",style:{width:"90%"},isOpen:b,onRequestClose:function(){h(!1)},children:Object(O.jsx)(oe,{})})]})},Oe=n(146),me=n(292),xe=function(e){Object(s.useContext)(j);var t=a.a.useState([]),n=Object(A.a)(t,2),r=(n[0],n[1]),c=a.a.useState([]),i=Object(A.a)(c,2),o=i[0],u=i[1],b=a.a.useState([]),h=Object(A.a)(b,2),p=h[0],m=h[1],x=a.a.useState([{id:1,description:"Html"},{id:2,description:"Text"}]),v=Object(A.a)(x,2),g=v[0],y=(v[1],e.params),N=f().width,S=a.a.useState(e.navIndex),k=Object(A.a)(S,2),T=k[0],E=(k[1],620),_=a.a.useState([{id:0,description:"UTC"},{id:1,description:"UTC + 1"},{id:2,description:"UTC + 2"},{id:3,description:"UTC + 3"},{id:4,description:"UTC + 4"},{id:5,description:"UTC + 5"},{id:6,description:"UTC + 6"},{id:7,description:"UTC + 7"},{id:8,description:"UTC + 8"},{id:9,description:"UTC + 9"},{id:10,description:"UTC + 10"},{id:11,description:"UTC + 11"},{id:12,description:"UTC + 12"},{id:-12,description:"UTC - 12"},{id:-11,description:"UTC - 11"},{id:-10,description:"UTC - 10"},{id:-9,description:"UTC - 9"},{id:-8,description:"UTC - 8"},{id:-7,description:"UTC - 7"},{id:-6,description:"UTC - 6"},{id:-5,description:"UTC - 5"},{id:-4,description:"UTC - 4"},{id:-3,description:"UTC - 3"},{id:-2,description:"UTC - 2"},{id:-1,description:"UTC - 1"}]),U=Object(A.a)(_,2),R=U[0],F=(U[1],{idUser:y.idUser,username:null===y||void 0===y?void 0:y.username,password:null===y||void 0===y?void 0:y.password,firstName:null===y||void 0===y?void 0:y.firstName,lastName:null===y||void 0===y?void 0:y.lastName,email:void 0===y.email?y.username:y.email,country:null===y||void 0===y?void 0:y.country,organisation:null===y||void 0===y?void 0:y.organisation,orgtype:null===y||void 0===y?void 0:y.orgtype,enabled:void 0!==y.enabled&&y.enabled,status:void 0===y.status?"waiting":y.status,emailOption:void 0===y.emailOption?"html":y.emailOption,notes:null===y||void 0===y?void 0:y.notes,utcOffset:void 0===y.utcOffset?0:null===y||void 0===y?void 0:y.utcOffset,addresses:(null===y||void 0===y?void 0:y.addresses)?y.addresses:[],services:(null===y||void 0===y?void 0:y.services)?y.services:[]}),M=a.a.useState(F),L=Object(A.a)(M,2),D=L[0],P=L[1],B=a.a.useState(""),z=Object(A.a)(B,2),Y=z[0],K=(z[1],a.a.useState(!1)),q=Object(A.a)(K,2),G=q[0];q[1];Object(s.useEffect)((function(){!function(){Z.apply(this,arguments)}(),function(){X.apply(this,arguments)}()}),[]);var J=function(e){var t=Object(I.a)({},D);t[e.target.name]=e.target.value,P(t)},Q=C.a().shape({firstName:C.c().required("First Name is required"),lastName:C.c().required("Last Name is required"),email:C.c().required("Email address is required"),country:C.c().required("Country is required")});function Z(){return(Z=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/countries/",e.next=3,fetch("/gdacsapi/api/register/Definition/countries/");case 3:if((t=e.sent).ok){e.next=7;break}return r("Failed to retreive country data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&u(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/organizationtype/",e.next=3,fetch("/gdacsapi/api/register/Definition/organizationtype/");case 3:if((t=e.sent).ok){e.next=7;break}return r("Failed to retreive organisation types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&m(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.useEffect((function(){e.onChange(D),e.onChangeField(D)}),[D,G]),Object(O.jsx)(w.a,{validateOnChange:!0,initialValues:D,validationSchema:Q,onSubmit:function(e,t){(0,t.setSubmitting)(!1)},children:function(t){var n,s,a,r=t.values,c=t.touched,i=t.errors,l=(t.isSubmitting,t.handleChange),d=t.handleBlur,A=t.handleSubmit;return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("form",{onSubmit:A,children:[Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Compile Credentials"}),Object(O.jsx)("br",{}),N>E&&Object(O.jsx)(H,{navIndex:T,user:y.idUser}),N<E&&Object(O.jsxs)(O.Fragment,{children:[0===e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20,label:2})]}),0!==e.params.idUser&&Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25,label:1})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("fieldset",{children:[N>E&&Object(O.jsxs)(Oe.a,{id:"1",className:"form-group",children:[Object(O.jsxs)(me.a.Row,{className:"form-row",children:[Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"firstName",children:"First Name * :"}),Object(O.jsx)(me.a.Control,(n={size:"sm",className:"form-control form-control-sm",name:"firstName",type:"text",placeholder:"Enter your Name",value:r.firstName,onChange:function(e){l(e),J(e)},onBlur:d},Object(W.a)(n,"className",i.firstName&&c.firstName&&"error"),Object(W.a)(n,"required",!0),n)),i.firstName&&c.firstName&&Object(O.jsx)("div",{className:"input-feedback",children:i.firstName}),Y&&Object(O.jsx)("div",{id:"firstName",className:"input-feedback",children:Y})]}),Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"lastName",children:"Last Name * :"}),Object(O.jsx)(me.a.Control,(s={size:"sm",className:"form-control form-control-sm",name:"lastName",type:"text",placeholder:"Enter your Surname",value:r.lastName,onChange:function(e){l(e),J(e)},onBlur:d},Object(W.a)(s,"className",i.lastName&&c.lastName&&"error"),Object(W.a)(s,"required",!0),s)),i.lastName&&c.lastName&&Object(O.jsx)("div",{className:"input-feedback",children:i.lastName}),Y&&Object(O.jsx)("div",{id:"lastName",className:"input-feedback",children:Y})]})]}),Object(O.jsxs)(me.a.Row,{className:"form-row",children:[Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"email",children:"Main Email Address * :"}),Object(O.jsx)(me.a.Control,(a={size:"sm",className:"form-control form-control-sm",name:"email",type:"text",placeholder:"Enter your mail",value:r.email,onChange:function(e){l(e),J(e)},onBlur:d},Object(W.a)(a,"className",i.email&&c.email&&"error"),Object(W.a)(a,"required",!0),a)),i.email&&c.email&&Object(O.jsx)("div",{className:"input-feedback",children:i.mail}),Y&&Object(O.jsx)("div",{id:"email",className:"input-feedback",children:Y})]}),Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"emailOption",children:"Address options :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"emailOption",onChange:function(e){l(e),J(e)},children:g.map((function(e){return Object(O.jsx)("option",{value:e.description,selected:r.emailOption===e.description,children:e.description},e.description)}))},"emailOption")]})]}),Object(O.jsxs)(me.a.Row,{className:"form-row",children:[Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"country",children:"Select your country * :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"country",onChange:function(e){l(e),J(e)},children:o.map((function(e){return Object(O.jsx)("option",{value:e.countryname,defaultValue:"-- please select a country --",selected:r.country===e.countryname,children:e.countryname},e.countryname)}))},"country")]}),Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"utcOffset",children:"Time Zone :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"utcOffset",onChange:function(e){l(e),J(e)},children:R.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:r.utcOffset===e.id,children:e.description},e.id)}))},"utcOffset")]})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(me.a.Row,{className:"form-row",children:[Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"organisation",children:"Organization :"}),Object(O.jsx)(me.a.Control,Object(W.a)({size:"sm",className:"form-control form-control-sm",name:"organisation",type:"text",placeholder:"Enter your organization",value:r.organisation,onChange:function(e){l(e),J(e)}},"className",i.organisation&&c.organisation&&"error")),i.organisation&&c.organisation&&Object(O.jsx)("div",{className:"input-feedback",children:i.organisation})]}),Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"orgtype",children:"Select your organization type :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"orgtype",onChange:function(e){l(e),J(e)},children:p.map((function(e){return Object(O.jsx)("option",{value:e.description,selected:r.orgtype===e.description,children:e.description},e.description)}))},"OrgType")]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"reason",children:"Reason for registration"}),Object(O.jsx)(me.a.Control,Object(W.a)({as:"textarea",size:"sm",className:"form-control form-control-sm",name:"notes",type:"text",placeholder:"",value:r.notes,onChange:function(e){l(e),J(e)}},"className",i.notes&&c.notes&&"error")),i.notes&&c.notes&&Object(O.jsx)("div",{className:"input-feedback",children:i.notes})]})]}),Object(O.jsx)("br",{})]}),N<E&&Object(O.jsxs)(Oe.a,{id:"1",className:"form-group",children:[Object(O.jsx)("br",{}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"firstName",children:"First Name * :"}),Object(O.jsx)(me.a.Control,Object(W.a)({size:"sm",className:"form-control form-control-sm",name:"firstName",type:"text",placeholder:"Enter your Name",value:r.firstName,onChange:function(e){l(e),J(e)}},"className",i.firstName&&c.firstName&&"error")),i.firstName&&c.firstName&&Object(O.jsx)("div",{className:"input-feedback",children:i.firstName})]})}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"lastName",children:"Last Name * :"}),Object(O.jsx)(me.a.Control,Object(W.a)({size:"sm",className:"form-control form-control-sm",name:"lastName",type:"text",placeholder:"Enter your Surname",value:r.lastName,onChange:function(e){l(e),J(e)}},"className",i.lastName&&c.lastName&&"error")),i.lastName&&c.lastName&&Object(O.jsx)("div",{className:"input-feedback",children:i.lastName})]})}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"email",children:"Main Email Address * :"}),Object(O.jsx)(me.a.Control,Object(W.a)({size:"sm",className:"form-control form-control-sm",name:"email",type:"text",placeholder:r.username,value:r.email,onChange:function(e){l(e),J(e)}},"className",i.mail&&c.mail&&"error")),i.mail&&c.mail&&Object(O.jsx)("div",{className:"input-feedback",children:i.mail})]})}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"emailOption",children:"Address options :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"emailOption",onChange:function(e){l(e),J(e)},children:g.map((function(e){return Object(O.jsx)("option",{value:e.description,selected:r.emailOption===e.description,children:e.description},e.description)}))},"emailOption")]})}),Object(O.jsx)("br",{}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"country",children:"Select your country * :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"country",onChange:function(e){l(e),J(e)},children:o.map((function(e){return Object(O.jsx)("option",{value:e.countryname,defaultValue:"-- please select a country --",selected:r.country===e.countryname,children:e.countryname},e.countryname)}))},"country")]})}),Object(O.jsx)("br",{}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"utcOffset",children:"Time Zone :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"utcOffset",onChange:function(e){l(e),J(e)},children:R.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:r.utcOffset===e.description,children:e.description},e.id)}))},"utcOffset")]})}),Object(O.jsx)("br",{}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"organisation",children:"Organization :"}),Object(O.jsx)(me.a.Control,Object(W.a)({size:"sm",className:"form-control form-control-sm",name:"organisation",type:"text",placeholder:"Enter your organisation",value:r.organisation,onChange:function(e){l(e),J(e)}},"className",i.organisation&&c.organisation&&"error")),i.organisation&&c.organisation&&Object(O.jsx)("div",{className:"input-feedback",children:i.organisation})]})}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"orgtype",children:"Select your organization type :"}),Object(O.jsx)("select",{className:"form-control form-control-sm",name:"orgtype",onChange:function(e){l(e),J(e)},children:p.map((function(e){return Object(O.jsx)("option",{value:e.description,selected:r.orgtype===e.description,children:e.description},e.description)}))})]})}),Object(O.jsx)("br",{}),Object(O.jsx)(me.a.Row,{className:"form-row",children:Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)(me.a.Label,{className:"label-user",htmlFor:"reason",children:"Reason for registration"}),Object(O.jsx)(me.a.Control,Object(W.a)({as:"textarea",size:"sm",className:"form-control form-control-sm",name:"notes",type:"text",placeholder:"",value:r.notes,onChange:function(e){l(e),J(e)}},"className",i.notes&&c.notes&&"error")),i.notes&&c.notes&&Object(O.jsx)("div",{className:"input-feedback",children:i.notes})]})}),Object(O.jsx)("br",{})]})]})]})})}})},fe=n(289),ve=function(e){a.a.useContext(j);var t=e.params;return f().width>520?Object(O.jsxs)("div",{children:[Object(O.jsxs)(fe.a,{id:"recapUser",className:"table_recapUser",children:[Object(O.jsxs)("thead",{children:[Object(O.jsx)("th",{style:{width:"50%"},children:"DataAccount"}),Object(O.jsx)("th",{style:{width:"50%"}})]}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"50%"},children:"Username :"}),Object(O.jsx)("td",{style:{width:"50%"},children:t.username})]})})]}),Object(O.jsx)(fe.a,{id:"recapUser",className:"table_recapUser",children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"25%"},children:"First Name :"}),Object(O.jsx)("td",{style:{width:"25%"},children:t.firstName}),Object(O.jsx)("th",{style:{width:"25%"},children:"Last Name :"}),Object(O.jsx)("td",{style:{width:"25%"},children:t.lastName})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"25%"},children:"Mail :"}),Object(O.jsx)("td",{style:{width:"25%"},children:t.email}),Object(O.jsx)("th",{style:{width:"15%"},children:"Mail Options :"}),Object(O.jsx)("td",{style:{width:"10%"},children:t.emailOption})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"25%"},children:"Country :"}),Object(O.jsx)("td",{style:{width:"25%"},children:t.country}),Object(O.jsx)("th",{style:{width:"15%"},children:"UTC Zone :"}),Object(O.jsx)("td",{style:{width:"10%"},children:"UTC + "+t.utcOffset})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"25%"},children:"Organization :"}),Object(O.jsx)("td",{style:{width:"25%"},children:t.organisation}),Object(O.jsx)("th",{style:{width:"25%"},children:"Search Type :"}),Object(O.jsx)("td",{style:{width:"25%"},children:t.orgtype})]})]})})]}):Object(O.jsx)("div",{children:Object(O.jsxs)(fe.a,{id:"recapUser",className:"table_recapUser",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"40%"},children:"DataAccount"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"USERNAME :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.username})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"FIRSTNAME :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.firstName})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"LASTNAME :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.lastName})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"MAIL :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.email})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"Mail Options :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.emailOption})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"COUNTRY :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.country})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"UTC ZONE :"}),Object(O.jsx)("td",{style:{width:"60%"},children:"UTC + "+t.utcOffset})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"ORGANIZATION:"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.organisation})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:"SEARCH TYPE :"}),Object(O.jsx)("td",{style:{width:"60%"},children:t.orgtype})]})]})]})})},ge=function(e){a.a.useContext(j);var t,n=e.params,s=a.a.useState(null!==(t=null===n||void 0===n?void 0:n.addresses.sort((function(e,t){return e.idServiceType>t.idServiceType?1:-1})).map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]),r=Object(A.a)(s,2),c=r[0],i=(r[1],f().width);return Object(O.jsxs)(O.Fragment,{children:[i>520&&Object(O.jsxs)(fe.a,{id:"recapUser",className:"table_recapUser",children:[Object(O.jsxs)("thead",{children:[Object(O.jsx)("th",{style:{width:"50%"},children:"Channel"}),Object(O.jsx)("th",{style:{width:"50%"},children:"Address"})]}),Object(O.jsx)("tbody",{children:c.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(ye,{address:e})})}))})]}),i<520&&Object(O.jsxs)(fe.a,{id:"recapUser",className:"table_recapUser",children:[Object(O.jsxs)("thead",{children:[Object(O.jsx)("th",{style:{width:"40%"},children:"Channel"}),Object(O.jsx)("th",{style:{width:"60%"},children:"Address"})]}),Object(O.jsx)("tbody",{children:c.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(ye,{address:e})})}))})]})]})},ye=function(e){var t=a.a.useState([]),n=Object(A.a)(t,2),s=n[0],r=n[1];function c(){return(c=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return r([]),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&r(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.useEffect((function(){!function(){c.apply(this,arguments)}()}),[]),Object(O.jsxs)(O.Fragment,{children:[s.filter((function(t){return t.idServiceType===e.address.idServiceType})).map((function(e){return Object(O.jsx)("td",{style:{textAlign:"center"},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)})),Object(O.jsx)("td",{children:10!==e.address.idServiceType?e.address.addressValue:10===e.address.idServiceType&&""===e.address.addressValue?Object(O.jsx)("div",{style:{color:"red"},children:"Not Actived, set on App"}):Object(O.jsx)("div",{style:{color:"#27ac27"},children:"Active"})})]})},Ne=function(e){a.a.useContext(j);var t,n=e.params,s=a.a.useState(null!==(t=null===n||void 0===n?void 0:n.services.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]),r=Object(A.a)(s,2),c=r[0],i=(r[1],f().width),o=520;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(fe.a,{id:"reacpUser",className:"table_recapUser",children:[Object(O.jsxs)("thead",{children:[o<i&&Object(O.jsx)("th",{style:{width:"20%"},children:"Alert Types"}),o>i&&Object(O.jsx)("th",{style:{width:"10%"},children:"Alert"}),Object(O.jsx)("th",{style:{width:"20%"},children:"Channel"}),Object(O.jsx)("th",{style:{width:"20%"},children:"Region"}),o<i&&Object(O.jsx)("th",{style:{width:"20%"},children:"Language"}),o>i&&Object(O.jsx)("th",{style:{width:"10%"},children:"Lang"}),Object(O.jsx)("th",{style:{width:"10%"},children:"Night"}),o<i&&Object(O.jsx)("th",{style:{width:"20%"},children:"Enable"}),o>i&&Object(O.jsx)("th",{style:{width:"10%"},children:"Enable"})]}),Object(O.jsx)("tbody",{children:c.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)(Se,{service:e})})}))})]})})},Se=function(e){var t=a.a.useState([]),n=Object(A.a)(t,2),s=(n[0],n[1]),r=a.a.useState([]),c=Object(A.a)(r,2),i=c[0],o=c[1],j=a.a.useState([]),u=Object(A.a)(j,2),b=u[0],h=u[1],p=a.a.useState([]),m=Object(A.a)(p,2),x=m[0],v=m[1],g=a.a.useState([]),y=Object(A.a)(g,2),N=(y[0],y[1]),S=f().width;function w(){return(w=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/servicetype/",e.next=3,fetch("/gdacsapi/api/register/Definition/servicetype/");case 3:if((t=e.sent).ok){e.next=7;break}return s("Failed to retreive services types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&(s(n),h(n),v(n[1].listLanguages));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/regions/",e.next=3,fetch("/gdacsapi/api/register/Definition/regions/");case 3:if((t=e.sent).ok){e.next=7;break}return o("Failed to retreive regions data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&o(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/gdacsapi/api/register/Definition/eventtypes/",e.next=3,fetch("/gdacsapi/api/register/Definition/eventtypes/");case 3:if((t=e.sent).ok){e.next=7;break}return N("Failed to retreive event types data."),e.abrupt("return");case 7:return e.next=9,t.json();case 9:(n=e.sent)&&N(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.useEffect((function(){!function(){w.apply(this,arguments)}(),function(){C.apply(this,arguments)}(),function(){k.apply(this,arguments)}()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:"NL"===e.service.eventType?Object(O.jsx)("img",{src:"Images/NL_Blue.png",style:{width:"20px",height:"20px"}}):Object(O.jsx)("img",{src:"Images/gdacs_icons/alerts/".concat(e.service.alertLevel,"/").concat(e.service.eventType,".png"),style:{width:"20px",height:"20px"}})},e.service.eventType),b.filter((function(t){return t.idServiceType===e.service.idServiceType})).map((function(e){return Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:1===e.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.idServiceType)})),i.filter((function(t){return t.idRegion===e.service.region})).map((function(e){return Object(O.jsx)("td",{className:"cell_alerts",children:e.regionName},e.idregion)})),x.filter((function(t){return t.key===e.service.language})).map((function(e){return Object(O.jsx)("td",{className:"cell_alerts",children:520<S?e.value:e.key.toUpperCase()},e.key)})),Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:!0===e.service.stopNight?Object(O.jsx)(le.a,{color:"#044257",size:18}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsx)("td",{className:"cell_alerts",style:{textAlign:"center"},children:!0===e.service.enabled?Object(O.jsx)(le.a,{color:"#0099CC",size:18}):Object(O.jsx)(O.Fragment,{})})]})},we=function(e){Object(s.useContext)(j);var t=e.params,n=a.a.useState(),r=Object(A.a)(n,2),c=r[0],i=r[1],o=a.a.useState(e.navIndex),l=Object(A.a)(o,2),d=l[0],u=(l[1],f().width);return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{children:[Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Confirm Data Account"}),Object(O.jsx)("br",{}),u>620&&Object(O.jsx)(H,{navIndex:d,user:t.idUser}),u<620&&Object(O.jsxs)(O.Fragment,{children:[0===e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20,label:5})]}),0!==e.params.idUser&&Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25}),Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:25,label:4})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)(ve,{params:e.params}),Object(O.jsx)(ge,{params:e.params}),Object(O.jsx)(Ne,{params:e.params}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",style:{fontSize:"12px"},children:[" ",Object(O.jsx)("b",{children:"Conditions for use:"}),Object(O.jsx)("br",{}),"I understand that the alerts provided by GDACS are calculated by a computer without human intervention and that errors are possible. I understand that I cannot use this information for decision making without alternate sources of information to confirm or disprove the GDACS alerts. The service can only be used for disaster monitoring purposes. JRC can terminate accounts unilateraly without notice in case of abuse. The data you provide in this form is kept for the purpose of alerting you and for internal usage statistics. The information will not be disclosed to third parties, unless it is necessary for the fulfillment of the purpose identified above. Your data is kept for 1 year after you unregister from the system. For further information, see the European Commission Personal Data Protection, see ",Object(O.jsx)("a",{href:"http://ec.europa.eu/dpo-register/detail/DPR-EC-00240",target:"_blank",children:"DPR-EC-00240.1"}),". For further inquiries contact  ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"col-12 row",style:{flexWrap:"nowrap"},children:[Object(O.jsx)("input",{type:"checkbox","aria-label":"Checkbox for following text input",onClick:function(t){i(Object(I.a)(Object(I.a)({},c),{},Object(W.a)({},t.target.name,t.target.checked))),e.handleCheck&&e.handleCheck(t.target.checked)},style:{maxWidth:"20px",marginLeft:"10px",marginTop:"5px"}})," \xa0",Object(O.jsx)("label",{style:{fontSize:"14px",maxWidth:"-moz-fit-content"},children:"    Accept Conditions for use"})]})]})]})})},Ce=n(38),ke=n.n(Ce),Te=function(e){var t=Object(s.useContext)(j),n=a.a.useState(""),r=Object(A.a)(n,2),c=r[0],o=r[1],b=a.a.useState(!1),h=Object(A.a)(b,2),p=(h[0],h[1],t.data?t.data:e.params?e.params:e.location.state),m=a.a.useState(e.navIndex?e.navIndex:1),x=Object(A.a)(m,2),f=x[0],v=x[1],g=a.a.useState(p||{idUser:0,username:"",password:"",firstName:"",lastName:"",email:"",country:"",organisation:"",orgtype:"",emailOption:"",notes:"",utcOffset:0,enabled:!1,status:"",addresses:[],services:[]}),y=Object(A.a)(g,2),N=y[0],S=y[1],w=(a.a.useRef({username:"",password:"",firstName:"",lastName:"",emailp:"",adress:"",company:""}),a.a.useState(!0)),C=Object(A.a)(w,2),E=C[0],_=C[1],R=a.a.useState(!1),F=Object(A.a)(R,2),M=F[0],L=F[1],D=a.a.useState({usernamepassword:!1,customdata1:!1,customdata2:!1}),P=Object(A.a)(D,2),B=P[0],z=P[1],Y=a.a.useState(!1),K=Object(A.a)(Y,2),q=(K[0],K[1]),V=a.a.useState(!1),H=Object(A.a)(V,2),W=H[0],J=H[1],Q=a.a.useState(!1),Z=Object(A.a)(Q,2),X=(Z[0],Z[1]),$=a.a.useState(!1),ee=Object(A.a)($,2),te=ee[0],ne=ee[1],se=a.a.useState(!1),ae=Object(A.a)(se,2),re=ae[0],ce=ae[1],ie=a.a.useState(!1),oe=Object(A.a)(ie,2),le=oe[0],de=oe[1];a.a.useEffect((function(){q(B.usernamepassword&&B.customdata1&&B.customdata2)}),[B]);var Ae=function(e,t){S((function(n){var s=Object(I.a)({},n);return s[e]=t,s}))},je=function(e){S(e)},ue=function(e){L(e)},be=function(e,t){z((function(t){var n=Object(I.a)({},t);return n[e]=t,n}))},he=function(e){switch(e.target.value){case"prev":v((function(e){return e-1>0?e-1:0}));break;case"next":v((function(e){return e+1<5?e+1:5}))}};function Oe(){return(Oe=Object(d.a)(l.a.mark((function e(n){var s,a,r,c,i,d,A,j,u,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=[],a=0;a<n.addresses.length;a++)s.push({idUserAddress:n.addresses[a].idUserAddress,idUser:n.idUser,idServiceType:n.addresses[a].idServiceType,addressOption:n.addresses[a].addressOption,deviceKey:""===n.addresses[a].deviceKey,addressValue:n.addresses[a].addressValue,checkcode:n.addresses[a].checkcode,checkvalidate:n.addresses[a].checkvalidate,checkdate:n.addresses[a].checkdate}),1!==n.addresses[a].idServiceType&&3!==n.addresses[a].idServiceType||!1===n.addresses[a].checkvalidate&&de(!0);for(r=[],c=0;c<n.services.length;c++)r.push({idService:n.services[c].idService,idUser:n.idUser,idServiceType:n.services[c].idServiceType,eventType:n.services[c].eventType,alertLevel:n.services[c].alertLevel,region:n.services[c].region,language:n.services[c].language,stopNight:n.services[c].stopNight,enabled:n.services[c].enabled});return i={idUser:null===n||void 0===n?void 0:n.idUser,lastName:null===n||void 0===n?void 0:n.lastName,firstName:null===n||void 0===n?void 0:n.firstName,country:null===n||void 0===n?void 0:n.country,enabled:null===n||void 0===n?void 0:n.enabled,email:null===n||void 0===n?void 0:n.email,emailOption:null===n||void 0===n?void 0:n.emailOption,username:null===n||void 0===n?void 0:n.username,password:null===n||void 0===n?void 0:n.password,notes:null===n||void 0===n?void 0:n.notes,organisation:null===n||void 0===n?void 0:n.organisation,orgtype:null===n||void 0===n?void 0:n.orgtype,status:(null===n||void 0===n?void 0:n.idUser)?"confirmed":"waiting",datemodified:ke.a.utc(Date.now()).format("YYYY-MM-DDTHH:mm:ss"),utcOffset:null===n||void 0===n?void 0:n.utcOffset,addresses:s,services:r,token:(null===n||void 0===n?void 0:n.token)?n.token:""},d=(null===n||void 0===n?void 0:n.idUser)?{method:"POST",body:JSON.stringify(i),headers:{Authorization:"Bearer "+U(),Accept:"application/json","Content-Type":"application/json"}}:{method:"POST",body:JSON.stringify(i),headers:{Accept:"application/json","Content-Type":"application/json"}},A=(null===n||void 0===n?void 0:n.idUser)?"/gdacsapi/api/register/Users/update":"/gdacsapi/api/register/Users/create",e.next=9,fetch(A,d);case 9:if((j=e.sent).ok){e.next=19;break}return e.next=13,j.json();case 13:return u=e.sent,o(u.message),X(void 0),e.abrupt("return");case 19:return e.next=21,j.json();case 21:b=e.sent,o(b.message),0!==n.idUser&&t.update(b),ne(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(e){!0===e?(ne(!1),ce(!0)):(ce(!1),ne(!1)),J(!0)};return a.a.useEffect((function(){console.log("isDisabled",E)}),[E]),a.a.useEffect((function(){}),[M]),W&&!(null===N||void 0===N?void 0:N.idUser)?(t.logout(),Object(O.jsx)(u.a,{to:"/"})):Object(O.jsxs)("div",{className:"alerts_container col-12",children:[Object(O.jsx)("br",{}),1===f&&Object(O.jsx)(xe,{params:N,navIndex:f,onChange:je,onChangeValid:function(e){return be("customdata1")},onChangeField:function(e){void 0===e.firstName||""===e.firstName||void 0===e.lastName||""===e.lastName||void 0===e.email||""===e.email||void 0===e.country||""===e.country?L(!0):L(!1)}}),2===f&&Object(O.jsx)(G,{params:N,navIndex:f,isButtonDisabled:ue,onChange:Ae,onChangeValid:function(e){return be("customdata2")}}),3===f&&Object(O.jsx)(pe,{params:N,navIndex:f,isButtonDisabled:ue,onChange:Ae,onChangeValid:function(e){return be("customdata3")}}),4===f&&Object(O.jsx)(we,{params:N,navIndex:f,onChange:je,onChangeValid:function(e){return be("customdata4")},handleCheck:function(e){_(!e)}}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"form-row",children:[Object(O.jsx)("div",{className:"col-6",children:f>1&&Object(O.jsx)("div",{style:{paddingLeft:"20px"},children:Object(O.jsx)("button",{id:"prev",type:"button",value:"prev",className:"btn btn-primary",style:{minWidth:"80px"},onClick:he,disabled:M,children:"Prev"})})}),Object(O.jsxs)("div",{className:"col-6",children:[f<4&&Object(O.jsx)("div",{style:{paddingRight:"20px"},children:Object(O.jsx)("button",{id:"next",type:"button",value:"next",className:"float-right btn btn-primary",style:{minWidth:"80px"},onClick:he,disabled:M,children:"Next"})}),4===f&&Object(O.jsx)("div",{style:{paddingRight:"20px"},children:Object(O.jsx)("button",{id:"confirm",type:"button",className:"float-right btn btn-info",onClick:function(e){console.log("data: ",N),function(e){Oe.apply(this,arguments)}(N)},disabled:E,children:"Submit"})})]})]}),Object(O.jsxs)(T.a,{className:"d-flex justify-content-left",show:te,onHide:me,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"User Account"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:0===N.idUser?c:"Data User account saved correctly."}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",onClick:function(){return me(le)},children:"OK"})})]})]}),Object(O.jsxs)(T.a,{show:re,onHide:me,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Validate Your Number"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"To receive the GDACS alerts, first you need to validate your channels. Do you want to do it now?"}),Object(O.jsxs)(T.a.Footer,{children:[Object(O.jsx)(i.c,{to:{pathname:"/ValidateContainer",origin:"Register"},className:"btn btn-primary ",children:"Yes"}),Object(O.jsx)(k.a,{variant:"secondary",onClick:me,children:"No"})]})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})},Ee=(n(67),function(e){var t=Object(s.useContext)(j),n=a.a.useState(""),r=Object(A.a)(n,2),c=r[0],o=r[1],u={username:t.username,oldpassword:"",newPassword:"",cNewPassword:""},b=a.a.useState(u),h=Object(A.a)(b,2),p=(h[0],h[1],a.a.useState(!1)),m=Object(A.a)(p,2),x=(m[0],m[1]),f=Object(s.useState)(!1),v=Object(A.a)(f,2),g=v[0],y=(v[1],a.a.useState(!1)),N=Object(A.a)(y,2),S=(N[0],N[1]),E=a.a.useState(!1),_=Object(A.a)(E,2),U=(_[0],_[1]),R=a.a.useState(!1),I=Object(A.a)(R,2),F=I[0],M=I[1],L=C.a().shape({username:C.c().required("Required"),oldpassword:C.c().required("No password provided."),newPassword:C.c().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#.\$%\^&\*\~\.\-])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character (!@_#$%.-&* ~)."),confirm_password:C.c().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#.\$%\^&\*\~\.\-])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character (!@_#$%.-&* ~).").oneOf([C.b("newPassword")],"Password's not match")}),D=a.a.useState(u),P=Object(A.a)(D,2),B=(P[0],P[1],function(){M(!1),S(void 0),U(!0)});function z(){return(z=Object(d.a)(l.a.mark((function e(n){var s,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:n.username,oldPassword:n.oldpassword,newPassword:n.newPassword,confirmPassword:n.confirm_password},a={method:"POST",body:JSON.stringify(s),headers:{Authorization:"Bearer "+t.token,Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/changepassword/",a);case 4:if((r=e.sent).ok){e.next=13;break}return e.next=8,r.json();case 8:return c=e.sent,o(c.message),e.abrupt("return");case 13:x(!1),M(!0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(w.a,{initialValues:u,validationSchema:L,onSubmit:function(e,t){(0,t.setSubmitting)(!1),function(e){z.apply(this,arguments)}(e)},children:function(e){var t=e.values,n=e.touched,s=e.errors,a=e.handleChange,r=e.handleBlur,o=e.handleSubmit;return Object(O.jsx)("div",{className:"alerts_container col-12",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Change your Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"Password: minimum 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character (!@_#$%.-&* ~)."}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"username",type:"text",placeholder:"Enter your Username",value:t.username,onChange:a}),s.email&&n.username&&Object(O.jsx)("div",{className:"input-feedback",children:s.username})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",htmlFor:"oldpassword",children:"Old Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"oldpassword",type:"password",placeholder:"Enter old password",value:t.oldpassword,onChange:a}),s.oldpassword&&n.oldpassword&&Object(O.jsx)("div",{className:"input-feedback",children:s.oldpassword})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",htmlFor:"newPassword",children:"New Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"newPassword",type:"password",placeholder:"Enter new password",value:t.newPassword,onChange:a,onBlur:r}),s.newPassword&&n.newPassword&&Object(O.jsx)("div",{className:"input-feedback",children:s.newPassword})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",children:"Confirm Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",type:"password",name:"confirm_password",placeholder:"Confirm new password",value:t.confirm_password,onChange:a,onBlur:r}),s.confirm_password&&n.confirm_password&&Object(O.jsx)("div",{className:"input-feedback",children:s.confirm_password})]}),c&&Object(O.jsx)("div",{className:"input-feedback",children:c}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{style:{paddingRight:"20px"},children:Object(O.jsx)(k.a,{className:"float-right btn btn-primary",variant:"primary",onClick:o,children:"Save"})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)(T.a,{show:F,onHide:B,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Change Password"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"Your Password has been changed."}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(i.c,{to:{pathname:"/Home",origin:"ChangePwd"},className:"btn btn-primary ",children:"Ok"})})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),g&&Object(O.jsx)("h2",{children:" Submit Successful"})]})})}})}),_e=n(61),Ue=n(290),Re=n(69),Ie=function(e){var t,n,s=a.a.useContext(j),r=a.a.useState(null!==(t=null===(n=s.data)||void 0===n?void 0:n.addresses.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]),c=Object(A.a)(r,2),i=c[0],o=c[1],u=a.a.useState(),b=Object(A.a)(u,2),h=b[0],p=b[1],m=a.a.useState(""),x=Object(A.a)(m,2),v=x[0],g=x[1],y=a.a.useState(s.data),N=Object(A.a)(y,2),S=N[0],w=(N[1],a.a.useState()),C=Object(A.a)(w,2),E=(C[0],C[1],a.a.useState(!1)),_=Object(A.a)(E,2),R=(_[0],_[1]),M=a.a.useState(!1),L=Object(A.a)(M,2),D=L[0],P=L[1],B=a.a.useState(!1),z=Object(A.a)(B,2),Y=z[0],K=z[1],q=f().width;function V(){return(V=Object(d.a)(l.a.mark((function e(t){var n,a,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t},a={method:"POST",type:"no-cors",body:JSON.stringify(n),headers:{Authorization:"Bearer "+U(),Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/getuserbyusername/",a);case 4:if((r=e.sent).ok){e.next=13;break}return e.next=8,r.json();case 8:return c=e.sent,g(c.message),e.abrupt("return");case 13:return e.next=15,r.json();case 15:i=e.sent,s.update(i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){p(e)},G=function(){p(void 0),g(null)},W=function(){K(!1),P(void 0)};a.a.useEffect((function(){}),[i]);var J=function(e){!function(e){Q.apply(this,arguments)}(e)};function Q(){return(Q=Object(d.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{username:s.data.username,idServiceType:t.idServiceType,addressValue:t.addressValue},n={method:"POST",headers:{Authorization:"Bearer "+s.token,Accept:"application/json","Content-Type":"application/json","token-captcha":t.tokencaptcha}},e.next=4,fetch("/gdacsapi/api/register/Users/RequireTestMessage?username="+s.data.username+"&addressValue="+(3===t.idServiceType?t.addressValue.replace(/\+/g,"%2B"):t.addressValue)+"&idservicetype="+t.idServiceType,n);case 4:if((a=e.sent).ok){e.next=13;break}return e.next=8,a.json();case 8:return r=e.sent,g(r.message),e.abrupt("return");case 13:g(1===t.idServiceType?"EMAIL Test message has been sent, you'll receive it by few minutes.":"SMS Test message has been sent, you'll receive it by few minutes.");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(e){!function(e){X.apply(this,arguments)}(e),function(e){V.apply(this,arguments)}(s.data.username),R(!0)};function X(){return(X=Object(d.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""!==v&&g(""),n={username:s.data.username,addressValue:t.addressValue},a={method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer "+s.token,Accept:"application/json","Content-Type":"application/json","token-captcha":t.tokencaptcha}},e.next=5,fetch("/gdacsapi/"+(1===t.idServiceType?"api/register/Users/RequireEmailCode":"api/register/Users/RequireSmsCode"),a);case 5:if((r=e.sent).ok){e.next=14;break}return e.next=9,r.json();case 9:return c=e.sent,g(c.message),e.abrupt("return");case 14:g(1===t.idServiceType?Object(O.jsx)(O.Fragment,{children:"EMAIL code has been sent, you'll receive it by few minutes."}):Object(O.jsx)(O.Fragment,{children:"SMS code has been sent, you'll receive it by few minutes. "}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(d.a)(l.a.mark((function e(){var t,n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:s.username},n={method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+s.token,Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/getuserbyusername/",n);case 4:if((a=e.sent).ok){e.next=13;break}return e.next=8,a.json();case 8:return r=e.sent,g(r.message),e.abrupt("return");case 13:return e.next=15,a.json();case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=ne(t))){e.next=9;break}return e.next=4,$();case 4:s=e.sent,s.addresses.filter((function(e){return e.idUserAddress===t.idUserAddress}))[0].checkcode===t.checkcode?o((function(e){var n=Object(F.a)(e),s=n.findIndex((function(e){return e.id===t.id}));return n[s]=t,p(void 0),P(!0),g("Code inserted OK. Please click Confirm button to validate number."),n})):(P(!1),g("Code digited is not correct.")),e.next=10;break;case 9:g(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t="";3===e.idServiceType&&"undefined"!==e.checkCode&&(new RegExp(/^[0-9]*$/).test(e.checkcode)?4!==e.checkcode.length&&(t="The number inserted contains too many numbers. Please enter valid phone number."):t="Please enter only number.");return t};function se(){return(se=Object(d.a)(l.a.mark((function e(t){var n,a,r,c,i,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=0;a<t.length;a++)n.push({idUserAddress:t[a].idUserAddress,idServiceType:t[a].idServiceType,addressOption:t[a].addressOption,deviceKey:""===t[a].deviceKey,addressValue:t[a].addressValue,checkcode:t[a].checkcode,checkvalidate:t[a].checkvalidate,checkdate:t[a].checkdate,requiretest:t[a].requiretest});return r={idUser:null===S||void 0===S?void 0:S.idUser,lastName:null===S||void 0===S?void 0:S.lastName,firstName:null===S||void 0===S?void 0:S.firstName,country:null===S||void 0===S?void 0:S.country,email:null===S||void 0===S?void 0:S.email,enabled:null===S||void 0===S?void 0:S.enabled,emailOption:null===S||void 0===S?void 0:S.emailOption,username:null===S||void 0===S?void 0:S.username,password:null===S||void 0===S?void 0:S.password,notes:null===S||void 0===S?void 0:S.notes,organisation:null===S||void 0===S?void 0:S.organisation,orgtype:null===S||void 0===S?void 0:S.orgtype,status:null===S||void 0===S?void 0:S.status,datemodified:ke()(Date.now()).format("YYYY-MM-DDTHH:mm:ss"),utcOffset:null===S||void 0===S?void 0:S.utcOffset,addresses:n,services:S.services,token:S.token},c={method:"POST",body:JSON.stringify(r),headers:{Authorization:"Bearer "+U(),Accept:"application/json","Content-Type":"application/json"}},e.next=6,fetch("/gdacsapi/api/register/Users/update",c);case 6:if((i=e.sent).ok){e.next=15;break}return e.next=10,i.json();case 10:return o=e.sent,g(o.message),e.abrupt("return");case 15:return e.next=17,i.json();case 17:d=e.sent,s.update(d),K(!0);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"alerts_container col-12",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Validate your Alert Channel"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",children:['1 - To validate your email, please click on "',Object(O.jsx)("b",{children:"EMAIL code"}),'" button to generate the code. The Mail containing the code validator will be sent to your mail address in few seconds.',Object(O.jsx)("br",{}),'To validate the phone number, please click on "',Object(O.jsx)("b",{children:"SMS code"}),'" button to generate the code. The SMS containing the code validator will be sent to your number in few seconds.']}),Object(O.jsxs)("div",{className:"p_summary",children:['2 - When you will receive the EMAIL or SMS, please click on "',Object(O.jsx)("b",{children:"Edit"}),'" button, insert the code in the specific box, save and']}),Object(O.jsxs)("div",{className:"p_summary",children:['3 - Click on "',Object(O.jsx)("b",{children:"Confirm"}),'" button to finalise the validation.']}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"The code can be generated every 6 hours"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",children:["If you don't receive it please contact ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("table",{className:q<520?"table generic_detail_mobile":"table generic_detail",style:{maxWidth:"800px"},id:"address",children:[Object(O.jsx)("thead",{style:{backgroundColor:"#0099CC",color:"white"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"cell_hidden",children:"Id"}),Object(O.jsx)("th",{className:"cell_hidden",children:"IdUserAddress"}),Object(O.jsx)("th",{children:"Channel"}),Object(O.jsx)("th",{children:"Address"}),Object(O.jsx)("th",{children:"Check Code"}),Object(O.jsx)("th",{children:"Validate"}),Object(O.jsx)("th",{children:"Actions"}),Object(O.jsx)("th",{className:"cell_hidden",children:"Option"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[i.filter((function(e){return 10!==e.idServiceType})).map((function(e){return e.id===h&&10!==e.idServiceType?Object(O.jsx)(Fe,{address:e,onRequestSaveAddress:te,onRequestDismissEdit:G}):Object(O.jsx)(Me,{address:e,onRequestEditAddress:H,onRequestSentSMS:Z,onRequestSentTest:J})})),0===i.length&&Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{textAlign:"center"},children:"No Channel found."}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{})]})]})]}),v&&Object(O.jsx)("div",{className:"input-feedback col-12",children:v}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{style:{paddingRight:"20px"},children:[Object(O.jsx)(k.a,{className:"float-right btn btn-info",onClick:function(e){""!==v&&g(""),function(e){se.apply(this,arguments)}(i)},disabled:!D,children:"Confirm"}),"  \xa0"]}),Object(O.jsxs)(T.a,{show:Y,onHide:W,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Validate Your Number"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"Your addresses have been checked. Now you can receive Gdacs alerts."}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",className:"float-right",onClick:W,children:"Confirm"})})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})},Fe=function(e){a.a.useContext(j);var t=a.a.useState(),n=Object(A.a)(t,2),s=n[0],r=(n[1],a.a.useState(e.address.checkcode)),c=Object(A.a)(r,2),i=(c[0],c[1],a.a.useState(e.address)),o=Object(A.a)(i,2),l=o[0],d=o[1];return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.address.id}),Object(O.jsx)("td",{className:"cell_hidden",children:e.address.idUserAddress}),Object(O.jsx)("td",{style:{textAlign:"center"},children:1===e.address.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.address.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})}),Object(O.jsx)("td",{children:e.address.addressValue}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{className:"input-table",name:"checkcode",value:s,onChange:function(e){!function(e){var t=e.currentTarget.value;d((function(e){return Object(I.a)(Object(I.a)({},e),{},{checkcode:t,checkvalidate:!0,checkdate:ke.a.utc().add(-6,"hours").format("YYYY-MM-DDTHH:mm:ss")})}))}(e)}})}),Object(O.jsx)("td",{style:{textAlign:"center"},children:!1===l.checkvalidate||null===l.checkCode?Object(O.jsx)(_e.a,{color:"#FF0000",size:18}):Object(O.jsx)(M.c,{size:16})}),Object(O.jsxs)("td",{style:{maxWidth:"310px;"},children:[Object(O.jsx)("button",{type:"button ",className:"btn btn_table btn-primary",style:{backgroundColor:"red"},onClick:function(){return e.onRequestSaveAddress(l)},children:Object(O.jsx)(M.e,{style:{height:"20px"}})})," \xa0",Object(O.jsx)("button",{type:"button ",className:"btn btn_table btn-primary",style:{backgroundColor:"#0099CC"},onClick:function(){return e.onRequestDismissEdit(e.address.id)},children:Object(O.jsx)(M.a,{style:{height:"20px"}})})]}),Object(O.jsx)("td",{})]})},Me=function(e){a.a.useContext(j);var t=a.a.useState(e.address),n=Object(A.a)(t,2),r=n[0],c=n[1],i=a.a.useState(!1),o=Object(A.a)(i,2),l=o[0],d=o[1],u=a.a.useState(!0),b=Object(A.a)(u,2),h=b[0],p=b[1],m=f().width,x=620,v=Object(s.useRef)(null),g=function(t){e.onRequestSentSMS(t),d(!0)};return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cell_hidden",children:e.address.id}),Object(O.jsx)("td",{style:{textAlign:"center"},children:1===e.address.idServiceType?Object(O.jsx)(L.a,{color:"#0099CC",size:18}):3===e.address.idServiceType?Object(O.jsx)(D.a,{color:"#0099CC",size:18}):Object(O.jsx)(P.a,{color:"#0099CC",size:18})},e.address.idServiceType),Object(O.jsx)("td",{children:e.address.addressValue}),Object(O.jsx)("td",{style:{textAlign:"center",minWidth:"80px"},children:"- - - -"}),Object(O.jsx)("td",{style:{textAlign:"center"},children:!0===r.checkvalidate&&null!=r.checkcode?Object(O.jsx)(le.a,{color:"#0099CC",size:18}):!1===r.checkvalidate&&null!==r.checkcode?Object(O.jsx)(M.c,{size:16}):Object(O.jsx)(_e.a,{color:"#FF0000",size:18})}),Object(O.jsxs)("td",{style:{minWidth:"170px"},children:[!1===r.checkvalidate&&Object(O.jsx)("div",{className:"col-lg-12",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:x>m?{backgroundColor:"#0099CC",marginBottom:"5px"}:{backgroundColor:"#0099CC"},onClick:function(){return e.onRequestEditAddress(e.address.id)},disabled:!0===r.checkvalidate,children:Object(O.jsx)(M.d,{style:{height:"20px"}})})," \xa0",1===e.address.idServiceType?Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:x>m?{backgroundColor:"#0099CC",marginBottom:"5px",height:"34px"}:{backgroundColor:"#0099CC",paddingLeft:"7px",paddingRight:"7px"},onClick:function(){return g(r)},disabled:h||l||!0===r.checkvalidate,children:x>m?Object(O.jsx)(Ue.a,{size:18}):"EMAIL Code"}):Object(O.jsx)("button",{type:"button",className:"btn btn_table btn-primary",style:x>m?{backgroundColor:"#0099CC",marginBottom:"5px",height:"34px"}:{backgroundColor:"#0099CC"},onClick:function(){return g(r)},disabled:h||l||!0===r.checkvalidate,children:x>m?Object(O.jsx)(D.a,{size:18}):"SMS Code"})]})}),!0===r.checkvalidate&&Object(O.jsx)("button",{type:"button ",className:"btn btn_table btn-primary",style:x>m?{backgroundColor:"#0099CC",marginBottom:"5px",height:"34px"}:{backgroundColor:"#0099CC"},onClick:function(){return function(t){e.onRequestSentTest(t)}(r)},disabled:h||!1===r.checkvalidate||null===r.checkvalidate,children:"Test"})]}),Object(O.jsx)("td",{style:{maxWidth:"260px"},children:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("form",{className:"captcha",children:Object(O.jsx)(Re.a,{sitekey:"6Ldc7HAUAAAAAL7WyNQZ9MgyjunJnrTLGnh-GuTZ",ref:v,onChange:function(e){c((function(t){return t.tokencaptcha=e,t})),null!=r.tokencaptcha?p(!1):p(!0)}})})})})]})},Le=function(e){var t=a.a.useState(e.address),n=Object(A.a)(t,2),s=n[0],r=n[1],c=a.a.useState(),i=Object(A.a)(c,2),o=i[0];i[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"Please insert code number that you have received on request address and click on button to check if is valid."}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("label",{htmlFor:"alertLevel",children:"Insert Code :"})}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("input",{className:"input-table ",name:"checkcode",value:o,style:{padding:"0px;"},onChange:function(e){!function(e){var t=e.currentTarget.value;r((function(e){return Object(I.a)(Object(I.a)({},e),{},{checkcode:t,checkvalidate:!0,checkdate:ke.a.utc().add(-6,"hours").format("YYYY-MM-DDTHH:mm:ss")})}))}(e)}})})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-6",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return e.onRequestSaveCode(s)},children:"Save"})," \xa0"]}),Object(O.jsx)("div",{className:"col-6",style:{textAlign:"right"},children:Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return e.onRequestCancel(s)},children:"Cancel"})})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})]})},De=function(e){var t,n,r=a.a.useContext(j),c=a.a.useState(null!==(t=null===(n=r.data)||void 0===n?void 0:n.addresses.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t,messageText:"",disableButton:!1})})))&&void 0!==t?t:[]),i=Object(A.a)(c,2),o=i[0],u=i[1],b=a.a.useState(""),h=Object(A.a)(b,2),p=h[0],m=h[1],x=a.a.useState(r.data),f=Object(A.a)(x,2),v=f[0],g=(f[1],a.a.useState(e.address)),y=Object(A.a)(g,2),N=y[0],S=y[1],w=Object(s.useState)(),C=Object(A.a)(w,2),E=C[0],_=C[1],R=a.a.useState(),M=Object(A.a)(R,2),L=(M[0],M[1]),D=a.a.useState(),P=Object(A.a)(D,2),B=(P[0],P[1]),z=a.a.useState(!1),Y=Object(A.a)(z,2),K=Y[0],q=Y[1],V=a.a.useState(!1),H=Object(A.a)(V,2),G=H[0],W=H[1],J=a.a.useState(!1),Q=Object(A.a)(J,2),Z=(Q[0],Q[1]);Object(s.useRef)(null);a.a.useEffect((function(){}),[o]);var X=function(){W(!1),q(void 0)};function $(){return($=Object(d.a)(l.a.mark((function e(t){var n,s,a,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t},s={method:"POST",type:"no-cors",body:JSON.stringify(n),headers:{Authorization:"Bearer "+U(),Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/getuserbyusername/",s);case 4:if((a=e.sent).ok){e.next=13;break}return e.next=8,a.json();case 8:return c=e.sent,m(c.message),e.abrupt("return");case 13:return e.next=15,a.json();case 15:i=e.sent,r.update(i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e){!function(e){te.apply(this,arguments)}(e)};function te(){return(te=Object(d.a)(l.a.mark((function e(t){var n,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{username:r.data.username,idServiceType:t.idServiceType,addressValue:t.addressValue},n={method:"POST",headers:{Authorization:"Bearer "+r.token,Accept:"application/json","Content-Type":"application/json","token-captcha":t.tokencaptcha}},e.next=4,fetch("/gdacsapi/api/register/Users/RequireTestMessage?username="+r.data.username+"&addressValue="+(3===t.idServiceType?t.addressValue.replace(/\+/g,"%2B"):t.addressValue)+"&idservicetype="+t.idServiceType,n);case 4:if((s=e.sent).ok){e.next=13;break}return e.next=8,s.json();case 8:return a=e.sent,t.messageText=a.message,e.abrupt("return");case 13:t.messageText=1===t.idServiceType?"EMAIL Test message has been sent, you'll receive it by few minutes.":"SMS Test message has been sent, you'll receive it by few minutes.";case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){!function(e){se.apply(this,arguments)}(e),function(e){$.apply(this,arguments)}(r.data.username)};function se(){return(se=Object(d.a)(l.a.mark((function e(t){var n,s,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""!==p&&m(""),n={username:r.data.username,addressValue:t.addressValue},s={method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer "+r.token,Accept:"application/json","Content-Type":"application/json","token-captcha":t.tokencaptcha}},e.next=5,fetch("/gdacsapi/"+(1===t.idServiceType?"api/register/Users/RequireEmailCode":"api/register/Users/RequireSmsCode"),s);case 5:if((a=e.sent).ok){e.next=15;break}return e.next=9,a.json();case 9:return c=e.sent,t.messageText=c.message,Z(!1),e.abrupt("return");case 15:t.disableButton=!0,t.messageText=1===t.idServiceType?"EMAIL code has been sent, you'll receive it by few minutes.":"SMS code has been sent, you'll receive it by few minutes.",Z(!0);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return re.apply(this,arguments)}function re(){return(re=Object(d.a)(l.a.mark((function e(){var t,n,s,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:r.username},n={method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+r.token,Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/getuserbyusername/",n);case 4:if((s=e.sent).ok){e.next=13;break}return e.next=8,s.json();case 8:return a=e.sent,m(a.message),e.abrupt("return");case 13:return e.next=15,s.json();case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==oe(t)){e.next=9;break}return e.next=4,ae();case 4:n=e.sent,n.addresses.filter((function(e){return e.idUserAddress===t.idUserAddress}))[0].checkcode===t.checkcode?u((function(e){var n=Object(F.a)(e),s=n.findIndex((function(e){return e.id===t.id}));return n[s]=t,L(void 0),q(!0),_(!1),t.messageText="Code inserted OK. Please click Confirm button to validate number.",n})):u((function(e){t.checkvalidate=!1;var n=Object(F.a)(e),s=n.findIndex((function(e){return e.id===t.id}));return n[s]=t,L(void 0),q(!1),_(!1),t.messageText="Code digited is not correct.",n})),e.next=10;break;case 9:_(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t="";3===e.idServiceType&&"undefined"!==e.checkcode&&(new RegExp(/^[0-9]*$/).test(e.checkcode)?4!==e.checkcode.length&&(t="The number inserted contains too many numbers. Please enter valid phone number."):t="Please enter only number.");return t},le=function(e){""!==p&&m(""),function(e){de.apply(this,arguments)}(o)};function de(){return(de=Object(d.a)(l.a.mark((function e(t){var n,s,a,c,i,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],s=0;s<t.length;s++)n.push({idUserAddress:t[s].idUserAddress,idServiceType:t[s].idServiceType,addressOption:t[s].addressOption,deviceKey:""===t[s].deviceKey,addressValue:t[s].addressValue,checkcode:t[s].checkcode,checkvalidate:t[s].checkvalidate,checkdate:t[s].checkdate,requiretest:t[s].requiretest});return a={idUser:null===v||void 0===v?void 0:v.idUser,lastName:null===v||void 0===v?void 0:v.lastName,firstName:null===v||void 0===v?void 0:v.firstName,country:null===v||void 0===v?void 0:v.country,email:null===v||void 0===v?void 0:v.email,enabled:null===v||void 0===v?void 0:v.enabled,emailOption:null===v||void 0===v?void 0:v.emailOption,username:null===v||void 0===v?void 0:v.username,password:null===v||void 0===v?void 0:v.password,notes:null===v||void 0===v?void 0:v.notes,organisation:null===v||void 0===v?void 0:v.organisation,orgtype:null===v||void 0===v?void 0:v.orgtype,status:null===v||void 0===v?void 0:v.status,datemodified:ke()(Date.now()).format("YYYY-MM-DDTHH:mm:ss"),utcOffset:null===v||void 0===v?void 0:v.utcOffset,addresses:n,services:v.services,token:v.token},c={method:"POST",body:JSON.stringify(a),headers:{Authorization:"Bearer "+U(),Accept:"application/json","Content-Type":"application/json"}},e.next=6,fetch("/gdacsapi/api/register/Users/update",c);case 6:if((i=e.sent).ok){e.next=15;break}return e.next=10,i.json();case 10:return o=e.sent,m(o.message),e.abrupt("return");case 15:return e.next=17,i.json();case 17:d=e.sent,r.update(d),W(!0);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=function(e){var t=o.findIndex((function(t){return t.id===e}));-1!==t&&(S(Object(I.a)({},o[t])),_(!0))};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Validate your Alert Channel"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",children:['1 - To validate your email, please click on "',Object(O.jsx)("b",{children:"EMAIL code"}),'" button to generate the code. The Mail containing the code validator will be sent to your mail address in few seconds.',Object(O.jsx)("br",{}),'To validate the phone number, please click on "',Object(O.jsx)("b",{children:"SMS code"}),'" button to generate the code. The SMS containing the code validator will be sent to your number in few seconds.']}),Object(O.jsxs)("div",{className:"p_summary",children:['2 - When you will receive the EMAIL or SMS, please click on "',Object(O.jsx)("b",{children:"Edit"}),'" button, insert the code in the specific box, save and']}),Object(O.jsxs)("div",{className:"p_summary",children:['3 - Click on "',Object(O.jsx)("b",{children:"Confirm"}),'" button to finalise the validation.']}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"The code can be generated every 6 hours"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"p_summary",children:["If you don't receive it please contact ",Object(O.jsx)("a",{href:"/About/contactus.aspx",target:"_blank",children:"us"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("button",{type:"button",className:"float-right btn btn-info",onClick:le,disabled:!K,children:"Confirm"})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),o.map((function(e,t){return Object(O.jsx)(Pe,{address:e,onRequestEditAddress:Ae,onRequestSentSMS:ne,onRequestSentTest:ee})})),Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("button",{type:"button",className:"float-right btn btn-info",style:{float:"right"},onClick:le,disabled:!K,children:"Confirm"})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]}),Object(O.jsxs)(T.a,{show:G,onHide:X,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Validate Your Number"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"Your addresses have been checked. Now you can receive Gdacs alerts."}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",className:"float-right",onClick:X,children:"Confirm"})})]})]}),Object(O.jsx)(ce,{from:"right",style:{width:"90%"},isOpen:E,onRequestClose:function(){_(!1),S(null),B(!1)},children:Object(O.jsx)(Le,{address:N,onRequestSaveCode:ie,onRequestCancel:function(){_(!1)}})})]})},Pe=function(e){a.a.useContext(j);var t=a.a.useState(e.address),n=Object(A.a)(t,2),r=n[0],c=n[1],i=a.a.useState(!1),o=Object(A.a)(i,2),l=o[0],d=(o[1],a.a.useState(!0)),u=Object(A.a)(d,2),b=u[0],h=u[1],p=a.a.useState(!1),m=Object(A.a)(p,2),x=m[0],v=m[1],g=(f().width,Object(s.useRef)(null));a.a.useEffect((function(){}),[r]);var y=function(t){e.onRequestSentSMS(t)};return Object(O.jsxs)("div",{children:[Object(O.jsxs)(ie.a,{className:"primary",children:[Object(O.jsx)(ie.a.Header,{style:{backgroundColor:"#0099CC",color:"white"},children:Object(O.jsx)("table",{style:{width:"100%"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{textAlign:"center",width:"20%",borderBottom:"0px"},children:1===e.address.idServiceType?Object(O.jsx)(L.a,{color:"white",size:18}):3===e.address.idServiceType?Object(O.jsx)(D.a,{color:"white",size:18}):Object(O.jsx)(P.a,{color:"white",size:18})}),Object(O.jsx)("td",{style:{borderBottom:"0px"},children:e.address.addressValue})]})})}),Object(O.jsx)(ie.a.Body,{className:"card-body flex-column h-100",children:Object(O.jsx)(ie.a.Text,{children:Object(O.jsxs)("table",{style:{width:"100%"},children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Check Code : "}),Object(O.jsx)("td",{style:{textAlign:"center"},children:!0===e.address.checkvalidate?e.address.checkcode:"----"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%"},children:"Validate : "}),Object(O.jsx)("td",{style:{textAlign:"center"},children:!0===e.address.checkvalidate&&null!=e.address.checkcode?Object(O.jsx)(le.a,{color:"#0099CC",size:18}):!1===e.address.checkvalidate&&null!==e.address.checkcode?Object(O.jsx)(M.c,{size:16}):Object(O.jsx)(_e.a,{color:"#FF0000",size:18})})]}),Object(O.jsx)("br",{}),Object(O.jsx)("tr",{children:Object(O.jsx)("td",{className:"p_summary input-feedback",style:{borderBottom:"0px"},children:e.address.messageText})}),Object(O.jsx)("br",{}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"50%",borderBottom:"0px"},children:Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(t){return n=e.address.id,e.onRequestEditAddress(n),void v(!0);var n},disabled:x||!0===e.address.checkvalidate,children:"Check Code"})}),!1===e.address.checkvalidate&&Object(O.jsx)("td",{style:{width:"50%",textAlign:"right",borderBottom:"0px"},children:1===e.address.idServiceType?Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return y(e.address)},disabled:b||l||!0===e.address.checkvalidate,children:"EMAIL Code"}):Object(O.jsx)("button",{type:"button",className:"btn btn-info",onClick:function(){return y(e.address)},disabled:b||l||!0===e.address.checkvalidate,children:"SMS Code"})}),!0===e.address.checkvalidate&&Object(O.jsx)("td",{style:{textAlign:"right",borderBottom:"0px"},children:Object(O.jsx)("button",{type:"button ",className:"btn btn-info",onClick:function(){return function(t){e.onRequestSentTest(t)}(e.address)},disabled:b||!1===e.address.checkvalidate||null===e.address.checkvalidate,children:"Test"})})]}),Object(O.jsx)("br",{}),Object(O.jsx)("tr",{children:Object(O.jsx)("td",{style:{maxWidth:"260px",borderBottom:"0px"},children:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("form",{className:"captcha",children:Object(O.jsx)(Re.a,{sitekey:"6Ldc7HAUAAAAAL7WyNQZ9MgyjunJnrTLGnh-GuTZ",ref:g,onChange:function(e){c((function(t){return t.tokencaptcha=e,t})),null!=r.tokencaptcha?h(!1):h(!0)}})})})})})]})})})]}),Object(O.jsx)("br",{})]})},Be=function(e){var t,n,s=a.a.useContext(j),r=a.a.useState(null!==(t=null===(n=s.data)||void 0===n?void 0:n.addresses.map((function(e,t){return Object(I.a)(Object(I.a)({},e),{},{id:t})})))&&void 0!==t?t:[]),c=Object(A.a)(r,2),i=c[0],o=(c[1],a.a.useState()),l=Object(A.a)(o,2),d=(l[0],l[1],a.a.useState("")),u=Object(A.a)(d,2),b=(u[0],u[1],a.a.useState(s.data)),h=Object(A.a)(b,2),p=(h[0],h[1],f().width);return a.a.useEffect((function(){}),[i]),p<520?Object(O.jsx)("div",{children:Object(O.jsx)(De,{params:e.params})}):Object(O.jsx)("div",{children:Object(O.jsx)(Ie,{params:e.params,onChange:function(t){e.onChange("addresses",t)}})})},ze=function(e){var t=Object(s.useContext)(j),n={username:t.username,password:""},r=a.a.useState(n),c=Object(A.a)(r,2),i=(c[0],c[1],a.a.useState("")),o=Object(A.a)(i,2),b=o[0],h=o[1],p=a.a.useState(!1),m=Object(A.a)(p,2),x=m[0],f=m[1],v=a.a.useState(!1),g=Object(A.a)(v,2),y=g[0],N=g[1],S=a.a.useState(!1),E=Object(A.a)(S,2),_=E[0],U=E[1],R=function(){N(!1),f(void 0),U(!0)},I=function(){N(!1),f(void 0)};if(_)return t.logout(),Object(O.jsx)(u.a,{to:"/"});var F=function(){N(!0)},M=C.a().shape({password:C.c().required("No password provided.")});function L(){return(L=Object(d.a)(l.a.mark((function e(n){var s,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:t.username,password:n.password},a={method:"POST",body:JSON.stringify(s),headers:{Authorization:"Bearer "+t.token,Accept:"application/json","Content-Type":"application/json"}},e.next=4,fetch("/gdacsapi/api/register/Users/deleteuser/",a);case 4:if((r=e.sent).ok){e.next=13;break}return e.next=8,r.json();case 8:return c=e.sent,h(c.message),e.abrupt("return");case 13:h("Your Account has been deleted."),f(!0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(w.a,{initialValues:n,validationSchema:M,onSubmit:function(e,t){(0,t.setSubmitting)(!1),function(e){L.apply(this,arguments)}(e)},children:function(e){var t=e.values,n=e.touched,s=e.errors,a=e.handleChange,r=e.handleBlur,c=e.handleSubmit;return Object(O.jsxs)("div",{className:"alerts_container col-12",children:[Object(O.jsx)("form",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Unsubscribe your User Account"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"Unsubscribe from the service. Your account will be deleted. Are you sure you want to unsubscribe from the service? In case, please enter you password."}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",name:"password",type:"password",placeholder:"Enter your password",value:t.password,onChange:a,onBlur:r}),s.password&&n.password&&Object(O.jsx)("div",{className:"input-feedback",children:s.password})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{style:{paddingRight:"20px"},children:Object(O.jsx)(k.a,{className:"float-right btn btn-primary",variant:"primary",onClick:F,children:"Confirm"})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)(T.a,{show:y,onHide:R,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"Unsubscribe Your Account"})}),x&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:b}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",onClick:R,children:"Ok"})})]}),!x&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:"If you click on button confirm, your account will be deleted. "}),Object(O.jsxs)(T.a.Footer,{children:[Object(O.jsx)(k.a,{variant:"primary",onClick:c,children:"Confirm"}),Object(O.jsx)(k.a,{variant:"secondary",onClick:I,children:"Cancel"})]})]})]})]})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})}})},Ye=(n(277),n(278),n(147)),Ke=function(e){var t=a.a.useContext(j),n=f().width,s=480;return Object(O.jsxs)("div",{className:n<s?"":"alerts_container col-12",style:{paddingLeft:"15px",paddingRight:"15px"},children:[Object(O.jsx)("br",{}),n>620&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)(Ye.a,{xs:3}),Object(O.jsx)("div",{className:"col-9",children:Object(O.jsx)("h4",{className:"d-flex justify-content-left",style:{color:"#6d9baf",fontWeight:"bold"},children:"About ALERTS"})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)(Ye.a,{xs:3}),Object(O.jsx)("div",{className:"col-9 p_summary",children:" You can set up your alert profile here."})]})]}),n<620&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{params:t.data}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3"}),Object(O.jsx)("div",{className:"col-9",children:Object(O.jsx)("h4",{className:"d-flex justify-content-left",style:{color:"#6d9baf",fontWeight:"bold"},children:"About ALERTS"})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3"}),Object(O.jsx)("div",{className:"col-9 p_summary",children:" You can set up your alert profile here."})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3",style:{paddingLeft:"50px;"},children:Object(O.jsx)(i.c,{to:{pathname:"EditProfile",navIndex:1},className:"btn btn-primary "+(n<s?"btn-sm btn-block":"btn-block "),style:{maxWidth:"150px"},children:"Edit Profile"})}),Object(O.jsx)("div",{className:"col-9 p_summary",children:"Select \u201cEdit profile\u201d to change or set the addresses on which you want to received alerts. You can set different alert preferences for different disaster types."})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3",style:{paddingLeft:"50px;"},children:Object(O.jsx)(i.c,{to:{pathname:"ChangePwd"},className:"btn btn-primary "+(n<s?"btn-sm btn-block":"btn-block "),style:{maxWidth:"150px"},children:"Change Pwd"})}),Object(O.jsx)("div",{className:"col-9 p_summary",children:"Click on the button you can change your password to safely manage your data."})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3",style:{paddingLeft:"50px;"},children:Object(O.jsx)(i.c,{to:{pathname:"UserDelete"},className:"btn btn-primary "+(n<s?"btn-sm btn-block":"btn-block "),style:{maxWidth:"150px"},children:n<s?"Delete Account":"Unsubscribe"})}),Object(O.jsx)("div",{className:"col-9 p_summary",children:"Unsubscribe from the service. Your account will be deleted."})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3",style:{paddingLeft:"50px;"},children:Object(O.jsx)(i.c,{to:{pathname:"ValidateContainer",params:e.params},className:"btn btn-primary "+(n<s?"btn-sm btn-block":"btn-block "),style:{maxWidth:"150px"},children:"Validate"})}),Object(O.jsx)("div",{className:"col-9 p_summary",children:"Validate your alert channel."})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})},qe=function(e){var t=e.params,n=a.a.useState(""),s=Object(A.a)(n,2),r=s[0],c=s[1],i=a.a.useState(""),o=Object(A.a)(i,2),j=o[0],b=o[1],h=a.a.useState({username:"",password:""}),p=Object(A.a)(h,2),m=p[0],x=p[1],v=a.a.useState(!1),g=Object(A.a)(v,2),y=(g[0],g[1]),N=a.a.useState(!0),S=Object(A.a)(N,2),E=S[0],_=S[1],U=a.a.useState(!1),R=Object(A.a)(U,2),F=R[0],M=R[1],L={idUser:(null===t||void 0===t?void 0:t.idUser)?t.idUser:0,username:null===t||void 0===t?void 0:t.username,password:null===t||void 0===t?void 0:t.password,firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,email:null===t||void 0===t?void 0:t.email,country:null===t||void 0===t?void 0:t.country,organisation:null===t||void 0===t?void 0:t.organisation,orgtype:null===t||void 0===t?void 0:t.orgtype,emailOption:null===t||void 0===t?void 0:t.emailOption,notes:null===t||void 0===t?void 0:t.notes,enabled:null===t||void 0===t?void 0:t.enabled,status:null===t||void 0===t?void 0:t.status},D=a.a.useState(L),P=Object(A.a)(D,2),B=(P[0],P[1],Object(u.f)()),z=f().width,Y=620,K=function(e){var t=Object(I.a)({},m);t[e.target.name]=e.target.value,x(t)},q=C.a().shape({username:C.c().email().required("Please insert a valid username account"),confirm_username:C.c().email().required("Please insert confirm username account").oneOf([C.b("username")],"Username's not match"),password:C.c().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#.\$%\^&\*\~\.\-])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character (!@_#$%.-&* ~)."),confirm_password:C.c().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@_#.\$%\^&\*\~\.\-])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character (!@_#$%.-&* ~).").oneOf([C.b("password")],"Password's not match").required("Required!")}),G=function(){M(!1)},W=function(){_(!E)};function J(){return(J=Object(d.a)(l.a.mark((function e(t){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/gdacsapi/"+"api/register/Users/checkusername?username=".concat(t.username));case 2:return n=e.sent,e.next=5,n.json();case 5:if(s=e.sent,n.ok){e.next=11;break}return c(s.message),e.abrupt("return");case 11:!0===s.result?(b("Your account has already exist, please check value and submit again."),M(!0)):(c("Username validate."),y(!1),B.push("/EditProfile",t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(w.a,{initialValues:L,validationSchema:q,onSubmit:function(e,t){(0,t.setSubmitting)(!1),function(e){J.apply(this,arguments)}(e)},children:function(e){var t=e.values,n=e.touched,s=e.errors,a=(e.isSubmitting,e.handleChange),c=e.handleBlur,i=e.handleSubmit;return Object(O.jsxs)("div",{className:"alerts_container col-12",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{onSubmit:i,children:[Object(O.jsx)("h4",{className:"d-flex justify-content-center hr-title",children:"Register Username  & Password"}),Object(O.jsx)("br",{}),z>Y&&Object(O.jsx)(H,{navIndex:1,user:0}),z<Y&&Object(O.jsx)(V.a,{variant:"YOU_PICK_A_NAME",now:20,label:1}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"p_summary",children:"Password: minimum 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character (!@_#$%.-&* ~)."}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{className:"form-control form-control-sm",type:"email",name:"username",value:t.username,onChange:function(e){a(e),K(e)},onBlur:c}),s.username&&n.username&&Object(O.jsx)("div",{className:"input-feedback",children:s.username})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",children:"Confirm Username"}),Object(O.jsx)("input",{className:"form-control form-control-sm",type:"email",name:"confirm_username",value:t.confirm_username,onChange:function(e){a(e),K(e)},onBlur:c}),s.confirm_username&&n.confirm_username&&Object(O.jsx)("div",{className:"input-feedback",children:s.confirm_username})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",children:"Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",type:"password",name:"password",value:t.password,onChange:function(e){a(e),K(e)},onBlur:c}),s.password&&n.password&&Object(O.jsx)("div",{className:"input-feedback",children:s.password})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{className:"label-user",children:"Confirm Password"}),Object(O.jsx)("input",{className:"form-control form-control-sm",type:"password",name:"confirm_password",value:t.confirm_password,onChange:function(e){a(e),K(e)},onBlur:c}),s.confirm_password&&n.confirm_password&&Object(O.jsx)("div",{className:"input-feedback",children:s.confirm_password})]}),Object(O.jsx)("br",{}),r&&Object(O.jsx)("div",{className:"input-feedback",children:r}),z>Y&&Object(O.jsxs)("div",{className:"col-12 row",style:{flexWrap:"nowrap",paddingRight:"0px"},children:[Object(O.jsxs)("div",{className:"col-11 row",children:[Object(O.jsx)("input",{type:"checkbox","aria-label":"Checkbox for following text input",onClick:W,style:{maxWidth:"20px",marginLeft:"10px",marginTop:"5px"}})," \xa0",Object(O.jsx)("label",{style:{fontSize:"14px",maxWidth:"600px"},children:"    Your data will not be archived until the insertion procedure is complete"})]}),Object(O.jsx)("button",{type:"button",className:"float-right btn btn-primary",onClick:i,disabled:E,children:"Confirm"})]}),z<Y&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"col-12 row",style:{flexWrap:"nowrap",paddingRight:"0px"},children:[Object(O.jsx)("input",{type:"checkbox","aria-label":"Checkbox for following text input",onClick:W,style:{maxWidth:"20px",marginLeft:"10px",marginTop:"5px"}})," \xa0",Object(O.jsx)("label",{style:{fontSize:"14px",maxWidth:"-moz-fit-content"},children:"    Your data will not be archived until the insertion procedure is complete"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"button",className:"float-right btn btn-primary",onClick:i,disabled:E,children:"Confirm"})]}),Object(O.jsxs)(T.a,{className:"d-flex justify-content-left",show:F,onHide:G,children:[Object(O.jsx)(T.a.Header,{closeButton:!0,children:Object(O.jsx)(T.a.Title,{children:"User Account"})}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a.Body,{children:j}),Object(O.jsx)(T.a.Footer,{children:Object(O.jsx)(k.a,{variant:"primary",onClick:G,children:"OK"})})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})}})};function Ve(){Ve.name;var e=a.a.useState(),t=Object(A.a)(e,2),n=t[0],s=t[1],r=a.a.useState(),c=Object(A.a)(r,2),i=c[0],o=c[1],b=a.a.useState(),h=Object(A.a)(b,2),p=h[0],m=h[1],x=a.a.useState(),f=Object(A.a)(x,2),v=f[0],g=f[1],y=a.a.useState(),N=Object(A.a)(y,2),w=N[0],C=N[1];function k(){return(k=Object(d.a)(l.a.mark((function e(t){var n,s,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t.username},s=void 0===i?t.token:i,a={method:"POST",type:"no-cors",body:JSON.stringify(n),headers:{Authorization:"Bearer "+s,Accept:"application/json","Content-Type":"application/json"}},e.next=5,fetch("/gdacsapi/api/register/Users/getuserbyusername/",a);case 5:if((r=e.sent).ok){e.next=13;break}return e.next=9,r.json();case 9:return e.sent,e.abrupt("return");case 13:return e.next=15,r.json();case 15:c=e.sent,C(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(j.Provider,{value:{isLoggedIn:n,token:i,username:p,password:v,login:function(e){var t;C(e),t=e.token,localStorage.setItem(_,JSON.stringify(t)),s(!!e.token),o(e.token),m(e.username),g(e.password)},logout:function(){s(!1),localStorage.removeItem(_),o(void 0),m(void 0),C(void 0),g(void 0)},data:w,update:function(e){!function(e){k.apply(this,arguments)}(e)}},children:Object(O.jsxs)(S,{children:[Object(O.jsx)(u.b,{exact:!0,path:"/",component:E}),Object(O.jsx)(u.b,{exct:!0,path:"/Activate",component:R}),Object(O.jsx)(u.b,{exact:!0,path:"/EditProfile",component:Te}),Object(O.jsx)(u.b,{exact:!0,path:"/Home",component:Ke}),Object(O.jsx)(u.b,{exact:!0,path:"/Register",component:qe}),Object(O.jsx)(u.b,{exact:!0,path:"/ChangePwd",component:Ee}),Object(O.jsx)(u.b,{exact:!0,path:"/ValidateContainer",component:Be}),Object(O.jsx)(u.b,{exact:!0,path:"/UserDelete",component:ze})]})})}document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementsByTagName("base")[0].getAttribute("href"),t=document.getElementById("root");ae.a.setAppElement(t),c.a.render(Object(O.jsx)(i.a,{basename:e,children:Object(O.jsx)(Ve,{})}),t)}))},28:function(e,t,n){},62:function(e,t,n){},67:function(e,t,n){}},[[279,1,2]]]);
//# sourceMappingURL=main.50c64d47.chunk.js.map